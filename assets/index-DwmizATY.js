(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var gf={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function NE(){if(Kp)return Ol;Kp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:h}}return Ol.Fragment=e,Ol.jsx=i,Ol.jsxs=i,Ol}var Zp;function ME(){return Zp||(Zp=1,gf.exports=NE()),gf.exports}var Dt=ME(),pf={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function xE(){if($p)return St;$p=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.iterator;function O(D){return D===null||typeof D!="object"?null:(D=C&&D[C]||D["@@iterator"],typeof D=="function"?D:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,tt={};function $(D,Z,nt){this.props=D,this.context=Z,this.refs=tt,this.updater=nt||H}$.prototype.isReactComponent={},$.prototype.setState=function(D,Z){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Z,"setState")},$.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function pt(){}pt.prototype=$.prototype;function ut(D,Z,nt){this.props=D,this.context=Z,this.refs=tt,this.updater=nt||H}var rt=ut.prototype=new pt;rt.constructor=ut,K(rt,$.prototype),rt.isPureReactComponent=!0;var Tt=Array.isArray,ct={H:null,A:null,T:null,S:null,V:null},ot=Object.prototype.hasOwnProperty;function V(D,Z,nt,J,dt,wt){return nt=wt.ref,{$$typeof:s,type:D,key:Z,ref:nt!==void 0?nt:null,props:wt}}function S(D,Z){return V(D.type,Z,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function N(D){var Z={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(nt){return Z[nt]})}var M=/\/+/g;function x(D,Z){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):Z.toString(36)}function w(){}function Ne(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(w,w):(D.status="pending",D.then(function(Z){D.status==="pending"&&(D.status="fulfilled",D.value=Z)},function(Z){D.status==="pending"&&(D.status="rejected",D.reason=Z)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ie(D,Z,nt,J,dt){var wt=typeof D;(wt==="undefined"||wt==="boolean")&&(D=null);var vt=!1;if(D===null)vt=!0;else switch(wt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(D.$$typeof){case s:case e:vt=!0;break;case A:return vt=D._init,ie(vt(D._payload),Z,nt,J,dt)}}if(vt)return dt=dt(D),vt=J===""?"."+x(D,0):J,Tt(dt)?(nt="",vt!=null&&(nt=vt.replace(M,"$&/")+"/"),ie(dt,Z,nt,"",function(xn){return xn})):dt!=null&&(R(dt)&&(dt=S(dt,nt+(dt.key==null||D&&D.key===dt.key?"":(""+dt.key).replace(M,"$&/")+"/")+vt)),Z.push(dt)),1;vt=0;var be=J===""?".":J+":";if(Tt(D))for(var Zt=0;Zt<D.length;Zt++)J=D[Zt],wt=be+x(J,Zt),vt+=ie(J,Z,nt,wt,dt);else if(Zt=O(D),typeof Zt=="function")for(D=Zt.call(D),Zt=0;!(J=D.next()).done;)J=J.value,wt=be+x(J,Zt++),vt+=ie(J,Z,nt,wt,dt);else if(wt==="object"){if(typeof D.then=="function")return ie(Ne(D),Z,nt,J,dt);throw Z=String(D),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return vt}function j(D,Z,nt){if(D==null)return D;var J=[],dt=0;return ie(D,J,"","",function(wt){return Z.call(nt,wt,dt++)}),J}function et(D){if(D._status===-1){var Z=D._result;Z=Z(),Z.then(function(nt){(D._status===0||D._status===-1)&&(D._status=1,D._result=nt)},function(nt){(D._status===0||D._status===-1)&&(D._status=2,D._result=nt)}),D._status===-1&&(D._status=0,D._result=Z)}if(D._status===1)return D._result.default;throw D._result}var ht=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Bt(){}return St.Children={map:j,forEach:function(D,Z,nt){j(D,function(){Z.apply(this,arguments)},nt)},count:function(D){var Z=0;return j(D,function(){Z++}),Z},toArray:function(D){return j(D,function(Z){return Z})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},St.Component=$,St.Fragment=i,St.Profiler=u,St.PureComponent=ut,St.StrictMode=a,St.Suspense=_,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct,St.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ct.H.useMemoCache(D)}},St.cache=function(D){return function(){return D.apply(null,arguments)}},St.cloneElement=function(D,Z,nt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var J=K({},D.props),dt=D.key,wt=void 0;if(Z!=null)for(vt in Z.ref!==void 0&&(wt=void 0),Z.key!==void 0&&(dt=""+Z.key),Z)!ot.call(Z,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&Z.ref===void 0||(J[vt]=Z[vt]);var vt=arguments.length-2;if(vt===1)J.children=nt;else if(1<vt){for(var be=Array(vt),Zt=0;Zt<vt;Zt++)be[Zt]=arguments[Zt+2];J.children=be}return V(D.type,dt,void 0,void 0,wt,J)},St.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},St.createElement=function(D,Z,nt){var J,dt={},wt=null;if(Z!=null)for(J in Z.key!==void 0&&(wt=""+Z.key),Z)ot.call(Z,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(dt[J]=Z[J]);var vt=arguments.length-2;if(vt===1)dt.children=nt;else if(1<vt){for(var be=Array(vt),Zt=0;Zt<vt;Zt++)be[Zt]=arguments[Zt+2];dt.children=be}if(D&&D.defaultProps)for(J in vt=D.defaultProps,vt)dt[J]===void 0&&(dt[J]=vt[J]);return V(D,wt,void 0,void 0,null,dt)},St.createRef=function(){return{current:null}},St.forwardRef=function(D){return{$$typeof:g,render:D}},St.isValidElement=R,St.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:et}},St.memo=function(D,Z){return{$$typeof:v,type:D,compare:Z===void 0?null:Z}},St.startTransition=function(D){var Z=ct.T,nt={};ct.T=nt;try{var J=D(),dt=ct.S;dt!==null&&dt(nt,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Bt,ht)}catch(wt){ht(wt)}finally{ct.T=Z}},St.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()},St.use=function(D){return ct.H.use(D)},St.useActionState=function(D,Z,nt){return ct.H.useActionState(D,Z,nt)},St.useCallback=function(D,Z){return ct.H.useCallback(D,Z)},St.useContext=function(D){return ct.H.useContext(D)},St.useDebugValue=function(){},St.useDeferredValue=function(D,Z){return ct.H.useDeferredValue(D,Z)},St.useEffect=function(D,Z,nt){var J=ct.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(D,Z)},St.useId=function(){return ct.H.useId()},St.useImperativeHandle=function(D,Z,nt){return ct.H.useImperativeHandle(D,Z,nt)},St.useInsertionEffect=function(D,Z){return ct.H.useInsertionEffect(D,Z)},St.useLayoutEffect=function(D,Z){return ct.H.useLayoutEffect(D,Z)},St.useMemo=function(D,Z){return ct.H.useMemo(D,Z)},St.useOptimistic=function(D,Z){return ct.H.useOptimistic(D,Z)},St.useReducer=function(D,Z,nt){return ct.H.useReducer(D,Z,nt)},St.useRef=function(D){return ct.H.useRef(D)},St.useState=function(D){return ct.H.useState(D)},St.useSyncExternalStore=function(D,Z,nt){return ct.H.useSyncExternalStore(D,Z,nt)},St.useTransition=function(){return ct.H.useTransition()},St.version="19.1.0",St}var Jp;function $f(){return Jp||(Jp=1,pf.exports=xE()),pf.exports}var Ie=$f(),yf={exports:{}},Nl={},_f={exports:{}},vf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function UE(){return Wp||(Wp=1,function(s){function e(j,et){var ht=j.length;j.push(et);t:for(;0<ht;){var Bt=ht-1>>>1,D=j[Bt];if(0<u(D,et))j[Bt]=et,j[ht]=D,ht=Bt;else break t}}function i(j){return j.length===0?null:j[0]}function a(j){if(j.length===0)return null;var et=j[0],ht=j.pop();if(ht!==et){j[0]=ht;t:for(var Bt=0,D=j.length,Z=D>>>1;Bt<Z;){var nt=2*(Bt+1)-1,J=j[nt],dt=nt+1,wt=j[dt];if(0>u(J,ht))dt<D&&0>u(wt,J)?(j[Bt]=wt,j[dt]=ht,Bt=dt):(j[Bt]=J,j[nt]=ht,Bt=nt);else if(dt<D&&0>u(wt,ht))j[Bt]=wt,j[dt]=ht,Bt=dt;else break t}}return et}function u(j,et){var ht=j.sortIndex-et.sortIndex;return ht!==0?ht:j.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,C=null,O=3,H=!1,K=!1,tt=!1,$=!1,pt=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function Tt(j){for(var et=i(v);et!==null;){if(et.callback===null)a(v);else if(et.startTime<=j)a(v),et.sortIndex=et.expirationTime,e(_,et);else break;et=i(v)}}function ct(j){if(tt=!1,Tt(j),!K)if(i(_)!==null)K=!0,ot||(ot=!0,x());else{var et=i(v);et!==null&&ie(ct,et.startTime-j)}}var ot=!1,V=-1,S=5,R=-1;function N(){return $?!0:!(s.unstable_now()-R<S)}function M(){if($=!1,ot){var j=s.unstable_now();R=j;var et=!0;try{t:{K=!1,tt&&(tt=!1,ut(V),V=-1),H=!0;var ht=O;try{e:{for(Tt(j),C=i(_);C!==null&&!(C.expirationTime>j&&N());){var Bt=C.callback;if(typeof Bt=="function"){C.callback=null,O=C.priorityLevel;var D=Bt(C.expirationTime<=j);if(j=s.unstable_now(),typeof D=="function"){C.callback=D,Tt(j),et=!0;break e}C===i(_)&&a(_),Tt(j)}else a(_);C=i(_)}if(C!==null)et=!0;else{var Z=i(v);Z!==null&&ie(ct,Z.startTime-j),et=!1}}break t}finally{C=null,O=ht,H=!1}et=void 0}}finally{et?x():ot=!1}}}var x;if(typeof rt=="function")x=function(){rt(M)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Ne=w.port2;w.port1.onmessage=M,x=function(){Ne.postMessage(null)}}else x=function(){pt(M,0)};function ie(j,et){V=pt(function(){j(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(j){j.callback=null},s.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(j){switch(O){case 1:case 2:case 3:var et=3;break;default:et=O}var ht=O;O=et;try{return j()}finally{O=ht}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(j,et){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ht=O;O=j;try{return et()}finally{O=ht}},s.unstable_scheduleCallback=function(j,et,ht){var Bt=s.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Bt+ht:Bt):ht=Bt,j){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ht+D,j={id:A++,callback:et,priorityLevel:j,startTime:ht,expirationTime:D,sortIndex:-1},ht>Bt?(j.sortIndex=ht,e(v,j),i(_)===null&&j===i(v)&&(tt?(ut(V),V=-1):tt=!0,ie(ct,ht-Bt))):(j.sortIndex=D,e(_,j),K||H||(K=!0,ot||(ot=!0,x()))),j},s.unstable_shouldYield=N,s.unstable_wrapCallback=function(j){var et=O;return function(){var ht=O;O=et;try{return j.apply(this,arguments)}finally{O=ht}}}}(vf)),vf}var ty;function LE(){return ty||(ty=1,_f.exports=UE()),_f.exports}var Ef={exports:{}},je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function zE(){if(ey)return je;ey=1;var s=$f();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:C==null?null:""+C,children:_,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,je.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},je.flushSync=function(_){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=A,a.d.f()}},je.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},je.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},je.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,C=g(A,v.crossOrigin),O=typeof v.integrity=="string"?v.integrity:void 0,H=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:C,integrity:O,fetchPriority:H}):A==="script"&&a.d.X(_,{crossOrigin:C,integrity:O,fetchPriority:H,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},je.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},je.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,C=g(A,v.crossOrigin);a.d.L(_,A,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},je.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},je.requestFormReset=function(_){a.d.r(_)},je.unstable_batchedUpdates=function(_,v){return _(v)},je.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},je.useFormStatus=function(){return d.H.useHostTransitionStatus()},je.version="19.1.0",je}var ny;function BE(){if(ny)return Ef.exports;ny=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ef.exports=zE(),Ef.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function PE(){if(iy)return Nl;iy=1;var s=LE(),e=$f(),i=BE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),pt=Symbol.for("react.provider"),ut=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function x(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case $:return"Profiler";case tt:return"StrictMode";case ct:return"Suspense";case ot:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case rt:return(t.displayName||"Context")+".Provider";case ut:return(t._context.displayName||"Context")+".Consumer";case Tt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return n=t.displayName||null,n!==null?n:Ne(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Ne(t(n))}catch{}}return null}var ie=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Bt=[],D=-1;function Z(t){return{current:t}}function nt(t){0>D||(t.current=Bt[D],Bt[D]=null,D--)}function J(t,n){D++,Bt[D]=t.current,t.current=n}var dt=Z(null),wt=Z(null),vt=Z(null),be=Z(null);function Zt(t,n){switch(J(vt,n),J(wt,t),J(dt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Sp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Sp(n),t=bp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(dt),J(dt,t)}function xn(){nt(dt),nt(wt),nt(vt)}function Oi(t){t.memoizedState!==null&&J(be,t);var n=dt.current,r=bp(n,t.type);n!==r&&(J(wt,t),J(dt,r))}function ei(t){wt.current===t&&(nt(dt),nt(wt)),be.current===t&&(nt(be),wl._currentValue=ht)}var _r=Object.prototype.hasOwnProperty,vr=s.unstable_scheduleCallback,Er=s.unstable_cancelCallback,Ss=s.unstable_shouldYield,iu=s.unstable_requestPaint,fn=s.unstable_now,mc=s.unstable_getCurrentPriorityLevel,bs=s.unstable_ImmediatePriority,ha=s.unstable_UserBlockingPriority,Tr=s.unstable_NormalPriority,gc=s.unstable_LowPriority,fa=s.unstable_IdlePriority,Rs=s.log,ru=s.unstable_setDisableYieldValue,re=null,Ht=null;function en(t){if(typeof Rs=="function"&&ru(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(re,t)}catch{}}var ke=Math.clz32?Math.clz32:Ar,au=Math.log,pc=Math.LN2;function Ar(t){return t>>>=0,t===0?32:31-(au(t)/pc|0)|0}var Sr=256,br=4194304;function wn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function da(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=wn(l):(y&=E,y!==0?c=wn(y):r||(r=E&~t,r!==0&&(c=wn(r))))):(E=l&~f,E!==0?c=wn(E):y!==0?c=wn(y):r||(r=l&~t,r!==0&&(c=wn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Rr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ws(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cs(){var t=Sr;return Sr<<=1,(Sr&4194048)===0&&(Sr=256),t}function Ds(){var t=br;return br<<=1,(br&62914560)===0&&(br=4194304),t}function ni(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ii(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vs(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,B=t.hiddenUpdates;for(r=y&~r;0<r;){var G=31-ke(r),Y=1<<G;E[G]=0,b[G]=-1;var P=B[G];if(P!==null)for(B[G]=null,G=0;G<P.length;G++){var q=P[G];q!==null&&(q.lane&=-536870913)}r&=~Y}l!==0&&Un(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Un(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ke(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Is(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-ke(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Ni(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ma(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Mi(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:jp(t.type))}function su(t,n){var r=et.p;try{return et.p=t,n()}finally{et.p=r}}var Wt=Math.random().toString(36).slice(2),ye="__reactFiber$"+Wt,he="__reactProps$"+Wt,dn="__reactContainer$"+Wt,Os="__reactEvents$"+Wt,yc="__reactListeners$"+Wt,xi="__reactHandles$"+Wt,lu="__reactResources$"+Wt,wr="__reactMarker$"+Wt;function Ui(t){delete t[ye],delete t[he],delete t[Os],delete t[yc],delete t[xi]}function ri(t){var n=t[ye];if(n)return n;for(var r=t.parentNode;r;){if(n=r[dn]||r[ye]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Dp(t);t!==null;){if(r=t[ye])return r;t=Dp(t)}return n}t=r,r=t.parentNode}return null}function Ln(t){if(t=t[ye]||t[dn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function zn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Fe(t){var n=t[lu];return n||(n=t[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(t){t[wr]=!0}var Ns=new Set,ga={};function Cn(t,n){ai(t,n),ai(t+"Capture",n)}function ai(t,n){for(ga[t]=n,t=0;t<n.length;t++)Ns.add(n[t])}var uu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ou={},Cr={};function cu(t){return _r.call(Cr,t)?!0:_r.call(ou,t)?!1:uu.test(t)?Cr[t]=!0:(ou[t]=!0,!1)}function Li(t,n,r){if(cu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Bn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Me(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Dr,hu;function si(t){if(Dr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Dr=n&&n[1]||"",hu=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dr+t+hu}var pa=!1;function ya(t,n){if(!t||pa)return"";pa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var P=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){P=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){P=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),B=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===B.length)for(l=b.length-1,c=B.length-1;1<=l&&0<=c&&b[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==B[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{pa=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?si(r):""}function Ms(t){switch(t.tag){case 26:case 27:case 5:return si(t.type);case 16:return si("Lazy");case 13:return si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return ya(t.type,!1);case 11:return ya(t.type.render,!1);case 1:return ya(t.type,!0);case 31:return si("Activity");default:return""}}function _a(t){try{var n="";do n+=Ms(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _c(t){var n=xs(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function va(t){t._valueTracker||(t._valueTracker=_c(t))}function Us(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=xs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Vr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var vc=/[\n"\\]/g;function fe(t){return t.replace(vc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function nn(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xe(n)):t.value!==""+Xe(n)&&(t.value=""+Xe(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?zi(t,y,Xe(n)):r!=null?zi(t,y,Xe(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Xe(E):t.removeAttribute("name")}function Ir(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Xe(r):"",n=n!=null?""+Xe(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function zi(t,n,r){n==="number"&&Vr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function li(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Xe(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+Xe(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Xe(r):""}function Or(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(ie(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Xe(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function mn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Nr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fu(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Nr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ls(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&fu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&fu(t,f,n[f])}function zs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ec=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return Tc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ui=null;function gn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oi=null,ci=null;function Bs(t){var n=Ln(t);if(n&&(t=n.stateNode)){var r=t[he]||null;t:switch(t=n.stateNode,n.type){case"input":if(nn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+fe(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[he]||null;if(!c)throw Error(a(90));nn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Us(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&li(t,!!r.multiple,n,!1)}}}var Pn=!1;function du(t,n,r){if(Pn)return t(n,r);Pn=!0;try{var l=t(n);return l}finally{if(Pn=!1,(oi!==null||ci!==null)&&(so(),oi&&(n=oi,t=ci,ci=oi=null,Bs(n),t)))for(n=0;n<t.length;n++)Bs(t[n])}}function Mr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[he]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pn=!1;if(Dn)try{var xr={};Object.defineProperty(xr,"passive",{get:function(){pn=!0}}),window.addEventListener("test",xr,xr),window.removeEventListener("test",xr,xr)}catch{pn=!1}var qn=null,Bi=null,hi=null;function Ps(){if(hi)return hi;var t,n=Bi,r=n.length,l,c="value"in qn?qn.value:qn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return hi=c.slice(t,1<l?1-l:void 0)}function kn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Hn(){return!0}function qs(){return!1}function Re(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hn:qs,this.isPropagationStopped=qs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ta=Re(qt),Ur=A({},qt,{view:0,detail:0}),mu=Re(Ur),Aa,Sa,jn,Lr=A({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jn&&(jn&&t.type==="mousemove"?(Aa=t.screenX-jn.screenX,Sa=t.screenY-jn.screenY):Sa=Aa=0,jn=t),Aa)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),yn=Re(Lr),gu=A({},Lr,{dataTransfer:0}),Ac=Re(gu),zr=A({},Ur,{relatedTarget:0}),ba=Re(zr),ks=A({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ra=Re(ks),pu=A({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wa=Re(pu),Sc=A({},qt,{data:0}),Hs=Re(Sc),Br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function js(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=_u[t])?!!n[t]:!1}function Pr(){return js}var vu=A({},Ur,{key:function(t){if(t.key){var n=Br[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=kn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pr,charCode:function(t){return t.type==="keypress"?kn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ca=Re(vu),Eu=A({},Lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gs=Re(Eu),fi=A({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pr}),Tu=Re(fi),Au=A({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Su=Re(Au),bu=A({},Lr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Da=Re(bu),Ke=A({},qt,{newState:0,oldState:0}),Ru=Re(Ke),wu=[9,13,27,32],Gn=Dn&&"CompositionEvent"in window,o=null;Dn&&"documentMode"in document&&(o=document.documentMode);var m=Dn&&"TextEvent"in window&&!o,p=Dn&&(!Gn||o&&8<o&&11>=o),T=" ",L=!1;function k(t,n){switch(t){case"keyup":return wu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nt=!1;function _e(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Mt(t,n){if(Nt)return t==="compositionend"||!Gn&&k(t,n)?(t=Ps(),hi=Bi=qn=null,Nt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var we={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!we[t.type]:n==="textarea"}function di(t,n,r,l){oi?ci?ci.push(l):ci=[l]:oi=l,n=fo(n,"onChange"),0<n.length&&(r=new Ta("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var xe=null,Qn=null;function Qs(t){_p(t,0)}function Cu(t){var n=zn(t);if(Us(n))return t}function Pd(t,n){if(t==="change")return n}var qd=!1;if(Dn){var bc;if(Dn){var Rc="oninput"in document;if(!Rc){var kd=document.createElement("div");kd.setAttribute("oninput","return;"),Rc=typeof kd.oninput=="function"}bc=Rc}else bc=!1;qd=bc&&(!document.documentMode||9<document.documentMode)}function Hd(){xe&&(xe.detachEvent("onpropertychange",jd),Qn=xe=null)}function jd(t){if(t.propertyName==="value"&&Cu(Qn)){var n=[];di(n,Qn,t,gn(t)),du(Qs,n)}}function u0(t,n,r){t==="focusin"?(Hd(),xe=n,Qn=r,xe.attachEvent("onpropertychange",jd)):t==="focusout"&&Hd()}function o0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cu(Qn)}function c0(t,n){if(t==="click")return Cu(n)}function h0(t,n){if(t==="input"||t==="change")return Cu(n)}function f0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var rn=typeof Object.is=="function"?Object.is:f0;function Ys(t,n){if(rn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!_r.call(n,c)||!rn(t[c],n[c]))return!1}return!0}function Gd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qd(t,n){var r=Gd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Gd(r)}}function Yd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Yd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Fd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Vr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Vr(t.document)}return n}function wc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var d0=Dn&&"documentMode"in document&&11>=document.documentMode,Va=null,Cc=null,Fs=null,Dc=!1;function Xd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Dc||Va==null||Va!==Vr(l)||(l=Va,"selectionStart"in l&&wc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Fs&&Ys(Fs,l)||(Fs=l,l=fo(Cc,"onSelect"),0<l.length&&(n=new Ta("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Va)))}function qr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ia={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionrun:qr("Transition","TransitionRun"),transitionstart:qr("Transition","TransitionStart"),transitioncancel:qr("Transition","TransitionCancel"),transitionend:qr("Transition","TransitionEnd")},Vc={},Kd={};Dn&&(Kd=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function kr(t){if(Vc[t])return Vc[t];if(!Ia[t])return t;var n=Ia[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Kd)return Vc[t]=n[r];return t}var Zd=kr("animationend"),$d=kr("animationiteration"),Jd=kr("animationstart"),m0=kr("transitionrun"),g0=kr("transitionstart"),p0=kr("transitioncancel"),Wd=kr("transitionend"),tm=new Map,Ic="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ic.push("scrollEnd");function Vn(t,n){tm.set(t,n),Cn(n,[t])}var em=new WeakMap;function _n(t,n){if(typeof t=="object"&&t!==null){var r=em.get(t);return r!==void 0?r:(n={value:t,source:n,stack:_a(n)},em.set(t,n),n)}return{value:t,source:n,stack:_a(n)}}var vn=[],Oa=0,Oc=0;function Du(){for(var t=Oa,n=Oc=Oa=0;n<t;){var r=vn[n];vn[n++]=null;var l=vn[n];vn[n++]=null;var c=vn[n];vn[n++]=null;var f=vn[n];if(vn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&nm(r,c,f)}}function Vu(t,n,r,l){vn[Oa++]=t,vn[Oa++]=n,vn[Oa++]=r,vn[Oa++]=l,Oc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Nc(t,n,r,l){return Vu(t,n,r,l),Iu(t)}function Na(t,n){return Vu(t,null,null,n),Iu(t)}function nm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ke(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Iu(t){if(50<_l)throw _l=0,Bh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ma={};function y0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,n,r,l){return new y0(t,n,r,l)}function Mc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mi(t,n){var r=t.alternate;return r===null?(r=an(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function im(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ou(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Mc(t)&&(y=1);else if(typeof t=="string")y=vE(t,r,dt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=an(31,r,n,c),t.elementType=R,t.lanes=f,t;case K:return Hr(r.children,c,f,n);case tt:y=8,c|=24;break;case $:return t=an(12,r,n,c|2),t.elementType=$,t.lanes=f,t;case ct:return t=an(13,r,n,c),t.elementType=ct,t.lanes=f,t;case ot:return t=an(19,r,n,c),t.elementType=ot,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pt:case rt:y=10;break t;case ut:y=9;break t;case Tt:y=11;break t;case V:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=an(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Hr(t,n,r,l){return t=an(7,t,l,n),t.lanes=r,t}function xc(t,n,r){return t=an(6,t,null,n),t.lanes=r,t}function Uc(t,n,r){return n=an(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var xa=[],Ua=0,Nu=null,Mu=0,En=[],Tn=0,jr=null,gi=1,pi="";function Gr(t,n){xa[Ua++]=Mu,xa[Ua++]=Nu,Nu=t,Mu=n}function rm(t,n,r){En[Tn++]=gi,En[Tn++]=pi,En[Tn++]=jr,jr=t;var l=gi;t=pi;var c=32-ke(l)-1;l&=~(1<<c),r+=1;var f=32-ke(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,gi=1<<32-ke(n)+c|r<<c|l,pi=f+t}else gi=1<<f|r<<c|l,pi=t}function Lc(t){t.return!==null&&(Gr(t,1),rm(t,1,0))}function zc(t){for(;t===Nu;)Nu=xa[--Ua],xa[Ua]=null,Mu=xa[--Ua],xa[Ua]=null;for(;t===jr;)jr=En[--Tn],En[Tn]=null,pi=En[--Tn],En[Tn]=null,gi=En[--Tn],En[Tn]=null}var Ze=null,ae=null,Pt=!1,Qr=null,Yn=!1,Bc=Error(a(519));function Yr(t){var n=Error(a(418,""));throw Zs(_n(n,t)),Bc}function am(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[ye]=t,n[he]=l,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<El.length;r++)It(El[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Ir(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),va(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),Or(n,l.value,l.defaultValue,l.children),va(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Ap(n.textContent,r)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=mo),n=!0):n=!1,n||Yr(t)}function sm(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Ze=Ze.return}}function Xs(t){if(t!==Ze)return!1;if(!Pt)return sm(t),Pt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||tf(t.type,t.memoizedProps)),r=!r),r&&ae&&Yr(t),sm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ae=On(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ae=null}}else n===27?(n=ae,tr(t.type)?(t=af,af=null,ae=t):ae=n):ae=Ze?On(t.stateNode.nextSibling):null;return!0}function Ks(){ae=Ze=null,Pt=!1}function lm(){var t=Qr;return t!==null&&(We===null?We=t:We.push.apply(We,t),Qr=null),t}function Zs(t){Qr===null?Qr=[t]:Qr.push(t)}var Pc=Z(null),Fr=null,yi=null;function Pi(t,n,r){J(Pc,n._currentValue),n._currentValue=r}function _i(t){t._currentValue=Pc.current,nt(Pc)}function qc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function kc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),qc(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),qc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function $s(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;rn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===be.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(wl):t=[wl])}c=c.return}t!==null&&kc(n,t,r,l),n.flags|=262144}function xu(t){for(t=t.firstContext;t!==null;){if(!rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xr(t){Fr=t,yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return um(Fr,t)}function Uu(t,n){return Fr===null&&Xr(t),um(t,n)}function um(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},yi===null){if(t===null)throw Error(a(308));yi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else yi=yi.next=n;return r}var _0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},v0=s.unstable_scheduleCallback,E0=s.unstable_NormalPriority,Ee={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hc(){return{controller:new _0,data:new Map,refCount:0}}function Js(t){t.refCount--,t.refCount===0&&v0(E0,function(){t.controller.abort()})}var Ws=null,jc=0,La=0,za=null;function T0(t,n){if(Ws===null){var r=Ws=[];jc=0,La=Qh(),za={status:"pending",value:void 0,then:function(l){r.push(l)}}}return jc++,n.then(om,om),n}function om(){if(--jc===0&&Ws!==null){za!==null&&(za.status="fulfilled");var t=Ws;Ws=null,La=0,za=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function A0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var cm=j.S;j.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&T0(t,n),cm!==null&&cm(t,n)};var Kr=Z(null);function Gc(){var t=Kr.current;return t!==null?t:$t.pooledCache}function Lu(t,n){n===null?J(Kr,Kr.current):J(Kr,n.pool)}function hm(){var t=Gc();return t===null?null:{parent:Ee._currentValue,pool:t}}var tl=Error(a(460)),fm=Error(a(474)),zu=Error(a(542)),Qc={then:function(){}};function dm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Bu(){}function mm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Bu,Bu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pm(t),t;default:if(typeof n.status=="string")n.then(Bu,Bu);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pm(t),t}throw el=n,tl}}var el=null;function gm(){if(el===null)throw Error(a(459));var t=el;return el=null,t}function pm(t){if(t===tl||t===zu)throw Error(a(483))}var qi=!1;function Yc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ki(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Hi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(jt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Iu(t),nm(t,null,r),n}return Vu(t,l,n,r),Iu(t)}function nl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Is(t,r)}}function Xc(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Kc=!1;function il(){if(Kc){var t=za;if(t!==null)throw t}}function rl(t,n,r,l){Kc=!1;var c=t.updateQueue;qi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,B=b.next;b.next=null,y===null?f=B:y.next=B,y=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=B:E.next=B,G.lastBaseUpdate=b))}if(f!==null){var Y=c.baseState;y=0,G=B=b=null,E=f;do{var P=E.lane&-536870913,q=P!==E.lane;if(q?(xt&P)===P:(l&P)===P){P!==0&&P===La&&(Kc=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var _t=t,mt=E;P=n;var Xt=r;switch(mt.tag){case 1:if(_t=mt.payload,typeof _t=="function"){Y=_t.call(Xt,Y,P);break t}Y=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=mt.payload,P=typeof _t=="function"?_t.call(Xt,Y,P):_t,P==null)break t;Y=A({},Y,P);break t;case 2:qi=!0}}P=E.callback,P!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[P]:q.push(P))}else q={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(B=G=q,b=Y):G=G.next=q,y|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);G===null&&(b=Y),c.baseState=b,c.firstBaseUpdate=B,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),Zi|=y,t.lanes=y,t.memoizedState=Y}}function ym(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function _m(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ym(r[t],n)}var Ba=Z(null),Pu=Z(0);function vm(t,n){t=Ri,J(Pu,t),J(Ba,n),Ri=t|n.baseLanes}function Zc(){J(Pu,Ri),J(Ba,Ba.current)}function $c(){Ri=Pu.current,nt(Ba),nt(Pu)}var ji=0,bt=null,Yt=null,de=null,qu=!1,Pa=!1,Zr=!1,ku=0,al=0,qa=null,S0=0;function ue(){throw Error(a(321))}function Jc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!rn(t[r],n[r]))return!1;return!0}function Wc(t,n,r,l,c,f){return ji=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=t===null||t.memoizedState===null?ng:ig,Zr=!1,f=r(l,c),Zr=!1,Pa&&(f=Tm(n,r,l,c)),Em(t),f}function Em(t){j.H=Fu;var n=Yt!==null&&Yt.next!==null;if(ji=0,de=Yt=bt=null,qu=!1,al=0,qa=null,n)throw Error(a(300));t===null||Ce||(t=t.dependencies,t!==null&&xu(t)&&(Ce=!0))}function Tm(t,n,r,l){bt=t;var c=0;do{if(Pa&&(qa=null),al=0,Pa=!1,25<=c)throw Error(a(301));if(c+=1,de=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=I0,f=n(r,l)}while(Pa);return f}function b0(){var t=j.H,n=t.useState()[0];return n=typeof n.then=="function"?sl(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(bt.flags|=1024),n}function th(){var t=ku!==0;return ku=0,t}function eh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function nh(t){if(qu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}qu=!1}ji=0,de=Yt=bt=null,Pa=!1,al=ku=0,qa=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?bt.memoizedState=de=t:de=de.next=t,de}function me(){if(Yt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=de===null?bt.memoizedState:de.next;if(n!==null)de=n,Yt=t;else{if(t===null)throw bt.alternate===null?Error(a(467)):Error(a(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},de===null?bt.memoizedState=de=t:de=de.next=t}return de}function ih(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(t){var n=al;return al+=1,qa===null&&(qa=[]),t=mm(qa,t,n),n=bt,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?ng:ig),t}function Hu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===rt)return He(t)}throw Error(a(438,String(t)))}function rh(t){var n=null,r=bt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ih(),bt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=N;return n.index++,r}function vi(t,n){return typeof n=="function"?n(t):n}function ju(t){var n=me();return ah(n,Yt,t)}function ah(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,B=n,G=!1;do{var Y=B.lane&-536870913;if(Y!==B.lane?(xt&Y)===Y:(ji&Y)===Y){var P=B.revertLane;if(P===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Y===La&&(G=!0);else if((ji&P)===P){B=B.next,P===La&&(G=!0);continue}else Y={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},b===null?(E=b=Y,y=f):b=b.next=Y,bt.lanes|=P,Zi|=P;Y=B.action,Zr&&r(f,Y),f=B.hasEagerState?B.eagerState:r(f,Y)}else P={lane:Y,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},b===null?(E=b=P,y=f):b=b.next=P,bt.lanes|=Y,Zi|=Y;B=B.next}while(B!==null&&B!==n);if(b===null?y=f:b.next=E,!rn(f,t.memoizedState)&&(Ce=!0,G&&(r=za,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function sh(t){var n=me(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);rn(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Am(t,n,r){var l=bt,c=me(),f=Pt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!rn((Yt||c).memoizedState,r);y&&(c.memoizedState=r,Ce=!0),c=c.queue;var E=Rm.bind(null,l,c,t);if(ll(2048,8,E,[t]),c.getSnapshot!==n||y||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,ka(9,Gu(),bm.bind(null,l,c,r,n),null),$t===null)throw Error(a(349));f||(ji&124)!==0||Sm(l,n,r)}return r}function Sm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=bt.updateQueue,n===null?(n=ih(),bt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function bm(t,n,r,l){n.value=r,n.getSnapshot=l,wm(n)&&Cm(t)}function Rm(t,n,r){return r(function(){wm(n)&&Cm(t)})}function wm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!rn(t,r)}catch{return!0}}function Cm(t){var n=Na(t,2);n!==null&&cn(n,t,2)}function lh(t){var n=$e();if(typeof t=="function"){var r=t;if(t=r(),Zr){en(!0);try{r()}finally{en(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:t},n}function Dm(t,n,r,l){return t.baseState=r,ah(t,Yt,typeof l=="function"?l:vi)}function R0(t,n,r,l,c){if(Yu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};j.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Vm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Vm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=j.T,y={};j.T=y;try{var E=r(c,l),b=j.S;b!==null&&b(y,E),Im(t,n,E)}catch(B){uh(t,n,B)}finally{j.T=f}}else try{f=r(c,l),Im(t,n,f)}catch(B){uh(t,n,B)}}function Im(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Om(t,n,l)},function(l){return uh(t,n,l)}):Om(t,n,r)}function Om(t,n,r){n.status="fulfilled",n.value=r,Nm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Vm(t,r)))}function uh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Nm(n),n=n.next;while(n!==l)}t.action=null}function Nm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Mm(t,n){return n}function xm(t,n){if(Pt){var r=$t.formState;if(r!==null){t:{var l=bt;if(Pt){if(ae){e:{for(var c=ae,f=Yn;c.nodeType!==8;){if(!f){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=On(c.nextSibling),l=c.data==="F!";break t}}Yr(l)}l=!1}l&&(n=r[0])}}return r=$e(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mm,lastRenderedState:n},r.queue=l,r=Wm.bind(null,bt,l),l.dispatch=r,l=lh(!1),f=dh.bind(null,bt,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=R0.bind(null,bt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Um(t){var n=me();return Lm(n,Yt,t)}function Lm(t,n,r){if(n=ah(t,n,Mm)[0],t=ju(vi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=sl(n)}catch(y){throw y===tl?zu:y}else l=n;n=me();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(bt.flags|=2048,ka(9,Gu(),w0.bind(null,c,r),null)),[l,f,t]}function w0(t,n){t.action=n}function zm(t){var n=me(),r=Yt;if(r!==null)return Lm(n,r,t);me(),n=n.memoizedState,r=me();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function ka(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=bt.updateQueue,n===null&&(n=ih(),bt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Gu(){return{destroy:void 0,resource:void 0}}function Bm(){return me().memoizedState}function Qu(t,n,r,l){var c=$e();l=l===void 0?null:l,bt.flags|=t,c.memoizedState=ka(1|n,Gu(),r,l)}function ll(t,n,r,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&Jc(l,Yt.memoizedState.deps)?c.memoizedState=ka(n,f,r,l):(bt.flags|=t,c.memoizedState=ka(1|n,f,r,l))}function Pm(t,n){Qu(8390656,8,t,n)}function qm(t,n){ll(2048,8,t,n)}function km(t,n){return ll(4,2,t,n)}function Hm(t,n){return ll(4,4,t,n)}function jm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Gm(t,n,r){r=r!=null?r.concat([t]):null,ll(4,4,jm.bind(null,n,t),r)}function oh(){}function Qm(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Jc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Ym(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Jc(n,l[1]))return l[0];if(l=t(),Zr){en(!0);try{t()}finally{en(!1)}}return r.memoizedState=[l,n],l}function ch(t,n,r){return r===void 0||(ji&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Kg(),bt.lanes|=t,Zi|=t,r)}function Fm(t,n,r,l){return rn(r,n)?r:Ba.current!==null?(t=ch(t,r,l),rn(t,n)||(Ce=!0),t):(ji&42)===0?(Ce=!0,t.memoizedState=r):(t=Kg(),bt.lanes|=t,Zi|=t,n)}function Xm(t,n,r,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var y=j.T,E={};j.T=E,dh(t,!1,n,r);try{var b=c(),B=j.S;if(B!==null&&B(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=A0(b,l);ul(t,n,G,on(t))}else ul(t,n,l,on(t))}catch(Y){ul(t,n,{then:function(){},status:"rejected",reason:Y},on())}finally{et.p=f,j.T=y}}function C0(){}function hh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Km(t).queue;Xm(t,c,n,ht,r===null?C0:function(){return Zm(t),r(l)})}function Km(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:ht},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Zm(t){var n=Km(t).next.queue;ul(t,n,{},on())}function fh(){return He(wl)}function $m(){return me().memoizedState}function Jm(){return me().memoizedState}function D0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=on();t=ki(r);var l=Hi(n,t,r);l!==null&&(cn(l,n,r),nl(l,n,r)),n={cache:Hc()},t.payload=n;return}n=n.return}}function V0(t,n,r){var l=on();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Yu(t)?tg(n,r):(r=Nc(t,n,r,l),r!==null&&(cn(r,t,l),eg(r,n,l)))}function Wm(t,n,r){var l=on();ul(t,n,r,l)}function ul(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))tg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,rn(E,y))return Vu(t,n,c,0),$t===null&&Du(),!1}catch{}finally{}if(r=Nc(t,n,c,l),r!==null)return cn(r,t,l),eg(r,n,l),!0}return!1}function dh(t,n,r,l){if(l={lane:2,revertLane:Qh(),action:l,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(n)throw Error(a(479))}else n=Nc(t,r,l,2),n!==null&&cn(n,t,2)}function Yu(t){var n=t.alternate;return t===bt||n!==null&&n===bt}function tg(t,n){Pa=qu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function eg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Is(t,r)}}var Fu={readContext:He,use:Hu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},ng={readContext:He,use:Hu,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:Pm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Qu(4194308,4,jm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Qu(4194308,4,t,n)},useInsertionEffect:function(t,n){Qu(4,2,t,n)},useMemo:function(t,n){var r=$e();n=n===void 0?null:n;var l=t();if(Zr){en(!0);try{t()}finally{en(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=$e();if(r!==void 0){var c=r(n);if(Zr){en(!0);try{r(n)}finally{en(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=V0.bind(null,bt,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=lh(t);var n=t.queue,r=Wm.bind(null,bt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:oh,useDeferredValue:function(t,n){var r=$e();return ch(r,t,n)},useTransition:function(){var t=lh(!1);return t=Xm.bind(null,bt,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=bt,c=$e();if(Pt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),$t===null)throw Error(a(349));(xt&124)!==0||Sm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Pm(Rm.bind(null,l,f,t),[t]),l.flags|=2048,ka(9,Gu(),bm.bind(null,l,f,r,n),null),r},useId:function(){var t=$e(),n=$t.identifierPrefix;if(Pt){var r=pi,l=gi;r=(l&~(1<<32-ke(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=ku++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=S0++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:fh,useFormState:xm,useActionState:xm,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=dh.bind(null,bt,!0,r),r.dispatch=n,[t,n]},useMemoCache:rh,useCacheRefresh:function(){return $e().memoizedState=D0.bind(null,bt)}},ig={readContext:He,use:Hu,useCallback:Qm,useContext:He,useEffect:qm,useImperativeHandle:Gm,useInsertionEffect:km,useLayoutEffect:Hm,useMemo:Ym,useReducer:ju,useRef:Bm,useState:function(){return ju(vi)},useDebugValue:oh,useDeferredValue:function(t,n){var r=me();return Fm(r,Yt.memoizedState,t,n)},useTransition:function(){var t=ju(vi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:sl(t),n]},useSyncExternalStore:Am,useId:$m,useHostTransitionStatus:fh,useFormState:Um,useActionState:Um,useOptimistic:function(t,n){var r=me();return Dm(r,Yt,t,n)},useMemoCache:rh,useCacheRefresh:Jm},I0={readContext:He,use:Hu,useCallback:Qm,useContext:He,useEffect:qm,useImperativeHandle:Gm,useInsertionEffect:km,useLayoutEffect:Hm,useMemo:Ym,useReducer:sh,useRef:Bm,useState:function(){return sh(vi)},useDebugValue:oh,useDeferredValue:function(t,n){var r=me();return Yt===null?ch(r,t,n):Fm(r,Yt.memoizedState,t,n)},useTransition:function(){var t=sh(vi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:sl(t),n]},useSyncExternalStore:Am,useId:$m,useHostTransitionStatus:fh,useFormState:zm,useActionState:zm,useOptimistic:function(t,n){var r=me();return Yt!==null?Dm(r,Yt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:rh,useCacheRefresh:Jm},Ha=null,ol=0;function Xu(t){var n=ol;return ol+=1,Ha===null&&(Ha=[]),mm(Ha,t,n)}function cl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ku(t,n){throw n.$$typeof===C?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function rg(t){var n=t._init;return n(t._payload)}function ag(t){function n(U,I){if(t){var z=U.deletions;z===null?(U.deletions=[I],U.flags|=16):z.push(I)}}function r(U,I){if(!t)return null;for(;I!==null;)n(U,I),I=I.sibling;return null}function l(U){for(var I=new Map;U!==null;)U.key!==null?I.set(U.key,U):I.set(U.index,U),U=U.sibling;return I}function c(U,I){return U=mi(U,I),U.index=0,U.sibling=null,U}function f(U,I,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<I?(U.flags|=67108866,I):z):(U.flags|=67108866,I)):(U.flags|=1048576,I)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,I,z,Q){return I===null||I.tag!==6?(I=xc(z,U.mode,Q),I.return=U,I):(I=c(I,z),I.return=U,I)}function b(U,I,z,Q){var at=z.type;return at===K?G(U,I,z.props.children,Q,z.key):I!==null&&(I.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&rg(at)===I.type)?(I=c(I,z.props),cl(I,z),I.return=U,I):(I=Ou(z.type,z.key,z.props,null,U.mode,Q),cl(I,z),I.return=U,I)}function B(U,I,z,Q){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=Uc(z,U.mode,Q),I.return=U,I):(I=c(I,z.children||[]),I.return=U,I)}function G(U,I,z,Q,at){return I===null||I.tag!==7?(I=Hr(z,U.mode,Q,at),I.return=U,I):(I=c(I,z),I.return=U,I)}function Y(U,I,z){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=xc(""+I,U.mode,z),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case O:return z=Ou(I.type,I.key,I.props,null,U.mode,z),cl(z,I),z.return=U,z;case H:return I=Uc(I,U.mode,z),I.return=U,I;case S:var Q=I._init;return I=Q(I._payload),Y(U,I,z)}if(ie(I)||x(I))return I=Hr(I,U.mode,z,null),I.return=U,I;if(typeof I.then=="function")return Y(U,Xu(I),z);if(I.$$typeof===rt)return Y(U,Uu(U,I),z);Ku(U,I)}return null}function P(U,I,z,Q){var at=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return at!==null?null:E(U,I,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case O:return z.key===at?b(U,I,z,Q):null;case H:return z.key===at?B(U,I,z,Q):null;case S:return at=z._init,z=at(z._payload),P(U,I,z,Q)}if(ie(z)||x(z))return at!==null?null:G(U,I,z,Q,null);if(typeof z.then=="function")return P(U,I,Xu(z),Q);if(z.$$typeof===rt)return P(U,I,Uu(U,z),Q);Ku(U,z)}return null}function q(U,I,z,Q,at){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(z)||null,E(I,U,""+Q,at);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case O:return U=U.get(Q.key===null?z:Q.key)||null,b(I,U,Q,at);case H:return U=U.get(Q.key===null?z:Q.key)||null,B(I,U,Q,at);case S:var Ct=Q._init;return Q=Ct(Q._payload),q(U,I,z,Q,at)}if(ie(Q)||x(Q))return U=U.get(z)||null,G(I,U,Q,at,null);if(typeof Q.then=="function")return q(U,I,z,Xu(Q),at);if(Q.$$typeof===rt)return q(U,I,z,Uu(I,Q),at);Ku(I,Q)}return null}function _t(U,I,z,Q){for(var at=null,Ct=null,lt=I,gt=I=0,Ve=null;lt!==null&&gt<z.length;gt++){lt.index>gt?(Ve=lt,lt=null):Ve=lt.sibling;var zt=P(U,lt,z[gt],Q);if(zt===null){lt===null&&(lt=Ve);break}t&&lt&&zt.alternate===null&&n(U,lt),I=f(zt,I,gt),Ct===null?at=zt:Ct.sibling=zt,Ct=zt,lt=Ve}if(gt===z.length)return r(U,lt),Pt&&Gr(U,gt),at;if(lt===null){for(;gt<z.length;gt++)lt=Y(U,z[gt],Q),lt!==null&&(I=f(lt,I,gt),Ct===null?at=lt:Ct.sibling=lt,Ct=lt);return Pt&&Gr(U,gt),at}for(lt=l(lt);gt<z.length;gt++)Ve=q(lt,U,gt,z[gt],Q),Ve!==null&&(t&&Ve.alternate!==null&&lt.delete(Ve.key===null?gt:Ve.key),I=f(Ve,I,gt),Ct===null?at=Ve:Ct.sibling=Ve,Ct=Ve);return t&&lt.forEach(function(ar){return n(U,ar)}),Pt&&Gr(U,gt),at}function mt(U,I,z,Q){if(z==null)throw Error(a(151));for(var at=null,Ct=null,lt=I,gt=I=0,Ve=null,zt=z.next();lt!==null&&!zt.done;gt++,zt=z.next()){lt.index>gt?(Ve=lt,lt=null):Ve=lt.sibling;var ar=P(U,lt,zt.value,Q);if(ar===null){lt===null&&(lt=Ve);break}t&&lt&&ar.alternate===null&&n(U,lt),I=f(ar,I,gt),Ct===null?at=ar:Ct.sibling=ar,Ct=ar,lt=Ve}if(zt.done)return r(U,lt),Pt&&Gr(U,gt),at;if(lt===null){for(;!zt.done;gt++,zt=z.next())zt=Y(U,zt.value,Q),zt!==null&&(I=f(zt,I,gt),Ct===null?at=zt:Ct.sibling=zt,Ct=zt);return Pt&&Gr(U,gt),at}for(lt=l(lt);!zt.done;gt++,zt=z.next())zt=q(lt,U,gt,zt.value,Q),zt!==null&&(t&&zt.alternate!==null&&lt.delete(zt.key===null?gt:zt.key),I=f(zt,I,gt),Ct===null?at=zt:Ct.sibling=zt,Ct=zt);return t&&lt.forEach(function(OE){return n(U,OE)}),Pt&&Gr(U,gt),at}function Xt(U,I,z,Q){if(typeof z=="object"&&z!==null&&z.type===K&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case O:t:{for(var at=z.key;I!==null;){if(I.key===at){if(at=z.type,at===K){if(I.tag===7){r(U,I.sibling),Q=c(I,z.props.children),Q.return=U,U=Q;break t}}else if(I.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&rg(at)===I.type){r(U,I.sibling),Q=c(I,z.props),cl(Q,z),Q.return=U,U=Q;break t}r(U,I);break}else n(U,I);I=I.sibling}z.type===K?(Q=Hr(z.props.children,U.mode,Q,z.key),Q.return=U,U=Q):(Q=Ou(z.type,z.key,z.props,null,U.mode,Q),cl(Q,z),Q.return=U,U=Q)}return y(U);case H:t:{for(at=z.key;I!==null;){if(I.key===at)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){r(U,I.sibling),Q=c(I,z.children||[]),Q.return=U,U=Q;break t}else{r(U,I);break}else n(U,I);I=I.sibling}Q=Uc(z,U.mode,Q),Q.return=U,U=Q}return y(U);case S:return at=z._init,z=at(z._payload),Xt(U,I,z,Q)}if(ie(z))return _t(U,I,z,Q);if(x(z)){if(at=x(z),typeof at!="function")throw Error(a(150));return z=at.call(z),mt(U,I,z,Q)}if(typeof z.then=="function")return Xt(U,I,Xu(z),Q);if(z.$$typeof===rt)return Xt(U,I,Uu(U,z),Q);Ku(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,I!==null&&I.tag===6?(r(U,I.sibling),Q=c(I,z),Q.return=U,U=Q):(r(U,I),Q=xc(z,U.mode,Q),Q.return=U,U=Q),y(U)):r(U,I)}return function(U,I,z,Q){try{ol=0;var at=Xt(U,I,z,Q);return Ha=null,at}catch(lt){if(lt===tl||lt===zu)throw lt;var Ct=an(29,lt,null,U.mode);return Ct.lanes=Q,Ct.return=U,Ct}finally{}}}var ja=ag(!0),sg=ag(!1),An=Z(null),Fn=null;function Gi(t){var n=t.alternate;J(Te,Te.current&1),J(An,t),Fn===null&&(n===null||Ba.current!==null||n.memoizedState!==null)&&(Fn=t)}function lg(t){if(t.tag===22){if(J(Te,Te.current),J(An,t),Fn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Fn=t)}}else Qi()}function Qi(){J(Te,Te.current),J(An,An.current)}function Ei(t){nt(An),Fn===t&&(Fn=null),nt(Te)}var Te=Z(0);function Zu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||rf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function mh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var gh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=on(),c=ki(l);c.payload=n,r!=null&&(c.callback=r),n=Hi(t,c,l),n!==null&&(cn(n,t,l),nl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=on(),c=ki(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Hi(t,c,l),n!==null&&(cn(n,t,l),nl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=on(),l=ki(r);l.tag=2,n!=null&&(l.callback=n),n=Hi(t,l,r),n!==null&&(cn(n,t,r),nl(n,t,r))}};function ug(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Ys(r,l)||!Ys(c,f):!0}function og(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&gh.enqueueReplaceState(n,n.state,null)}function $r(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var $u=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function cg(t){$u(t)}function hg(t){console.error(t)}function fg(t){$u(t)}function Ju(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function dg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function ph(t,n,r){return r=ki(r),r.tag=3,r.payload={element:null},r.callback=function(){Ju(t,n)},r}function mg(t){return t=ki(t),t.tag=3,t}function gg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){dg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){dg(n,r,l),typeof c!="function"&&($i===null?$i=new Set([this]):$i.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function O0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&$s(n,r,c,!0),r=An.current,r!==null){switch(r.tag){case 13:return Fn===null?qh():r.alternate===null&&se===0&&(se=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Qc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Hh(t,l,c)),!1;case 22:return r.flags|=65536,l===Qc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Hh(t,l,c)),!1}throw Error(a(435,r.tag))}return Hh(t,l,c),qh(),!1}if(Pt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Bc&&(t=Error(a(422),{cause:l}),Zs(_n(t,r)))):(l!==Bc&&(n=Error(a(423),{cause:l}),Zs(_n(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=_n(l,r),c=ph(t.stateNode,l,c),Xc(t,c),se!==4&&(se=2)),!1;var f=Error(a(520),{cause:l});if(f=_n(f,r),yl===null?yl=[f]:yl.push(f),se!==4&&(se=2),n===null)return!0;l=_n(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=ph(r.stateNode,l,t),Xc(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($i===null||!$i.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=mg(c),gg(c,t,r,l),Xc(r,c),!1}r=r.return}while(r!==null);return!1}var pg=Error(a(461)),Ce=!1;function Ue(t,n,r,l){n.child=t===null?sg(n,null,r,l):ja(n,t.child,r,l)}function yg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Xr(n),l=Wc(t,n,r,y,f,c),E=th(),t!==null&&!Ce?(eh(t,n,c),Ti(t,n,c)):(Pt&&E&&Lc(n),n.flags|=1,Ue(t,n,l,c),n.child)}function _g(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Mc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,vg(t,n,f,l,c)):(t=Ou(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!bh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ys,r(y,l)&&t.ref===n.ref)return Ti(t,n,c)}return n.flags|=1,t=mi(f,l),t.ref=n.ref,t.return=n,n.child=t}function vg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Ys(f,l)&&t.ref===n.ref)if(Ce=!1,n.pendingProps=l=f,bh(t,c))(t.flags&131072)!==0&&(Ce=!0);else return n.lanes=t.lanes,Ti(t,n,c)}return yh(t,n,r,l,c)}function Eg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Tg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Lu(n,f!==null?f.cachePool:null),f!==null?vm(n,f):Zc(),lg(n);else return n.lanes=n.childLanes=536870912,Tg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Lu(n,f.cachePool),vm(n,f),Qi(),n.memoizedState=null):(t!==null&&Lu(n,null),Zc(),Qi());return Ue(t,n,c,r),n.child}function Tg(t,n,r,l){var c=Gc();return c=c===null?null:{parent:Ee._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Lu(n,null),Zc(),lg(n),t!==null&&$s(t,n,l,!0),null}function Wu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function yh(t,n,r,l,c){return Xr(n),r=Wc(t,n,r,l,void 0,c),l=th(),t!==null&&!Ce?(eh(t,n,c),Ti(t,n,c)):(Pt&&l&&Lc(n),n.flags|=1,Ue(t,n,r,c),n.child)}function Ag(t,n,r,l,c,f){return Xr(n),n.updateQueue=null,r=Tm(n,l,r,c),Em(t),l=th(),t!==null&&!Ce?(eh(t,n,f),Ti(t,n,f)):(Pt&&l&&Lc(n),n.flags|=1,Ue(t,n,r,f),n.child)}function Sg(t,n,r,l,c){if(Xr(n),n.stateNode===null){var f=Ma,y=r.contextType;typeof y=="object"&&y!==null&&(f=He(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=gh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Yc(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?He(y):Ma,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(mh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&gh.enqueueReplaceState(f,f.state,null),rl(n,l,f,c),il(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=$r(r,E);f.props=b;var B=f.context,G=r.contextType;y=Ma,typeof G=="object"&&G!==null&&(y=He(G));var Y=r.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==y)&&og(n,f,l,y),qi=!1;var P=n.memoizedState;f.state=P,rl(n,l,f,c),il(),B=n.memoizedState,E||P!==B||qi?(typeof Y=="function"&&(mh(n,r,Y,l),B=n.memoizedState),(b=qi||ug(n,r,b,l,P,B,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Fc(t,n),y=n.memoizedProps,G=$r(r,y),f.props=G,Y=n.pendingProps,P=f.context,B=r.contextType,b=Ma,typeof B=="object"&&B!==null&&(b=He(B)),E=r.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||P!==b)&&og(n,f,l,b),qi=!1,P=n.memoizedState,f.state=P,rl(n,l,f,c),il();var q=n.memoizedState;y!==Y||P!==q||qi||t!==null&&t.dependencies!==null&&xu(t.dependencies)?(typeof E=="function"&&(mh(n,r,E,l),q=n.memoizedState),(G=qi||ug(n,r,G,l,P,q,b)||t!==null&&t.dependencies!==null&&xu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=b,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Wu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ja(n,t.child,null,c),n.child=ja(n,null,r,c)):Ue(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ti(t,n,c),t}function bg(t,n,r,l){return Ks(),n.flags|=256,Ue(t,n,r,l),n.child}var _h={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vh(t){return{baseLanes:t,cachePool:hm()}}function Eh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Sn),t}function Rg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Te.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?Gi(n):Qi(),Pt){var E=ae,b;if(b=E){t:{for(b=E,E=Yn;b.nodeType!==8;){if(!E){E=null;break t}if(b=On(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:jr!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},b=an(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,ae=null,b=!0):b=!1}b||Yr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return rf(E)?n.lanes=32:n.lanes=536870912,null;Ei(n)}return E=l.children,l=l.fallback,c?(Qi(),c=n.mode,E=to({mode:"hidden",children:E},c),l=Hr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=vh(r),c.childLanes=Eh(t,y,r),n.memoizedState=_h,l):(Gi(n),Th(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Gi(n),n.flags&=-257,n=Ah(t,n,r)):n.memoizedState!==null?(Qi(),n.child=t.child,n.flags|=128,n=null):(Qi(),c=l.fallback,E=n.mode,l=to({mode:"visible",children:l.children},E),c=Hr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ja(n,t.child,null,r),l=n.child,l.memoizedState=vh(r),l.childLanes=Eh(t,y,r),n.memoizedState=_h,n=c);else if(Gi(n),rf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var B=y.dgst;y=B,l=Error(a(419)),l.stack="",l.digest=y,Zs({value:l,source:null,stack:null}),n=Ah(t,n,r)}else if(Ce||$s(t,n,r,!1),y=(r&t.childLanes)!==0,Ce||y){if(y=$t,y!==null&&(l=r&-r,l=(l&42)!==0?1:Ni(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Na(t,l),cn(y,t,l),pg;E.data==="$?"||qh(),n=Ah(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,ae=On(E.nextSibling),Ze=n,Pt=!0,Qr=null,Yn=!1,t!==null&&(En[Tn++]=gi,En[Tn++]=pi,En[Tn++]=jr,gi=t.id,pi=t.overflow,jr=n),n=Th(n,l.children),n.flags|=4096);return n}return c?(Qi(),c=l.fallback,E=n.mode,b=t.child,B=b.sibling,l=mi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,B!==null?c=mi(B,c):(c=Hr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=vh(r):(b=E.cachePool,b!==null?(B=Ee._currentValue,b=b.parent!==B?{parent:B,pool:B}:b):b=hm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=Eh(t,y,r),n.memoizedState=_h,l):(Gi(n),r=t.child,t=r.sibling,r=mi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Th(t,n){return n=to({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function to(t,n){return t=an(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ah(t,n,r){return ja(n,t.child,null,r),t=Th(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function wg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),qc(t.return,n,r)}function Sh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Cg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ue(t,n,l.children,r),l=Te.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wg(t,r,n);else if(t.tag===19)wg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(J(Te,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Zu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Sh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Zu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Sh(n,!0,r,null,f);break;case"together":Sh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ti(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Zi|=n.lanes,(r&n.childLanes)===0)if(t!==null){if($s(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=mi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=mi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function bh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&xu(t)))}function N0(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Pi(n,Ee,t.memoizedState.cache),Ks();break;case 27:case 5:Oi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Pi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Gi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Rg(t,n,r):(Gi(n),t=Ti(t,n,r),t!==null?t.sibling:null);Gi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||($s(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Cg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(Te,Te.current),l)break;return null;case 22:case 23:return n.lanes=0,Eg(t,n,r);case 24:Pi(n,Ee,t.memoizedState.cache)}return Ti(t,n,r)}function Dg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ce=!0;else{if(!bh(t,r)&&(n.flags&128)===0)return Ce=!1,N0(t,n,r);Ce=(t.flags&131072)!==0}else Ce=!1,Pt&&(n.flags&1048576)!==0&&rm(n,Mu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Mc(l)?(t=$r(l,t),n.tag=1,n=Sg(null,n,l,t,r)):(n.tag=0,n=yh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Tt){n.tag=11,n=yg(null,n,l,t,r);break t}else if(c===V){n.tag=14,n=_g(null,n,l,t,r);break t}}throw n=Ne(l)||l,Error(a(306,n,""))}}return n;case 0:return yh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=$r(l,n.pendingProps),Sg(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Fc(t,n),rl(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Pi(n,Ee,l),l!==f.cache&&kc(n,[Ee],r,!0),il(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=bg(t,n,l,r);break t}else if(l!==c){c=_n(Error(a(424)),n),Zs(c),n=bg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=On(t.firstChild),Ze=n,Pt=!0,Qr=null,Yn=!0,r=sg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ks(),l===c){n=Ti(t,n,r);break t}Ue(t,n,l,r)}n=n.child}return n;case 26:return Wu(t,n),t===null?(r=Np(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pt||(r=n.type,t=n.pendingProps,l=go(vt.current).createElement(r),l[ye]=n,l[he]=t,ze(l,r,t),le(l),n.stateNode=l):n.memoizedState=Np(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Oi(n),t===null&&Pt&&(l=n.stateNode=Vp(n.type,n.pendingProps,vt.current),Ze=n,Yn=!0,c=ae,tr(n.type)?(af=c,ae=On(l.firstChild)):ae=c),Ue(t,n,n.pendingProps.children,r),Wu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pt&&((c=l=ae)&&(l=sE(l,n.type,n.pendingProps,Yn),l!==null?(n.stateNode=l,Ze=n,ae=On(l.firstChild),Yn=!1,c=!0):c=!1),c||Yr(n)),Oi(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,tf(c,f)?l=null:y!==null&&tf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Wc(t,n,b0,null,null,r),wl._currentValue=c),Wu(t,n),Ue(t,n,l,r),n.child;case 6:return t===null&&Pt&&((t=r=ae)&&(r=lE(r,n.pendingProps,Yn),r!==null?(n.stateNode=r,Ze=n,ae=null,t=!0):t=!1),t||Yr(n)),null;case 13:return Rg(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ja(n,null,l,r):Ue(t,n,l,r),n.child;case 11:return yg(t,n,n.type,n.pendingProps,r);case 7:return Ue(t,n,n.pendingProps,r),n.child;case 8:return Ue(t,n,n.pendingProps.children,r),n.child;case 12:return Ue(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Pi(n,n.type,l.value),Ue(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Xr(n),c=He(c),l=l(c),n.flags|=1,Ue(t,n,l,r),n.child;case 14:return _g(t,n,n.type,n.pendingProps,r);case 15:return vg(t,n,n.type,n.pendingProps,r);case 19:return Cg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=to(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=mi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Eg(t,n,r);case 24:return Xr(n),l=He(Ee),t===null?(c=Gc(),c===null&&(c=$t,f=Hc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Yc(n),Pi(n,Ee,c)):((t.lanes&r)!==0&&(Fc(t,n),rl(n,null,null,r),il()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Pi(n,Ee,l)):(l=f.cache,Pi(n,Ee,l),l!==c.cache&&kc(n,[Ee],r,!0))),Ue(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ai(t){t.flags|=4}function Vg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!zp(n)){if(n=An.current,n!==null&&((xt&4194048)===xt?Fn!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==Fn))throw el=Qc,fm;t.flags|=8192}}function eo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ds():536870912,t.lanes|=n,Fa|=n)}function hl(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function M0(t,n,r){var l=n.pendingProps;switch(zc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),_i(Ee),xn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xs(n)?Ai(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,lm())),ee(n),null;case 26:return r=n.memoizedState,t===null?(Ai(n),r!==null?(ee(n),Vg(n,r)):(ee(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ai(n),ee(n),Vg(n,r)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ai(n),ee(n),n.flags&=-16777217),null;case 27:ei(n),r=vt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ai(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}t=dt.current,Xs(n)?am(n):(t=Vp(c,l,r),n.stateNode=t,Ai(n))}return ee(n),null;case 5:if(ei(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ai(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(t=dt.current,Xs(n))am(n);else{switch(c=go(vt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[ye]=n,t[he]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ai(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ai(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=vt.current,Xs(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ye]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Ap(t.nodeValue,r)),t||Yr(n)}else t=go(t).createTextNode(l),t[ye]=n,n.stateNode=t}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Xs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[ye]=n}else Ks(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=lm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ei(n),n):(Ei(n),null)}if(Ei(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),eo(n,n.updateQueue),ee(n),null;case 4:return xn(),t===null&&Kh(n.stateNode.containerInfo),ee(n),null;case 10:return _i(n.type),ee(n),null;case 19:if(nt(Te),c=n.memoizedState,c===null)return ee(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)hl(c,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Zu(t),f!==null){for(n.flags|=128,hl(c,!1),t=f.updateQueue,n.updateQueue=t,eo(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)im(r,t),r=r.sibling;return J(Te,Te.current&1|2),n.child}t=t.sibling}c.tail!==null&&fn()>ro&&(n.flags|=128,l=!0,hl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Zu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,eo(n,t),hl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Pt)return ee(n),null}else 2*fn()-c.renderingStartTime>ro&&r!==536870912&&(n.flags|=128,l=!0,hl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=fn(),n.sibling=null,t=Te.current,J(Te,l?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return Ei(n),$c(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&eo(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&nt(Kr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),_i(Ee),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function x0(t,n){switch(zc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return _i(Ee),xn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ei(n),null;case 13:if(Ei(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ks()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Te),null;case 4:return xn(),null;case 10:return _i(n.type),null;case 22:case 23:return Ei(n),$c(),t!==null&&nt(Kr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return _i(Ee),null;case 25:return null;default:return null}}function Ig(t,n){switch(zc(n),n.tag){case 3:_i(Ee),xn();break;case 26:case 27:case 5:ei(n);break;case 4:xn();break;case 13:Ei(n);break;case 19:nt(Te);break;case 10:_i(n.type);break;case 22:case 23:Ei(n),$c(),t!==null&&nt(Kr);break;case 24:_i(Ee)}}function fl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Kt(n,n.return,E)}}function Yi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,B=E;try{B()}catch(G){Kt(c,b,G)}}}l=l.next}while(l!==f)}}catch(G){Kt(n,n.return,G)}}function Og(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{_m(n,r)}catch(l){Kt(t,t.return,l)}}}function Ng(t,n,r){r.props=$r(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Kt(t,n,l)}}function dl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Kt(t,n,c)}}function Xn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Kt(t,n,c)}else r.current=null}function Mg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Kt(t,t.return,c)}}function Rh(t,n,r){try{var l=t.stateNode;eE(l,t.type,r,n),l[he]=n}catch(c){Kt(t,t.return,c)}}function xg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&tr(t.type)||t.tag===4}function wh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||xg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&tr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ch(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=mo));else if(l!==4&&(l===27&&tr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Ch(t,n,r),t=t.sibling;t!==null;)Ch(t,n,r),t=t.sibling}function no(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&tr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(no(t,n,r),t=t.sibling;t!==null;)no(t,n,r),t=t.sibling}function Ug(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ze(n,l,r),n[ye]=t,n[he]=r}catch(f){Kt(t,t.return,f)}}var Si=!1,oe=!1,Dh=!1,Lg=typeof WeakSet=="function"?WeakSet:Set,De=null;function U0(t,n){if(t=t.containerInfo,Jh=To,t=Fd(t),wc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,B=0,G=0,Y=t,P=null;e:for(;;){for(var q;Y!==r||c!==0&&Y.nodeType!==3||(E=y+c),Y!==f||l!==0&&Y.nodeType!==3||(b=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(q=Y.firstChild)!==null;)P=Y,Y=q;for(;;){if(Y===t)break e;if(P===r&&++B===c&&(E=y),P===f&&++G===l&&(b=y),(q=Y.nextSibling)!==null)break;Y=P,P=Y.parentNode}Y=q}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wh={focusedElem:t,selectionRange:r},To=!1,De=n;De!==null;)if(n=De,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,De=t;else for(;De!==null;){switch(n=De,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var _t=$r(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(_t,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(mt){Kt(r,r.return,mt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)nf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":nf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,De=t;break}De=n.return}}function zg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Fi(t,r),l&4&&fl(5,r);break;case 1:if(Fi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Kt(r,r.return,y)}else{var c=$r(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Kt(r,r.return,y)}}l&64&&Og(r),l&512&&dl(r,r.return);break;case 3:if(Fi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{_m(t,n)}catch(y){Kt(r,r.return,y)}}break;case 27:n===null&&l&4&&Ug(r);case 26:case 5:Fi(t,r),n===null&&l&4&&Mg(r),l&512&&dl(r,r.return);break;case 12:Fi(t,r);break;case 13:Fi(t,r),l&4&&qg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=G0.bind(null,r),uE(t,r))));break;case 22:if(l=r.memoizedState!==null||Si,!l){n=n!==null&&n.memoizedState!==null||oe,c=Si;var f=oe;Si=l,(oe=n)&&!f?Xi(t,r,(r.subtreeFlags&8772)!==0):Fi(t,r),Si=c,oe=f}break;case 30:break;default:Fi(t,r)}}function Bg(t){var n=t.alternate;n!==null&&(t.alternate=null,Bg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ui(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,Je=!1;function bi(t,n,r){for(r=r.child;r!==null;)Pg(t,n,r),r=r.sibling}function Pg(t,n,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(re,r)}catch{}switch(r.tag){case 26:oe||Xn(r,n),bi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:oe||Xn(r,n);var l=te,c=Je;tr(r.type)&&(te=r.stateNode,Je=!1),bi(t,n,r),Al(r.stateNode),te=l,Je=c;break;case 5:oe||Xn(r,n);case 6:if(l=te,c=Je,te=null,bi(t,n,r),te=l,Je=c,te!==null)if(Je)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(r.stateNode)}catch(f){Kt(r,n,f)}else try{te.removeChild(r.stateNode)}catch(f){Kt(r,n,f)}break;case 18:te!==null&&(Je?(t=te,Cp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Il(t)):Cp(te,r.stateNode));break;case 4:l=te,c=Je,te=r.stateNode.containerInfo,Je=!0,bi(t,n,r),te=l,Je=c;break;case 0:case 11:case 14:case 15:oe||Yi(2,r,n),oe||Yi(4,r,n),bi(t,n,r);break;case 1:oe||(Xn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Ng(r,n,l)),bi(t,n,r);break;case 21:bi(t,n,r);break;case 22:oe=(l=oe)||r.memoizedState!==null,bi(t,n,r),oe=l;break;default:bi(t,n,r)}}function qg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Il(t)}catch(r){Kt(n,n.return,r)}}function L0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Lg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Lg),n;default:throw Error(a(435,t.tag))}}function Vh(t,n){var r=L0(t);n.forEach(function(l){var c=Q0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function sn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(tr(E.type)){te=E.stateNode,Je=!1;break t}break;case 5:te=E.stateNode,Je=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,Je=!0;break t}E=E.return}if(te===null)throw Error(a(160));Pg(f,y,c),te=null,Je=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)kg(n,t),n=n.sibling}var In=null;function kg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:sn(n,t),ln(t),l&4&&(Yi(3,t,t.return),fl(3,t),Yi(5,t,t.return));break;case 1:sn(n,t),ln(t),l&512&&(oe||r===null||Xn(r,r.return)),l&64&&Si&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=In;if(sn(n,t),ln(t),l&512&&(oe||r===null||Xn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[wr]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,r),f[ye]=t,le(f),l=f;break t;case"link":var y=Up("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Up("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[ye]=t,le(f),l=f}t.stateNode=l}else Lp(c,t.type,t.stateNode);else t.stateNode=xp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Lp(c,t.type,t.stateNode):xp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Rh(t,t.memoizedProps,r.memoizedProps)}break;case 27:sn(n,t),ln(t),l&512&&(oe||r===null||Xn(r,r.return)),r!==null&&l&4&&Rh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(sn(n,t),ln(t),l&512&&(oe||r===null||Xn(r,r.return)),t.flags&32){c=t.stateNode;try{mn(c,"")}catch(q){Kt(t,t.return,q)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Rh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Dh=!0);break;case 6:if(sn(n,t),ln(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(q){Kt(t,t.return,q)}}break;case 3:if(_o=null,c=In,In=po(n.containerInfo),sn(n,t),In=c,ln(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Il(n.containerInfo)}catch(q){Kt(t,t.return,q)}Dh&&(Dh=!1,Hg(t));break;case 4:l=In,In=po(t.stateNode.containerInfo),sn(n,t),ln(t),In=l;break;case 12:sn(n,t),ln(t);break;case 13:sn(n,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Uh=fn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vh(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,B=Si,G=oe;if(Si=B||c,oe=G||b,sn(n,t),oe=G,Si=B,ln(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Si||oe||Jr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var Y=b.memoizedProps.style,P=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(q){Kt(b,b.return,q)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(q){Kt(b,b.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Vh(t,r))));break;case 19:sn(n,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vh(t,l)));break;case 30:break;case 21:break;default:sn(n,t),ln(t)}}function ln(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(xg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=wh(t);no(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(mn(y,""),r.flags&=-33);var E=wh(t);no(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,B=wh(t);Ch(t,B,b);break;default:throw Error(a(161))}}catch(G){Kt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Hg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Hg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Fi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)zg(t,n.alternate,n),n=n.sibling}function Jr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Yi(4,n,n.return),Jr(n);break;case 1:Xn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Ng(n,n.return,r),Jr(n);break;case 27:Al(n.stateNode);case 26:case 5:Xn(n,n.return),Jr(n);break;case 22:n.memoizedState===null&&Jr(n);break;case 30:Jr(n);break;default:Jr(n)}t=t.sibling}}function Xi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Xi(c,f,r),fl(4,f);break;case 1:if(Xi(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Kt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)ym(b[c],E)}catch(B){Kt(l,l.return,B)}}r&&y&64&&Og(f),dl(f,f.return);break;case 27:Ug(f);case 26:case 5:Xi(c,f,r),r&&l===null&&y&4&&Mg(f),dl(f,f.return);break;case 12:Xi(c,f,r);break;case 13:Xi(c,f,r),r&&y&4&&qg(c,f);break;case 22:f.memoizedState===null&&Xi(c,f,r),dl(f,f.return);break;case 30:break;default:Xi(c,f,r)}n=n.sibling}}function Ih(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Js(r))}function Oh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Js(t))}function Kn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)jg(t,n,r,l),n=n.sibling}function jg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(t,n,r,l),c&2048&&fl(9,n);break;case 1:Kn(t,n,r,l);break;case 3:Kn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Js(t)));break;case 12:if(c&2048){Kn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Kt(n,n.return,b)}}else Kn(t,n,r,l);break;case 13:Kn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(t,n,r,l):ml(t,n):f._visibility&2?Kn(t,n,r,l):(f._visibility|=2,Ga(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Ih(y,n);break;case 24:Kn(t,n,r,l),c&2048&&Oh(n.alternate,n);break;default:Kn(t,n,r,l)}}function Ga(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,B=y.flags;switch(y.tag){case 0:case 11:case 15:Ga(f,y,E,b,c),fl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Ga(f,y,E,b,c):ml(f,y):(G._visibility|=2,Ga(f,y,E,b,c)),c&&B&2048&&Ih(y.alternate,y);break;case 24:Ga(f,y,E,b,c),c&&B&2048&&Oh(y.alternate,y);break;default:Ga(f,y,E,b,c)}n=n.sibling}}function ml(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:ml(r,l),c&2048&&Ih(l.alternate,l);break;case 24:ml(r,l),c&2048&&Oh(l.alternate,l);break;default:ml(r,l)}n=n.sibling}}var gl=8192;function Qa(t){if(t.subtreeFlags&gl)for(t=t.child;t!==null;)Gg(t),t=t.sibling}function Gg(t){switch(t.tag){case 26:Qa(t),t.flags&gl&&t.memoizedState!==null&&TE(In,t.memoizedState,t.memoizedProps);break;case 5:Qa(t);break;case 3:case 4:var n=In;In=po(t.stateNode.containerInfo),Qa(t),In=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=gl,gl=16777216,Qa(t),gl=n):Qa(t));break;default:Qa(t)}}function Qg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function pl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];De=l,Fg(l,t)}Qg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yg(t),t=t.sibling}function Yg(t){switch(t.tag){case 0:case 11:case 15:pl(t),t.flags&2048&&Yi(9,t,t.return);break;case 3:pl(t);break;case 12:pl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,io(t)):pl(t);break;default:pl(t)}}function io(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];De=l,Fg(l,t)}Qg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Yi(8,n,n.return),io(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,io(n));break;default:io(n)}t=t.sibling}}function Fg(t,n){for(;De!==null;){var r=De;switch(r.tag){case 0:case 11:case 15:Yi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Js(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,De=l;else t:for(r=t;De!==null;){l=De;var c=l.sibling,f=l.return;if(Bg(l),l===r){De=null;break t}if(c!==null){c.return=f,De=c;break t}De=f}}}var z0={getCacheForType:function(t){var n=He(Ee),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},B0=typeof WeakMap=="function"?WeakMap:Map,jt=0,$t=null,Vt=null,xt=0,Gt=0,un=null,Ki=!1,Ya=!1,Nh=!1,Ri=0,se=0,Zi=0,Wr=0,Mh=0,Sn=0,Fa=0,yl=null,We=null,xh=!1,Uh=0,ro=1/0,ao=null,$i=null,Le=0,Ji=null,Xa=null,Ka=0,Lh=0,zh=null,Xg=null,_l=0,Bh=null;function on(){if((jt&2)!==0&&xt!==0)return xt&-xt;if(j.T!==null){var t=La;return t!==0?t:Qh()}return Mi()}function Kg(){Sn===0&&(Sn=(xt&536870912)===0||Pt?Cs():536870912);var t=An.current;return t!==null&&(t.flags|=32),Sn}function cn(t,n,r){(t===$t&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(Za(t,0),Wi(t,xt,Sn,!1)),ii(t,r),((jt&2)===0||t!==$t)&&(t===$t&&((jt&2)===0&&(Wr|=r),se===4&&Wi(t,xt,Sn,!1)),Zn(t))}function Zg(t,n,r){if((jt&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Rr(t,n),c=l?k0(t,n):kh(t,n,!0),f=l;do{if(c===0){Ya&&!l&&Wi(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!P0(r)){c=kh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=yl;var b=E.current.memoizedState.isDehydrated;if(b&&(Za(E,y).flags|=256),y=kh(E,y,!1),y!==2){if(Nh&&!b){E.errorRecoveryDisabledLanes|=f,Wr|=f,c=4;break t}f=We,We=c,f!==null&&(We===null?We=f:We.push.apply(We,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Za(t,0),Wi(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Wi(l,n,Sn,!Ki);break t;case 2:We=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Uh+300-fn(),10<c)){if(Wi(l,n,Sn,!Ki),da(l,0,!0)!==0)break t;l.timeoutHandle=Rp($g.bind(null,l,r,We,ao,xh,n,Sn,Wr,Fa,Ki,f,2,-0,0),c);break t}$g(l,r,We,ao,xh,n,Sn,Wr,Fa,Ki,f,0,-0,0)}}break}while(!0);Zn(t)}function $g(t,n,r,l,c,f,y,E,b,B,G,Y,P,q){if(t.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Rl={stylesheets:null,count:0,unsuspend:EE},Gg(n),Y=AE(),Y!==null)){t.cancelPendingCommit=Y(rp.bind(null,t,n,f,r,l,c,y,E,b,G,1,P,q)),Wi(t,f,y,!B);return}rp(t,n,f,r,l,c,y,E,b)}function P0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!rn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Wi(t,n,r,l){n&=~Mh,n&=~Wr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ke(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&Un(t,r,n)}function so(){return(jt&6)===0?(vl(0),!1):!0}function Ph(){if(Vt!==null){if(Gt===0)var t=Vt.return;else t=Vt,yi=Fr=null,nh(t),Ha=null,ol=0,t=Vt;for(;t!==null;)Ig(t.alternate,t),t=t.return;Vt=null}}function Za(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,iE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Ph(),$t=t,Vt=r=mi(t.current,null),xt=n,Gt=0,un=null,Ki=!1,Ya=Rr(t,n),Nh=!1,Fa=Sn=Mh=Wr=Zi=se=0,We=yl=null,xh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ke(l),f=1<<c;n|=t[c],l&=~f}return Ri=n,Du(),r}function Jg(t,n){bt=null,j.H=Fu,n===tl||n===zu?(n=gm(),Gt=3):n===fm?(n=gm(),Gt=4):Gt=n===pg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,Vt===null&&(se=1,Ju(t,_n(n,t.current)))}function Wg(){var t=j.H;return j.H=Fu,t===null?Fu:t}function tp(){var t=j.A;return j.A=z0,t}function qh(){se=4,Ki||(xt&4194048)!==xt&&An.current!==null||(Ya=!0),(Zi&134217727)===0&&(Wr&134217727)===0||$t===null||Wi($t,xt,Sn,!1)}function kh(t,n,r){var l=jt;jt|=2;var c=Wg(),f=tp();($t!==t||xt!==n)&&(ao=null,Za(t,n)),n=!1;var y=se;t:do try{if(Gt!==0&&Vt!==null){var E=Vt,b=un;switch(Gt){case 8:Ph(),y=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var B=Gt;if(Gt=0,un=null,$a(t,E,b,B),r&&Ya){y=0;break t}break;default:B=Gt,Gt=0,un=null,$a(t,E,b,B)}}q0(),y=se;break}catch(G){Jg(t,G)}while(!0);return n&&t.shellSuspendCounter++,yi=Fr=null,jt=l,j.H=c,j.A=f,Vt===null&&($t=null,xt=0,Du()),y}function q0(){for(;Vt!==null;)ep(Vt)}function k0(t,n){var r=jt;jt|=2;var l=Wg(),c=tp();$t!==t||xt!==n?(ao=null,ro=fn()+500,Za(t,n)):Ya=Rr(t,n);t:do try{if(Gt!==0&&Vt!==null){n=Vt;var f=un;e:switch(Gt){case 1:Gt=0,un=null,$a(t,n,f,1);break;case 2:case 9:if(dm(f)){Gt=0,un=null,np(n);break}n=function(){Gt!==2&&Gt!==9||$t!==t||(Gt=7),Zn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:dm(f)?(Gt=0,un=null,np(n)):(Gt=0,un=null,$a(t,n,f,7));break;case 5:var y=null;switch(Vt.tag){case 26:y=Vt.memoizedState;case 5:case 27:var E=Vt;if(!y||zp(y)){Gt=0,un=null;var b=E.sibling;if(b!==null)Vt=b;else{var B=E.return;B!==null?(Vt=B,lo(B)):Vt=null}break e}}Gt=0,un=null,$a(t,n,f,5);break;case 6:Gt=0,un=null,$a(t,n,f,6);break;case 8:Ph(),se=6;break t;default:throw Error(a(462))}}H0();break}catch(G){Jg(t,G)}while(!0);return yi=Fr=null,j.H=l,j.A=c,jt=r,Vt!==null?0:($t=null,xt=0,Du(),se)}function H0(){for(;Vt!==null&&!Ss();)ep(Vt)}function ep(t){var n=Dg(t.alternate,t,Ri);t.memoizedProps=t.pendingProps,n===null?lo(t):Vt=n}function np(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Ag(r,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Ag(r,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:nh(n);default:Ig(r,n),n=Vt=im(n,Ri),n=Dg(r,n,Ri)}t.memoizedProps=t.pendingProps,n===null?lo(t):Vt=n}function $a(t,n,r,l){yi=Fr=null,nh(n),Ha=null,ol=0;var c=n.return;try{if(O0(t,c,n,r,xt)){se=1,Ju(t,_n(r,t.current)),Vt=null;return}}catch(f){if(c!==null)throw Vt=c,f;se=1,Ju(t,_n(r,t.current)),Vt=null;return}n.flags&32768?(Pt||l===1?t=!0:Ya||(xt&536870912)!==0?t=!1:(Ki=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),ip(n,t)):lo(n)}function lo(t){var n=t;do{if((n.flags&32768)!==0){ip(n,Ki);return}t=n.return;var r=M0(n.alternate,n,Ri);if(r!==null){Vt=r;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);se===0&&(se=5)}function ip(t,n){do{var r=x0(t.alternate,t);if(r!==null){r.flags&=32767,Vt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=r}while(t!==null);se=6,Vt=null}function rp(t,n,r,l,c,f,y,E,b){t.cancelPendingCommit=null;do uo();while(Le!==0);if((jt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Oc,Vs(t,r,f,y,E,b),t===$t&&(Vt=$t=null,xt=0),Xa=n,Ji=t,Ka=r,Lh=f,zh=c,Xg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Y0(Tr,function(){return op(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,c=et.p,et.p=2,y=jt,jt|=4;try{U0(t,n,r)}finally{jt=y,et.p=c,j.T=l}}Le=1,ap(),sp(),lp()}}function ap(){if(Le===1){Le=0;var t=Ji,n=Xa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=j.T,j.T=null;var l=et.p;et.p=2;var c=jt;jt|=4;try{kg(n,t);var f=Wh,y=Fd(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Yd(E.ownerDocument.documentElement,E)){if(b!==null&&wc(E)){var B=b.start,G=b.end;if(G===void 0&&(G=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,P=Y&&Y.defaultView||window;if(P.getSelection){var q=P.getSelection(),_t=E.textContent.length,mt=Math.min(b.start,_t),Xt=b.end===void 0?mt:Math.min(b.end,_t);!q.extend&&mt>Xt&&(y=Xt,Xt=mt,mt=y);var U=Qd(E,mt),I=Qd(E,Xt);if(U&&I&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==I.node||q.focusOffset!==I.offset)){var z=Y.createRange();z.setStart(U.node,U.offset),q.removeAllRanges(),mt>Xt?(q.addRange(z),q.extend(I.node,I.offset)):(z.setEnd(I.node,I.offset),q.addRange(z))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}To=!!Jh,Wh=Jh=null}finally{jt=c,et.p=l,j.T=r}}t.current=n,Le=2}}function sp(){if(Le===2){Le=0;var t=Ji,n=Xa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=j.T,j.T=null;var l=et.p;et.p=2;var c=jt;jt|=4;try{zg(t,n.alternate,n)}finally{jt=c,et.p=l,j.T=r}}Le=3}}function lp(){if(Le===4||Le===3){Le=0,iu();var t=Ji,n=Xa,r=Ka,l=Xg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,Xa=Ji=null,up(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&($i=null),ma(r),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(re,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=j.T,c=et.p,et.p=2,j.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{j.T=n,et.p=c}}(Ka&3)!==0&&uo(),Zn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===Bh?_l++:(_l=0,Bh=t):_l=0,vl(0)}}function up(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Js(n)))}function uo(t){return ap(),sp(),lp(),op()}function op(){if(Le!==5)return!1;var t=Ji,n=Lh;Lh=0;var r=ma(Ka),l=j.T,c=et.p;try{et.p=32>r?32:r,j.T=null,r=zh,zh=null;var f=Ji,y=Ka;if(Le=0,Xa=Ji=null,Ka=0,(jt&6)!==0)throw Error(a(331));var E=jt;if(jt|=4,Yg(f.current),jg(f,f.current,y,r),jt=E,vl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(re,f)}catch{}return!0}finally{et.p=c,j.T=l,up(t,n)}}function cp(t,n,r){n=_n(r,n),n=ph(t.stateNode,n,2),t=Hi(t,n,2),t!==null&&(ii(t,2),Zn(t))}function Kt(t,n,r){if(t.tag===3)cp(t,t,r);else for(;n!==null;){if(n.tag===3){cp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($i===null||!$i.has(l))){t=_n(r,t),r=mg(2),l=Hi(n,r,2),l!==null&&(gg(r,l,n,t),ii(l,2),Zn(l));break}}n=n.return}}function Hh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new B0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Nh=!0,c.add(r),t=j0.bind(null,t,n,r),n.then(t,t))}function j0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,$t===t&&(xt&r)===r&&(se===4||se===3&&(xt&62914560)===xt&&300>fn()-Uh?(jt&2)===0&&Za(t,0):Mh|=r,Fa===xt&&(Fa=0)),Zn(t)}function hp(t,n){n===0&&(n=Ds()),t=Na(t,n),t!==null&&(ii(t,n),Zn(t))}function G0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),hp(t,r)}function Q0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),hp(t,r)}function Y0(t,n){return vr(t,n)}var oo=null,Ja=null,jh=!1,co=!1,Gh=!1,ta=0;function Zn(t){t!==Ja&&t.next===null&&(Ja===null?oo=Ja=t:Ja=Ja.next=t),co=!0,jh||(jh=!0,X0())}function vl(t,n){if(!Gh&&co){Gh=!0;do for(var r=!1,l=oo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ke(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,gp(l,f))}else f=xt,f=da(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Rr(l,f)||(r=!0,gp(l,f));l=l.next}while(r);Gh=!1}}function F0(){fp()}function fp(){co=jh=!1;var t=0;ta!==0&&(nE()&&(t=ta),ta=0);for(var n=fn(),r=null,l=oo;l!==null;){var c=l.next,f=dp(l,n);f===0?(l.next=null,r===null?oo=c:r.next=c,c===null&&(Ja=r)):(r=l,(t!==0||(f&3)!==0)&&(co=!0)),l=c}vl(t)}function dp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-ke(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=ws(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,r=xt,r=da(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Er(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Rr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Er(l),ma(r)){case 2:case 8:r=ha;break;case 32:r=Tr;break;case 268435456:r=fa;break;default:r=Tr}return l=mp.bind(null,t),r=vr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Er(l),t.callbackPriority=2,t.callbackNode=null,2}function mp(t,n){if(Le!==0&&Le!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(uo()&&t.callbackNode!==r)return null;var l=xt;return l=da(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Zg(t,l,n),dp(t,fn()),t.callbackNode!=null&&t.callbackNode===r?mp.bind(null,t):null)}function gp(t,n){if(uo())return null;Zg(t,n,!0)}function X0(){rE(function(){(jt&6)!==0?vr(bs,F0):fp()})}function Qh(){return ta===0&&(ta=Cs()),ta}function pp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function yp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function K0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=pp((c[he]||null).action),y=l.submitter;y&&(n=(n=y[he]||null)?pp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ta("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ta!==0){var b=y?yp(c,y):new FormData(c);hh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?yp(c,y):new FormData(c),hh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Yh=0;Yh<Ic.length;Yh++){var Fh=Ic[Yh],Z0=Fh.toLowerCase(),$0=Fh[0].toUpperCase()+Fh.slice(1);Vn(Z0,"on"+$0)}Vn(Zd,"onAnimationEnd"),Vn($d,"onAnimationIteration"),Vn(Jd,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(m0,"onTransitionRun"),Vn(g0,"onTransitionStart"),Vn(p0,"onTransitionCancel"),Vn(Wd,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function _p(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,B=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(G){$u(G)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,B=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(G){$u(G)}c.currentTarget=null,f=b}}}}function It(t,n){var r=n[Os];r===void 0&&(r=n[Os]=new Set);var l=t+"__bubble";r.has(l)||(vp(n,t,2,!1),r.add(l))}function Xh(t,n,r){var l=0;n&&(l|=4),vp(r,t,l,n)}var ho="_reactListening"+Math.random().toString(36).slice(2);function Kh(t){if(!t[ho]){t[ho]=!0,Ns.forEach(function(r){r!=="selectionchange"&&(J0.has(r)||Xh(r,!1,t),Xh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ho]||(n[ho]=!0,Xh("selectionchange",!1,n))}}function vp(t,n,r,l){switch(jp(n)){case 2:var c=RE;break;case 8:c=wE;break;default:c=cf}r=c.bind(null,n,r,t),c=void 0,!pn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Zh(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ri(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}du(function(){var B=f,G=gn(r),Y=[];t:{var P=tm.get(t);if(P!==void 0){var q=Ta,_t=t;switch(t){case"keypress":if(kn(r)===0)break t;case"keydown":case"keyup":q=Ca;break;case"focusin":_t="focus",q=ba;break;case"focusout":_t="blur",q=ba;break;case"beforeblur":case"afterblur":q=ba;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Tu;break;case Zd:case $d:case Jd:q=Ra;break;case Wd:q=Su;break;case"scroll":case"scrollend":q=mu;break;case"wheel":q=Da;break;case"copy":case"cut":case"paste":q=wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Gs;break;case"toggle":case"beforetoggle":q=Ru}var mt=(n&4)!==0,Xt=!mt&&(t==="scroll"||t==="scrollend"),U=mt?P!==null?P+"Capture":null:P;mt=[];for(var I=B,z;I!==null;){var Q=I;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||U===null||(Q=Mr(I,U),Q!=null&&mt.push(Tl(I,Q,z))),Xt)break;I=I.return}0<mt.length&&(P=new q(P,_t,null,r,G),Y.push({event:P,listeners:mt}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",P&&r!==ui&&(_t=r.relatedTarget||r.fromElement)&&(ri(_t)||_t[dn]))break t;if((q||P)&&(P=G.window===G?G:(P=G.ownerDocument)?P.defaultView||P.parentWindow:window,q?(_t=r.relatedTarget||r.toElement,q=B,_t=_t?ri(_t):null,_t!==null&&(Xt=h(_t),mt=_t.tag,_t!==Xt||mt!==5&&mt!==27&&mt!==6)&&(_t=null)):(q=null,_t=B),q!==_t)){if(mt=yn,Q="onMouseLeave",U="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(mt=Gs,Q="onPointerLeave",U="onPointerEnter",I="pointer"),Xt=q==null?P:zn(q),z=_t==null?P:zn(_t),P=new mt(Q,I+"leave",q,r,G),P.target=Xt,P.relatedTarget=z,Q=null,ri(G)===B&&(mt=new mt(U,I+"enter",_t,r,G),mt.target=z,mt.relatedTarget=Xt,Q=mt),Xt=Q,q&&_t)e:{for(mt=q,U=_t,I=0,z=mt;z;z=Wa(z))I++;for(z=0,Q=U;Q;Q=Wa(Q))z++;for(;0<I-z;)mt=Wa(mt),I--;for(;0<z-I;)U=Wa(U),z--;for(;I--;){if(mt===U||U!==null&&mt===U.alternate)break e;mt=Wa(mt),U=Wa(U)}mt=null}else mt=null;q!==null&&Ep(Y,P,q,mt,!1),_t!==null&&Xt!==null&&Ep(Y,Xt,_t,mt,!0)}}t:{if(P=B?zn(B):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var at=Pd;else if(ve(P))if(qd)at=h0;else{at=o0;var Ct=u0}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?B&&zs(B.elementType)&&(at=Pd):at=c0;if(at&&(at=at(t,B))){di(Y,at,r,G);break t}Ct&&Ct(t,P,B),t==="focusout"&&B&&P.type==="number"&&B.memoizedProps.value!=null&&zi(P,"number",P.value)}switch(Ct=B?zn(B):window,t){case"focusin":(ve(Ct)||Ct.contentEditable==="true")&&(Va=Ct,Cc=B,Fs=null);break;case"focusout":Fs=Cc=Va=null;break;case"mousedown":Dc=!0;break;case"contextmenu":case"mouseup":case"dragend":Dc=!1,Xd(Y,r,G);break;case"selectionchange":if(d0)break;case"keydown":case"keyup":Xd(Y,r,G)}var lt;if(Gn)t:{switch(t){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else Nt?k(t,r)&&(gt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(gt="onCompositionStart");gt&&(p&&r.locale!=="ko"&&(Nt||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Nt&&(lt=Ps()):(qn=G,Bi="value"in qn?qn.value:qn.textContent,Nt=!0)),Ct=fo(B,gt),0<Ct.length&&(gt=new Hs(gt,t,null,r,G),Y.push({event:gt,listeners:Ct}),lt?gt.data=lt:(lt=W(r),lt!==null&&(gt.data=lt)))),(lt=m?_e(t,r):Mt(t,r))&&(gt=fo(B,"onBeforeInput"),0<gt.length&&(Ct=new Hs("onBeforeInput","beforeinput",null,r,G),Y.push({event:Ct,listeners:gt}),Ct.data=lt)),K0(Y,t,B,r,G)}_p(Y,n)})}function Tl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function fo(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Mr(t,r),c!=null&&l.unshift(Tl(t,c,f)),c=Mr(t,n),c!=null&&l.push(Tl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function Wa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ep(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,B=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||B===null||(b=B,c?(B=Mr(r,f),B!=null&&y.unshift(Tl(r,B,b))):c||(B=Mr(r,f),B!=null&&y.push(Tl(r,B,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var W0=/\r\n?/g,tE=/\u0000|\uFFFD/g;function Tp(t){return(typeof t=="string"?t:""+t).replace(W0,`
`).replace(tE,"")}function Ap(t,n){return n=Tp(n),Tp(t)===n}function mo(){}function Ft(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||mn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&mn(t,""+l);break;case"className":Bn(t,"class",l);break;case"tabIndex":Bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,r,l);break;case"style":Ls(t,l,f);break;case"data":if(n!=="object"){Bn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ea(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ft(t,n,"name",c.name,c,null),Ft(t,n,"formEncType",c.formEncType,c,null),Ft(t,n,"formMethod",c.formMethod,c,null),Ft(t,n,"formTarget",c.formTarget,c,null)):(Ft(t,n,"encType",c.encType,c,null),Ft(t,n,"method",c.method,c,null),Ft(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ea(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=mo);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Ea(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":It("beforetoggle",t),It("toggle",t),Li(t,"popover",l);break;case"xlinkActuate":Me(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Me(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Me(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Me(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Me(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Me(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Me(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Me(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Me(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Li(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Ec.get(r)||r,Li(t,r,l))}}function $h(t,n,r,l,c,f){switch(r){case"style":Ls(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?mn(t,l):(typeof l=="number"||typeof l=="bigint")&&mn(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=mo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ga.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[he]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Li(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,f,y,r,null)}}c&&Ft(t,n,"srcSet",r.srcSet,r,null),l&&Ft(t,n,"src",r.src,r,null);return;case"input":It("invalid",t);var E=f=y=c=null,b=null,B=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":b=G;break;case"defaultChecked":B=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Ft(t,n,l,G,r,null)}}Ir(t,f,E,b,B,y,c,!1),va(t);return;case"select":It("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Ft(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?li(t,!!l,n,!1):r!=null&&li(t,!!l,r,!0);return;case"textarea":It("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Ft(t,n,y,E,r,null)}Or(t,l,c,f),va(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ft(t,n,b,l,r,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<El.length;l++)It(El[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in r)if(r.hasOwnProperty(B)&&(l=r[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,B,l,r,null)}return;default:if(zs(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&$h(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Ft(t,n,E,l,r,null))}function eE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,B=null,G=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=Y;default:l.hasOwnProperty(q)||Ft(t,n,q,null,l,Y)}}for(var P in l){var q=l[P];if(Y=r[P],l.hasOwnProperty(P)&&(q!=null||Y!=null))switch(P){case"type":f=q;break;case"name":c=q;break;case"checked":B=q;break;case"defaultChecked":G=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&Ft(t,n,P,q,l,Y)}}nn(t,y,E,b,B,G,f,c);return;case"select":q=y=E=P=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":q=b;default:l.hasOwnProperty(f)||Ft(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Ft(t,n,c,f,l,b)}n=E,r=y,l=q,P!=null?li(t,!!r,P,!1):!!l!=!!r&&(n!=null?li(t,!!r,n,!0):li(t,!!r,r?[]:"",!1));return;case"textarea":q=P=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ft(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":P=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Ft(t,n,y,c,l,f)}Qt(t,P,q);return;case"option":for(var _t in r)if(P=r[_t],r.hasOwnProperty(_t)&&P!=null&&!l.hasOwnProperty(_t))switch(_t){case"selected":t.selected=!1;break;default:Ft(t,n,_t,null,l,P)}for(b in l)if(P=l[b],q=r[b],l.hasOwnProperty(b)&&P!==q&&(P!=null||q!=null))switch(b){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Ft(t,n,b,P,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in r)P=r[mt],r.hasOwnProperty(mt)&&P!=null&&!l.hasOwnProperty(mt)&&Ft(t,n,mt,null,l,P);for(B in l)if(P=l[B],q=r[B],l.hasOwnProperty(B)&&P!==q&&(P!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:Ft(t,n,B,P,l,q)}return;default:if(zs(n)){for(var Xt in r)P=r[Xt],r.hasOwnProperty(Xt)&&P!==void 0&&!l.hasOwnProperty(Xt)&&$h(t,n,Xt,void 0,l,P);for(G in l)P=l[G],q=r[G],!l.hasOwnProperty(G)||P===q||P===void 0&&q===void 0||$h(t,n,G,P,l,q);return}}for(var U in r)P=r[U],r.hasOwnProperty(U)&&P!=null&&!l.hasOwnProperty(U)&&Ft(t,n,U,null,l,P);for(Y in l)P=l[Y],q=r[Y],!l.hasOwnProperty(Y)||P===q||P==null&&q==null||Ft(t,n,Y,P,l,q)}var Jh=null,Wh=null;function go(t){return t.nodeType===9?t:t.ownerDocument}function Sp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function tf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ef=null;function nE(){var t=window.event;return t&&t.type==="popstate"?t===ef?!1:(ef=t,!0):(ef=null,!1)}var Rp=typeof setTimeout=="function"?setTimeout:void 0,iE=typeof clearTimeout=="function"?clearTimeout:void 0,wp=typeof Promise=="function"?Promise:void 0,rE=typeof queueMicrotask=="function"?queueMicrotask:typeof wp<"u"?function(t){return wp.resolve(null).then(t).catch(aE)}:Rp;function aE(t){setTimeout(function(){throw t})}function tr(t){return t==="head"}function Cp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Al(y.documentElement),r&2&&Al(y.body),r&4)for(r=y.head,Al(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[wr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),Il(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Il(n)}function nf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":nf(r),Ui(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function sE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[wr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function lE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=On(t.nextSibling),t===null))return null;return t}function rf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function uE(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var af=null;function Dp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Vp(t,n,r){switch(n=go(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Al(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ui(t)}var bn=new Map,Ip=new Set;function po(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var wi=et.d;et.d={f:oE,r:cE,D:hE,C:fE,L:dE,m:mE,X:pE,S:gE,M:yE};function oE(){var t=wi.f(),n=so();return t||n}function cE(t){var n=Ln(t);n!==null&&n.tag===5&&n.type==="form"?Zm(n):wi.r(t)}var ts=typeof document>"u"?null:document;function Op(t,n,r){var l=ts;if(l&&typeof n=="string"&&n){var c=fe(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Ip.has(c)||(Ip.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),le(n),l.head.appendChild(n)))}}function hE(t){wi.D(t),Op("dns-prefetch",t,null)}function fE(t,n){wi.C(t,n),Op("preconnect",t,n)}function dE(t,n,r){wi.L(t,n,r);var l=ts;if(l&&t&&n){var c='link[rel="preload"][as="'+fe(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+fe(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+fe(r.imageSizes)+'"]')):c+='[href="'+fe(t)+'"]';var f=c;switch(n){case"style":f=es(t);break;case"script":f=ns(t)}bn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),bn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Sl(f))||n==="script"&&l.querySelector(bl(f))||(n=l.createElement("link"),ze(n,"link",t),le(n),l.head.appendChild(n)))}}function mE(t,n){wi.m(t,n);var r=ts;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+fe(l)+'"][href="'+fe(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ns(t)}if(!bn.has(f)&&(t=A({rel:"modulepreload",href:t},n),bn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(bl(f)))return}l=r.createElement("link"),ze(l,"link",t),le(l),r.head.appendChild(l)}}}function gE(t,n,r){wi.S(t,n,r);var l=ts;if(l&&t){var c=Fe(l).hoistableStyles,f=es(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Sl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=bn.get(f))&&sf(t,r);var b=y=l.createElement("link");le(b),ze(b,"link",t),b._p=new Promise(function(B,G){b.onload=B,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,yo(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function pE(t,n){wi.X(t,n);var r=ts;if(r&&t){var l=Fe(r).hoistableScripts,c=ns(t),f=l.get(c);f||(f=r.querySelector(bl(c)),f||(t=A({src:t,async:!0},n),(n=bn.get(c))&&lf(t,n),f=r.createElement("script"),le(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function yE(t,n){wi.M(t,n);var r=ts;if(r&&t){var l=Fe(r).hoistableScripts,c=ns(t),f=l.get(c);f||(f=r.querySelector(bl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=bn.get(c))&&lf(t,n),f=r.createElement("script"),le(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Np(t,n,r,l){var c=(c=vt.current)?po(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=es(r.href),r=Fe(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=es(r.href);var f=Fe(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Sl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),bn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},bn.set(t,r),f||_E(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ns(r),r=Fe(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function es(t){return'href="'+fe(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function Mp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function _E(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),le(n),t.head.appendChild(n))}function ns(t){return'[src="'+fe(t)+'"]'}function bl(t){return"script[async]"+t}function xp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+fe(r.href)+'"]');if(l)return n.instance=l,le(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),le(l),ze(l,"style",c),yo(l,r.precedence,t),n.instance=l;case"stylesheet":c=es(r.href);var f=t.querySelector(Sl(c));if(f)return n.state.loading|=4,n.instance=f,le(f),f;l=Mp(r),(c=bn.get(c))&&sf(l,c),f=(t.ownerDocument||t).createElement("link"),le(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ze(f,"link",l),n.state.loading|=4,yo(f,r.precedence,t),n.instance=f;case"script":return f=ns(r.src),(c=t.querySelector(bl(f)))?(n.instance=c,le(c),c):(l=r,(c=bn.get(f))&&(l=A({},r),lf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),le(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,yo(l,r.precedence,t));return n.instance}function yo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function lf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var _o=null;function Up(t,n,r){if(_o===null){var l=new Map,c=_o=new Map;c.set(r,l)}else c=_o,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[wr]||f[ye]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Lp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function vE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function zp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Rl=null;function EE(){}function TE(t,n,r){if(Rl===null)throw Error(a(475));var l=Rl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=es(r.href),f=t.querySelector(Sl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=vo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,le(f);return}f=t.ownerDocument||t,r=Mp(r),(c=bn.get(c))&&sf(r,c),f=f.createElement("link"),le(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ze(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=vo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function AE(){if(Rl===null)throw Error(a(475));var t=Rl;return t.stylesheets&&t.count===0&&uf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&uf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function vo(){if(this.count--,this.count===0){if(this.stylesheets)uf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Eo=null;function uf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Eo=new Map,n.forEach(SE,t),Eo=null,vo.call(t))}function SE(t,n){if(!(n.state.loading&4)){var r=Eo.get(t);if(r)var l=r.get(null);else{r=new Map,Eo.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=vo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var wl={$$typeof:rt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function bE(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Bp(t,n,r,l,c,f,y,E,b,B,G,Y){return t=new bE(t,n,r,y,E,b,B,Y),n=1,f===!0&&(n|=24),f=an(3,null,null,n),t.current=f,f.stateNode=t,n=Hc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Yc(f),t}function Pp(t){return t?(t=Ma,t):Ma}function qp(t,n,r,l,c,f){c=Pp(c),l.context===null?l.context=c:l.pendingContext=c,l=ki(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Hi(t,l,n),r!==null&&(cn(r,t,n),nl(r,t,n))}function kp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function of(t,n){kp(t,n),(t=t.alternate)&&kp(t,n)}function Hp(t){if(t.tag===13){var n=Na(t,67108864);n!==null&&cn(n,t,67108864),of(t,67108864)}}var To=!0;function RE(t,n,r,l){var c=j.T;j.T=null;var f=et.p;try{et.p=2,cf(t,n,r,l)}finally{et.p=f,j.T=c}}function wE(t,n,r,l){var c=j.T;j.T=null;var f=et.p;try{et.p=8,cf(t,n,r,l)}finally{et.p=f,j.T=c}}function cf(t,n,r,l){if(To){var c=hf(l);if(c===null)Zh(t,n,l,Ao,r),Gp(t,l);else if(DE(c,t,n,r,l))l.stopPropagation();else if(Gp(t,l),n&4&&-1<CE.indexOf(t)){for(;c!==null;){var f=Ln(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=wn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-ke(y);E.entanglements[1]|=b,y&=~b}Zn(f),(jt&6)===0&&(ro=fn()+500,vl(0))}}break;case 13:E=Na(f,2),E!==null&&cn(E,f,2),so(),of(f,2)}if(f=hf(l),f===null&&Zh(t,n,l,Ao,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Zh(t,n,l,null,r)}}function hf(t){return t=gn(t),ff(t)}var Ao=null;function ff(t){if(Ao=null,t=ri(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ao=t,null}function jp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mc()){case bs:return 2;case ha:return 8;case Tr:case gc:return 32;case fa:return 268435456;default:return 32}default:return 32}}var df=!1,er=null,nr=null,ir=null,Cl=new Map,Dl=new Map,rr=[],CE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gp(t,n){switch(t){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":Cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(n.pointerId)}}function Vl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Ln(n),n!==null&&Hp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function DE(t,n,r,l,c){switch(n){case"focusin":return er=Vl(er,t,n,r,l,c),!0;case"dragenter":return nr=Vl(nr,t,n,r,l,c),!0;case"mouseover":return ir=Vl(ir,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Cl.set(f,Vl(Cl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Dl.set(f,Vl(Dl.get(f)||null,t,n,r,l,c)),!0}return!1}function Qp(t){var n=ri(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,su(t.priority,function(){if(r.tag===13){var l=on();l=Ni(l);var c=Na(r,l);c!==null&&cn(c,r,l),of(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function So(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=hf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);ui=l,r.target.dispatchEvent(l),ui=null}else return n=Ln(r),n!==null&&Hp(n),t.blockedOn=r,!1;n.shift()}return!0}function Yp(t,n,r){So(t)&&r.delete(n)}function VE(){df=!1,er!==null&&So(er)&&(er=null),nr!==null&&So(nr)&&(nr=null),ir!==null&&So(ir)&&(ir=null),Cl.forEach(Yp),Dl.forEach(Yp)}function bo(t,n){t.blockedOn===n&&(t.blockedOn=null,df||(df=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,VE)))}var Ro=null;function Fp(t){Ro!==t&&(Ro=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ro===t&&(Ro=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(ff(l||r)===null)continue;break}var f=Ln(r);f!==null&&(t.splice(n,3),n-=3,hh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Il(t){function n(b){return bo(b,t)}er!==null&&bo(er,t),nr!==null&&bo(nr,t),ir!==null&&bo(ir,t),Cl.forEach(n),Dl.forEach(n);for(var r=0;r<rr.length;r++){var l=rr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<rr.length&&(r=rr[0],r.blockedOn===null);)Qp(r),r.blockedOn===null&&rr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[he]||null;if(typeof f=="function")y||Fp(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[he]||null)E=y.formAction;else if(ff(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Fp(r)}}}function mf(t){this._internalRoot=t}wo.prototype.render=mf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=on();qp(r,l,t,n,null,null)},wo.prototype.unmount=mf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;qp(t.current,2,null,t,null,null),so(),n[dn]=null}};function wo(t){this._internalRoot=t}wo.prototype.unstable_scheduleHydration=function(t){if(t){var n=Mi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<rr.length&&n!==0&&n<rr[r].priority;r++);rr.splice(r,0,t),r===0&&Qp(t)}};var Xp=e.version;if(Xp!=="19.1.0")throw Error(a(527,Xp,"19.1.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var IE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Co.isDisabled&&Co.supportsFiber)try{re=Co.inject(IE),Ht=Co}catch{}}return Nl.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=cg,f=hg,y=fg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Bp(t,1,!1,null,null,r,l,c,f,y,E,null),t[dn]=n.current,Kh(t),new mf(n)},Nl.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",f=cg,y=hg,E=fg,b=null,B=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(B=r.formState)),n=Bp(t,1,!0,n,r??null,l,c,f,y,E,b,B),n.context=Pp(null),r=n.current,l=on(),l=Ni(l),c=ki(l),c.callback=null,Hi(r,c,l),r=l,n.current.lanes=r,ii(n,r),Zn(n),t[dn]=n.current,Kh(t),new wo(n)},Nl.version="19.1.0",Nl}var ry;function qE(){if(ry)return yf.exports;ry=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),yf.exports=PE(),yf.exports}var kE=qE();function HE(s,e,i,a,u){if(e===a&&i===u||s[i][e]!==s[u][a]||s[i][e]===0)return!1;const h=s.length,d=s[0].length,g=Array.from({length:h+2},(tt,$)=>Array.from({length:d+2},(pt,ut)=>$===0||$===h+1||ut===0||ut===d+1?0:s[$-1][ut-1])),_=e+1,v=i+1,A=a+1,C=u+1,O=[[0,1],[1,0],[0,-1],[-1,0]],H=Array.from({length:h+2},()=>Array.from({length:d+2},()=>Array(3).fill(!1))),K=[];for(K.push([_,v,0,-1]);K.length;){const[tt,$,pt,ut]=K.shift();if(!(pt>2)){if(tt===A&&$===C)return!0;for(let rt=0;rt<4;rt++){let Tt=tt+O[rt][0],ct=$+O[rt][1],ot=ut===-1||ut===rt?pt:pt+1;for(;Tt>=0&&Tt<d+2&&ct>=0&&ct<h+2&&(g[ct][Tt]===0||Tt===A&&ct===C)&&(H[ct][Tt][ot]||(H[ct][Tt][ot]=!0,K.push([Tt,ct,ot,rt])),!(Tt===A&&ct===C));)Tt+=O[rt][0],ct+=O[rt][1]}}}return!1}const jE=()=>{};var ay={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},GE=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],g=s[i++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},E_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,g=d?s[u+1]:0,_=u+2<s.length,v=_?s[u+2]:0,A=h>>2,C=(h&3)<<4|g>>4;let O=(g&15)<<2|v>>6,H=v&63;_||(H=64,d||(O=64)),a.push(i[A],i[C],i[O],i[H])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(v_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):GE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],g=u<s.length?i[s.charAt(u)]:0;++u;const v=u<s.length?i[s.charAt(u)]:64;++u;const C=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||g==null||v==null||C==null)throw new QE;const O=h<<2|g>>4;if(a.push(O),v!==64){const H=g<<4&240|v>>2;if(a.push(H),C!==64){const K=v<<6&192|C;a.push(K)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class QE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YE=function(s){const e=v_(s);return E_.encodeByteArray(e,!0)},Po=function(s){return YE(s).replace(/\./g,"")},FE=function(s){try{return E_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=()=>XE().__FIREBASE_DEFAULTS__,ZE=()=>{if(typeof process>"u"||typeof ay>"u")return;const s=ay.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},$E=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&FE(s[1]);return e&&JSON.parse(e)},Jf=()=>{try{return jE()||KE()||ZE()||$E()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},JE=s=>{var e,i;return(i=(e=Jf())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},WE=s=>{const e=JE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},T_=()=>{var s;return(s=Jf())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(s){return s.endsWith(".cloudworkstations.dev")}async function eT(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Po(JSON.stringify(i)),Po(JSON.stringify(d)),""].join(".")}const zl={};function iT(){const s={prod:[],emulator:[]};for(const e of Object.keys(zl))zl[e]?s.emulator.push(e):s.prod.push(e);return s}function rT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let sy=!1;function aT(s,e){if(typeof window>"u"||typeof document>"u"||!Wf(window.location.host)||zl[s]===e||zl[s]||sy)return;zl[s]=e;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",h=iT().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,H){O.setAttribute("width","24"),O.setAttribute("id",H),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function v(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{sy=!0,d()},O}function A(O,H){O.setAttribute("id",H),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function C(){const O=rT(a),H=i("text"),K=document.getElementById(H)||document.createElement("span"),tt=i("learnmore"),$=document.getElementById(tt)||document.createElement("a"),pt=i("preprendIcon"),ut=document.getElementById(pt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const rt=O.element;g(rt),A($,tt);const Tt=v();_(ut,pt),rt.append(ut,K,$,Tt),document.body.appendChild(rt)}h?(K.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lT(){var s;const e=(s=Jf())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uT(){return!lT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oT(){try{return typeof indexedDB=="object"}catch{return!1}}function cT(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="FirebaseError";class ys extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=hT,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,A_.prototype.create)}}class A_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?fT(h,a):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new ys(u,g,a)}}function fT(s,e){return s.replace(dT,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const dT=/\{\$([^}]+)}/g;function qo(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=s[u],d=e[u];if(ly(h)&&ly(d)){if(!qo(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function ly(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(s){return s&&s._delegate?s._delegate:s}class jl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new tT;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pT(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(u)}return u}onInit(e,i){var a;const u=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(u))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:gT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gT(s){return s===ea?void 0:s}function pT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new mT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Lt||(Lt={}));const _T={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},vT=Lt.INFO,ET={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},TT=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=ET[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class S_{constructor(e){this.name=e,this._logLevel=vT,this._logHandler=TT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_T[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const AT=(s,e)=>e.some(i=>s instanceof i);let uy,oy;function ST(){return uy||(uy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bT(){return oy||(oy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b_=new WeakMap,If=new WeakMap,R_=new WeakMap,Tf=new WeakMap,td=new WeakMap;function RT(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(lr(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&b_.set(i,s)}).catch(()=>{}),td.set(e,s),e}function wT(s){if(If.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});If.set(s,e)}let Of={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return If.get(s);if(e==="objectStoreNames")return s.objectStoreNames||R_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return lr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function CT(s){Of=s(Of)}function DT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Af(this),e,...i);return R_.set(a,e.sort?e.sort():[e]),lr(a)}:bT().includes(s)?function(...e){return s.apply(Af(this),e),lr(b_.get(this))}:function(...e){return lr(s.apply(Af(this),e))}}function VT(s){return typeof s=="function"?DT(s):(s instanceof IDBTransaction&&wT(s),AT(s,ST())?new Proxy(s,Of):s)}function lr(s){if(s instanceof IDBRequest)return RT(s);if(Tf.has(s))return Tf.get(s);const e=VT(s);return e!==s&&(Tf.set(s,e),td.set(e,s)),e}const Af=s=>td.get(s);function IT(s,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),g=lr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(lr(d.result),_.oldVersion,_.newVersion,lr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const OT=["get","getKey","getAll","getAllKeys","count"],NT=["put","add","delete","clear"],Sf=new Map;function cy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Sf.get(e))return Sf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=NT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||OT.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),u&&_.done]))[0]};return Sf.set(e,h),h}CT(s=>({...s,get:(e,i,a)=>cy(e,i)||s.get(e,i,a),has:(e,i)=>!!cy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(xT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function xT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nf="@firebase/app",hy="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new S_("@firebase/app"),UT="@firebase/app-compat",LT="@firebase/analytics-compat",zT="@firebase/analytics",BT="@firebase/app-check-compat",PT="@firebase/app-check",qT="@firebase/auth",kT="@firebase/auth-compat",HT="@firebase/database",jT="@firebase/data-connect",GT="@firebase/database-compat",QT="@firebase/functions",YT="@firebase/functions-compat",FT="@firebase/installations",XT="@firebase/installations-compat",KT="@firebase/messaging",ZT="@firebase/messaging-compat",$T="@firebase/performance",JT="@firebase/performance-compat",WT="@firebase/remote-config",t1="@firebase/remote-config-compat",e1="@firebase/storage",n1="@firebase/storage-compat",i1="@firebase/firestore",r1="@firebase/ai",a1="@firebase/firestore-compat",s1="firebase",l1="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="[DEFAULT]",u1={[Nf]:"fire-core",[UT]:"fire-core-compat",[zT]:"fire-analytics",[LT]:"fire-analytics-compat",[PT]:"fire-app-check",[BT]:"fire-app-check-compat",[qT]:"fire-auth",[kT]:"fire-auth-compat",[HT]:"fire-rtdb",[jT]:"fire-data-connect",[GT]:"fire-rtdb-compat",[QT]:"fire-fn",[YT]:"fire-fn-compat",[FT]:"fire-iid",[XT]:"fire-iid-compat",[KT]:"fire-fcm",[ZT]:"fire-fcm-compat",[$T]:"fire-perf",[JT]:"fire-perf-compat",[WT]:"fire-rc",[t1]:"fire-rc-compat",[e1]:"fire-gcs",[n1]:"fire-gcs-compat",[i1]:"fire-fst",[a1]:"fire-fst-compat",[r1]:"fire-vertex","fire-js":"fire-js",[s1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=new Map,o1=new Map,xf=new Map;function fy(s,e){try{s.container.addComponent(e)}catch(i){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Ho(s){const e=s.name;if(xf.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;xf.set(e,s);for(const i of ko.values())fy(i,s);for(const i of o1.values())fy(i,s);return!0}function c1(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function h1(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new A_("app","Firebase",f1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new jl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=l1;function w_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Mf,automaticDataCollectionEnabled:!0},e),u=a.name;if(typeof u!="string"||!u)throw ur.create("bad-app-name",{appName:String(u)});if(i||(i=T_()),!i)throw ur.create("no-options");const h=ko.get(u);if(h){if(qo(i,h.options)&&qo(a,h.config))return h;throw ur.create("duplicate-app",{appName:u})}const d=new yT(u);for(const _ of xf.values())d.addComponent(_);const g=new d1(i,a,d);return ko.set(u,g),g}function g1(s=Mf){const e=ko.get(s);if(!e&&s===Mf&&T_())return w_();if(!e)throw ur.create("no-app",{appName:s});return e}function us(s,e,i){var a;let u=(a=u1[s])!==null&&a!==void 0?a:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${u}" with version "${e}":`];h&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(g.join(" "));return}Ho(new jl(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="firebase-heartbeat-database",y1=1,Gl="firebase-heartbeat-store";let bf=null;function C_(){return bf||(bf=IT(p1,y1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Gl)}catch(i){console.warn(i)}}}}).catch(s=>{throw ur.create("idb-open",{originalErrorMessage:s.message})})),bf}async function _1(s){try{const i=(await C_()).transaction(Gl),a=await i.objectStore(Gl).get(D_(s));return await i.done,a}catch(e){if(e instanceof ys)Di.warn(e.message);else{const i=ur.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Di.warn(i.message)}}}async function dy(s,e){try{const a=(await C_()).transaction(Gl,"readwrite");await a.objectStore(Gl).put(e,D_(s)),await a.done}catch(i){if(i instanceof ys)Di.warn(i.message);else{const a=ur.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Di.warn(a.message)}}}function D_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=1024,E1=30;class T1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new S1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=my();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>E1){const d=b1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Di.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=my(),{heartbeatsToSend:a,unsentEntries:u}=A1(this._heartbeatsCache.heartbeats),h=Po(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Di.warn(i),""}}}function my(){return new Date().toISOString().substring(0,10)}function A1(s,e=v1){const i=[];let a=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),gy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),gy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class S1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oT()?cT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await _1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return dy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return dy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function gy(s){return Po(JSON.stringify({version:2,heartbeats:s})).length}function b1(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(s){Ho(new jl("platform-logger",e=>new MT(e),"PRIVATE")),Ho(new jl("heartbeat",e=>new T1(e),"PRIVATE")),us(Nf,hy,s),us(Nf,hy,"esm2017"),us("fire-js","")}R1("");var w1="firebase",C1="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us(w1,C1,"app");var py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var or,V_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,S){function R(){}R.prototype=S.prototype,V.D=S.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(N,M,x){for(var w=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)w[Ne-2]=arguments[Ne];return S.prototype[M].apply(N,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(V,S,R){R||(R=0);var N=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)N[M]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(M=0;16>M;++M)N[M]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=V.g[0],R=V.g[1],M=V.g[2];var x=V.g[3],w=S+(x^R&(M^x))+N[0]+3614090360&4294967295;S=R+(w<<7&4294967295|w>>>25),w=x+(M^S&(R^M))+N[1]+3905402710&4294967295,x=S+(w<<12&4294967295|w>>>20),w=M+(R^x&(S^R))+N[2]+606105819&4294967295,M=x+(w<<17&4294967295|w>>>15),w=R+(S^M&(x^S))+N[3]+3250441966&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(x^R&(M^x))+N[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=x+(M^S&(R^M))+N[5]+1200080426&4294967295,x=S+(w<<12&4294967295|w>>>20),w=M+(R^x&(S^R))+N[6]+2821735955&4294967295,M=x+(w<<17&4294967295|w>>>15),w=R+(S^M&(x^S))+N[7]+4249261313&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(x^R&(M^x))+N[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=x+(M^S&(R^M))+N[9]+2336552879&4294967295,x=S+(w<<12&4294967295|w>>>20),w=M+(R^x&(S^R))+N[10]+4294925233&4294967295,M=x+(w<<17&4294967295|w>>>15),w=R+(S^M&(x^S))+N[11]+2304563134&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(x^R&(M^x))+N[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=x+(M^S&(R^M))+N[13]+4254626195&4294967295,x=S+(w<<12&4294967295|w>>>20),w=M+(R^x&(S^R))+N[14]+2792965006&4294967295,M=x+(w<<17&4294967295|w>>>15),w=R+(S^M&(x^S))+N[15]+1236535329&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(M^x&(R^M))+N[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=x+(R^M&(S^R))+N[6]+3225465664&4294967295,x=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(x^S))+N[11]+643717713&4294967295,M=x+(w<<14&4294967295|w>>>18),w=R+(x^S&(M^x))+N[0]+3921069994&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^x&(R^M))+N[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=x+(R^M&(S^R))+N[10]+38016083&4294967295,x=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(x^S))+N[15]+3634488961&4294967295,M=x+(w<<14&4294967295|w>>>18),w=R+(x^S&(M^x))+N[4]+3889429448&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^x&(R^M))+N[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=x+(R^M&(S^R))+N[14]+3275163606&4294967295,x=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(x^S))+N[3]+4107603335&4294967295,M=x+(w<<14&4294967295|w>>>18),w=R+(x^S&(M^x))+N[8]+1163531501&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^x&(R^M))+N[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=x+(R^M&(S^R))+N[2]+4243563512&4294967295,x=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(x^S))+N[7]+1735328473&4294967295,M=x+(w<<14&4294967295|w>>>18),w=R+(x^S&(M^x))+N[12]+2368359562&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(R^M^x)+N[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=x+(S^R^M)+N[8]+2272392833&4294967295,x=S+(w<<11&4294967295|w>>>21),w=M+(x^S^R)+N[11]+1839030562&4294967295,M=x+(w<<16&4294967295|w>>>16),w=R+(M^x^S)+N[14]+4259657740&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^x)+N[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=x+(S^R^M)+N[4]+1272893353&4294967295,x=S+(w<<11&4294967295|w>>>21),w=M+(x^S^R)+N[7]+4139469664&4294967295,M=x+(w<<16&4294967295|w>>>16),w=R+(M^x^S)+N[10]+3200236656&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^x)+N[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=x+(S^R^M)+N[0]+3936430074&4294967295,x=S+(w<<11&4294967295|w>>>21),w=M+(x^S^R)+N[3]+3572445317&4294967295,M=x+(w<<16&4294967295|w>>>16),w=R+(M^x^S)+N[6]+76029189&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^x)+N[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=x+(S^R^M)+N[12]+3873151461&4294967295,x=S+(w<<11&4294967295|w>>>21),w=M+(x^S^R)+N[15]+530742520&4294967295,M=x+(w<<16&4294967295|w>>>16),w=R+(M^x^S)+N[2]+3299628645&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(M^(R|~x))+N[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=x+(R^(S|~M))+N[7]+1126891415&4294967295,x=S+(w<<10&4294967295|w>>>22),w=M+(S^(x|~R))+N[14]+2878612391&4294967295,M=x+(w<<15&4294967295|w>>>17),w=R+(x^(M|~S))+N[5]+4237533241&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~x))+N[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=x+(R^(S|~M))+N[3]+2399980690&4294967295,x=S+(w<<10&4294967295|w>>>22),w=M+(S^(x|~R))+N[10]+4293915773&4294967295,M=x+(w<<15&4294967295|w>>>17),w=R+(x^(M|~S))+N[1]+2240044497&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~x))+N[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=x+(R^(S|~M))+N[15]+4264355552&4294967295,x=S+(w<<10&4294967295|w>>>22),w=M+(S^(x|~R))+N[6]+2734768916&4294967295,M=x+(w<<15&4294967295|w>>>17),w=R+(x^(M|~S))+N[13]+1309151649&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~x))+N[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=x+(R^(S|~M))+N[11]+3174756917&4294967295,x=S+(w<<10&4294967295|w>>>22),w=M+(S^(x|~R))+N[2]+718787259&4294967295,M=x+(w<<15&4294967295|w>>>17),w=R+(x^(M|~S))+N[9]+3951481745&4294967295,V.g[0]=V.g[0]+S&4294967295,V.g[1]=V.g[1]+(M+(w<<21&4294967295|w>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+x&4294967295}a.prototype.u=function(V,S){S===void 0&&(S=V.length);for(var R=S-this.blockSize,N=this.B,M=this.h,x=0;x<S;){if(M==0)for(;x<=R;)u(this,V,x),x+=this.blockSize;if(typeof V=="string"){for(;x<S;)if(N[M++]=V.charCodeAt(x++),M==this.blockSize){u(this,N),M=0;break}}else for(;x<S;)if(N[M++]=V[x++],M==this.blockSize){u(this,N),M=0;break}}this.h=M,this.o+=S},a.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var S=1;S<V.length-8;++S)V[S]=0;var R=8*this.o;for(S=V.length-8;S<V.length;++S)V[S]=R&255,R/=256;for(this.u(V),V=Array(16),S=R=0;4>S;++S)for(var N=0;32>N;N+=8)V[R++]=this.g[S]>>>N&255;return V};function h(V,S){var R=g;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=S(V)}function d(V,S){this.h=S;for(var R=[],N=!0,M=V.length-1;0<=M;M--){var x=V[M]|0;N&&x==S||(R[M]=x,N=!1)}this.g=R}var g={};function _(V){return-128<=V&&128>V?h(V,function(S){return new d([S|0],0>S?-1:0)}):new d([V|0],0>V?-1:0)}function v(V){if(isNaN(V)||!isFinite(V))return C;if(0>V)return $(v(-V));for(var S=[],R=1,N=0;V>=R;N++)S[N]=V/R|0,R*=4294967296;return new d(S,0)}function A(V,S){if(V.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(V.charAt(0)=="-")return $(A(V.substring(1),S));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(S,8)),N=C,M=0;M<V.length;M+=8){var x=Math.min(8,V.length-M),w=parseInt(V.substring(M,M+x),S);8>x?(x=v(Math.pow(S,x)),N=N.j(x).add(v(w))):(N=N.j(R),N=N.add(v(w)))}return N}var C=_(0),O=_(1),H=_(16777216);s=d.prototype,s.m=function(){if(tt(this))return-$(this).m();for(var V=0,S=1,R=0;R<this.g.length;R++){var N=this.i(R);V+=(0<=N?N:4294967296+N)*S,S*=4294967296}return V},s.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(K(this))return"0";if(tt(this))return"-"+$(this).toString(V);for(var S=v(Math.pow(V,6)),R=this,N="";;){var M=Tt(R,S).g;R=pt(R,M.j(S));var x=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=M,K(R))return x+N;for(;6>x.length;)x="0"+x;N=x+N}},s.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function K(V){if(V.h!=0)return!1;for(var S=0;S<V.g.length;S++)if(V.g[S]!=0)return!1;return!0}function tt(V){return V.h==-1}s.l=function(V){return V=pt(this,V),tt(V)?-1:K(V)?0:1};function $(V){for(var S=V.g.length,R=[],N=0;N<S;N++)R[N]=~V.g[N];return new d(R,~V.h).add(O)}s.abs=function(){return tt(this)?$(this):this},s.add=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],N=0,M=0;M<=S;M++){var x=N+(this.i(M)&65535)+(V.i(M)&65535),w=(x>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);N=w>>>16,x&=65535,w&=65535,R[M]=w<<16|x}return new d(R,R[R.length-1]&-2147483648?-1:0)};function pt(V,S){return V.add($(S))}s.j=function(V){if(K(this)||K(V))return C;if(tt(this))return tt(V)?$(this).j($(V)):$($(this).j(V));if(tt(V))return $(this.j($(V)));if(0>this.l(H)&&0>V.l(H))return v(this.m()*V.m());for(var S=this.g.length+V.g.length,R=[],N=0;N<2*S;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<V.g.length;M++){var x=this.i(N)>>>16,w=this.i(N)&65535,Ne=V.i(M)>>>16,ie=V.i(M)&65535;R[2*N+2*M]+=w*ie,ut(R,2*N+2*M),R[2*N+2*M+1]+=x*ie,ut(R,2*N+2*M+1),R[2*N+2*M+1]+=w*Ne,ut(R,2*N+2*M+1),R[2*N+2*M+2]+=x*Ne,ut(R,2*N+2*M+2)}for(N=0;N<S;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=S;N<2*S;N++)R[N]=0;return new d(R,0)};function ut(V,S){for(;(V[S]&65535)!=V[S];)V[S+1]+=V[S]>>>16,V[S]&=65535,S++}function rt(V,S){this.g=V,this.h=S}function Tt(V,S){if(K(S))throw Error("division by zero");if(K(V))return new rt(C,C);if(tt(V))return S=Tt($(V),S),new rt($(S.g),$(S.h));if(tt(S))return S=Tt(V,$(S)),new rt($(S.g),S.h);if(30<V.g.length){if(tt(V)||tt(S))throw Error("slowDivide_ only works with positive integers.");for(var R=O,N=S;0>=N.l(V);)R=ct(R),N=ct(N);var M=ot(R,1),x=ot(N,1);for(N=ot(N,2),R=ot(R,2);!K(N);){var w=x.add(N);0>=w.l(V)&&(M=M.add(R),x=w),N=ot(N,1),R=ot(R,1)}return S=pt(V,M.j(S)),new rt(M,S)}for(M=C;0<=V.l(S);){for(R=Math.max(1,Math.floor(V.m()/S.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),x=v(R),w=x.j(S);tt(w)||0<w.l(V);)R-=N,x=v(R),w=x.j(S);K(x)&&(x=O),M=M.add(x),V=pt(V,w)}return new rt(M,V)}s.A=function(V){return Tt(this,V).h},s.and=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)&V.i(N);return new d(R,this.h&V.h)},s.or=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)|V.i(N);return new d(R,this.h|V.h)},s.xor=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)^V.i(N);return new d(R,this.h^V.h)};function ct(V){for(var S=V.g.length+1,R=[],N=0;N<S;N++)R[N]=V.i(N)<<1|V.i(N-1)>>>31;return new d(R,V.h)}function ot(V,S){var R=S>>5;S%=32;for(var N=V.g.length-R,M=[],x=0;x<N;x++)M[x]=0<S?V.i(x+R)>>>S|V.i(x+R+1)<<32-S:V.i(x+R);return new d(M,V.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,V_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,or=d}).apply(typeof py<"u"?py:typeof self<"u"?self:typeof window<"u"?window:{});var Do=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var I_,Ml,O_,Mo,Uf,N_,M_,x_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Do=="object"&&Do];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var p=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var L=o[T];if(!(L in p))break t;p=p[L]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var p=0,T=!1,L={next:function(){if(!T&&p<o.length){var k=p++;return{value:m(k,o[k]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,p){return o.call.apply(o.bind,arguments)}function C(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),o.apply(m,L)}}return function(){return o.apply(m,arguments)}}function O(o,m,p){return O=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:C,O.apply(null,arguments)}function H(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function K(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,L,k){for(var W=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)W[Nt-2]=arguments[Nt];return m.prototype[L].apply(T,W)}}function tt(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function $(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const L=o.length||0,k=T.length||0;o.length=L+k;for(let W=0;W<k;W++)o[L+W]=T[W]}else o.push(T)}}class pt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ut(o){return/^[\s\xa0]*$/.test(o)}function rt(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function Tt(o){return Tt[" "](o),o}Tt[" "]=function(){};var ct=rt().indexOf("Gecko")!=-1&&!(rt().toLowerCase().indexOf("webkit")!=-1&&rt().indexOf("Edge")==-1)&&!(rt().indexOf("Trident")!=-1||rt().indexOf("MSIE")!=-1)&&rt().indexOf("Edge")==-1;function ot(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function V(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function S(o){const m={};for(const p in o)m[p]=o[p];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(o,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)o[p]=T[p];for(let k=0;k<R.length;k++)p=R[k],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function M(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function x(o){g.setTimeout(()=>{throw o},0)}function w(){var o=Bt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Ne{constructor(){this.h=this.g=null}add(m,p){const T=ie.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new pt(()=>new j,o=>o.reset());class j{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ht=!1,Bt=new Ne,D=()=>{const o=g.Promise.resolve(void 0);et=()=>{o.then(Z)}};var Z=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(p){x(p)}var m=ie;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ht=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function wt(o,m){if(J.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(ct){t:{try{Tt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:vt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&wt.aa.h.call(this)}}K(wt,J);var vt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function xn(o,m,p,T,L){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function Oi(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ei(o){this.src=o,this.g={},this.h=0}ei.prototype.add=function(o,m,p,T,L){var k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);var W=vr(o,m,T,L);return-1<W?(m=o[W],p||(m.fa=!1)):(m=new xn(m,this.src,k,!!T,L),m.fa=p,o.push(m)),m};function _r(o,m){var p=m.type;if(p in o.g){var T=o.g[p],L=Array.prototype.indexOf.call(T,m,void 0),k;(k=0<=L)&&Array.prototype.splice.call(T,L,1),k&&(Oi(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function vr(o,m,p,T){for(var L=0;L<o.length;++L){var k=o[L];if(!k.da&&k.listener==m&&k.capture==!!p&&k.ha==T)return L}return-1}var Er="closure_lm_"+(1e6*Math.random()|0),Ss={};function iu(o,m,p,T,L){if(Array.isArray(m)){for(var k=0;k<m.length;k++)iu(o,m[k],p,T,L);return null}return p=ru(p),o&&o[be]?o.K(m,p,v(T)?!!T.capture:!1,L):fn(o,m,p,!1,T,L)}function fn(o,m,p,T,L,k){if(!m)throw Error("Invalid event type");var W=v(L)?!!L.capture:!!L,Nt=fa(o);if(Nt||(o[Er]=Nt=new ei(o)),p=Nt.add(m,p,T,W,k),p.proxy)return p;if(T=mc(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)dt||(L=W),L===void 0&&(L=!1),o.addEventListener(m.toString(),T,L);else if(o.attachEvent)o.attachEvent(Tr(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function mc(){function o(p){return m.call(o.src,o.listener,p)}const m=gc;return o}function bs(o,m,p,T,L){if(Array.isArray(m))for(var k=0;k<m.length;k++)bs(o,m[k],p,T,L);else T=v(T)?!!T.capture:!!T,p=ru(p),o&&o[be]?(o=o.i,m=String(m).toString(),m in o.g&&(k=o.g[m],p=vr(k,p,T,L),-1<p&&(Oi(k[p]),Array.prototype.splice.call(k,p,1),k.length==0&&(delete o.g[m],o.h--)))):o&&(o=fa(o))&&(m=o.g[m.toString()],o=-1,m&&(o=vr(m,p,T,L)),(p=-1<o?m[o]:null)&&ha(p))}function ha(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[be])_r(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Tr(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=fa(m))?(_r(p,o),p.h==0&&(p.src=null,m[Er]=null)):Oi(o)}}}function Tr(o){return o in Ss?Ss[o]:Ss[o]="on"+o}function gc(o,m){if(o.da)o=!0;else{m=new wt(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&ha(o),o=p.call(T,m)}return o}function fa(o){return o=o[Er],o instanceof ei?o:null}var Rs="__closure_events_fn_"+(1e9*Math.random()>>>0);function ru(o){return typeof o=="function"?o:(o[Rs]||(o[Rs]=function(m){return o.handleEvent(m)}),o[Rs])}function re(){nt.call(this),this.i=new ei(this),this.M=this,this.F=null}K(re,nt),re.prototype[be]=!0,re.prototype.removeEventListener=function(o,m,p,T){bs(this,o,m,p,T)};function Ht(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new J(m,o);else if(m instanceof J)m.target=m.target||o;else{var L=m;m=new J(T,o),N(m,L)}if(L=!0,p)for(var k=p.length-1;0<=k;k--){var W=m.g=p[k];L=en(W,T,!0,m)&&L}if(W=m.g=o,L=en(W,T,!0,m)&&L,L=en(W,T,!1,m)&&L,p)for(k=0;k<p.length;k++)W=m.g=p[k],L=en(W,T,!1,m)&&L}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)Oi(p[T]);delete o.g[m],o.h--}}this.F=null},re.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},re.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function en(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,k=0;k<m.length;++k){var W=m[k];if(W&&!W.da&&W.capture==p){var Nt=W.listener,_e=W.ha||W.src;W.fa&&_r(o.i,W),L=Nt.call(_e,T)!==!1&&L}}return L&&!T.defaultPrevented}function ke(o,m,p){if(typeof o=="function")p&&(o=O(o,p));else if(o&&typeof o.handleEvent=="function")o=O(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function au(o){o.g=ke(()=>{o.g=null,o.i&&(o.i=!1,au(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class pc extends nt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:au(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ar(o){nt.call(this),this.h=o,this.g={}}K(Ar,nt);var Sr=[];function br(o){ot(o.g,function(m,p){this.g.hasOwnProperty(p)&&ha(m)},o),o.g={}}Ar.prototype.N=function(){Ar.aa.N.call(this),br(this)},Ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wn=g.JSON.stringify,da=g.JSON.parse,Rr=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function ws(){}ws.prototype.h=null;function Cs(o){return o.h||(o.h=o.i())}function Ds(){}var ni={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ii(){J.call(this,"d")}K(ii,J);function Vs(){J.call(this,"c")}K(Vs,J);var Un={},Is=null;function Ni(){return Is=Is||new re}Un.La="serverreachability";function ma(o){J.call(this,Un.La,o)}K(ma,J);function Mi(o){const m=Ni();Ht(m,new ma(m))}Un.STAT_EVENT="statevent";function su(o,m){J.call(this,Un.STAT_EVENT,o),this.stat=m}K(su,J);function Wt(o){const m=Ni();Ht(m,new su(m,o))}Un.Ma="timingevent";function ye(o,m){J.call(this,Un.Ma,o),this.size=m}K(ye,J);function he(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function dn(){this.g=!0}dn.prototype.xa=function(){this.g=!1};function Os(o,m,p,T,L,k){o.info(function(){if(o.g)if(k)for(var W="",Nt=k.split("&"),_e=0;_e<Nt.length;_e++){var Mt=Nt[_e].split("=");if(1<Mt.length){var we=Mt[0];Mt=Mt[1];var ve=we.split("_");W=2<=ve.length&&ve[1]=="type"?W+(we+"="+Mt+"&"):W+(we+"=redacted&")}}else W=null;else W=k;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+W})}function yc(o,m,p,T,L,k,W){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+k+" "+W})}function xi(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+wr(o,p)+(T?" "+T:"")})}function lu(o,m){o.info(function(){return"TIMEOUT: "+m})}dn.prototype.info=function(){};function wr(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var k=L[0];if(k!="noop"&&k!="stop"&&k!="close")for(var W=1;W<L.length;W++)L[W]=""}}}}return wn(p)}catch{return m}}var Ui={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ln;function zn(){}K(zn,ws),zn.prototype.g=function(){return new XMLHttpRequest},zn.prototype.i=function(){return{}},Ln=new zn;function Fe(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new Ar(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var Ns={},ga={};function Cn(o,m,p){o.L=1,o.v=Or(nn(m)),o.m=p,o.P=!0,ai(o,null)}function ai(o,m){o.F=Date.now(),Cr(o),o.A=nn(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),Bs(p.i,"t",T),o.C=0,p=o.j.J,o.h=new le,o.g=Su(o.j,p?m:null,!o.m),0<o.O&&(o.M=new pc(O(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var L="readystatechange";Array.isArray(L)||(L&&(Sr[0]=L.toString()),L=Sr);for(var k=0;k<L.length;k++){var W=iu(p,L[k],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=o.H?S(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Mi(),Os(o.i,o.u,o.A,o.l,o.R,o.m)}Fe.prototype.ca=function(o){o=o.target;const m=this.M;m&&yn(o)==3?m.j():this.Y(o)},Fe.prototype.Y=function(o){try{if(o==this.g)t:{const ve=yn(this.g);var m=this.g.Ba();const di=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||gu(this.g)))){this.J||ve!=4||m==7||(m==8||0>=di?Mi(3):Mi(2)),Li(this);var p=this.g.Z();this.X=p;e:if(uu(this)){var T=gu(this.g);o="";var L=T.length,k=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),Bn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(k&&m==L-1)});T.length=0,this.h.g+=o,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,yc(this.i,this.u,this.A,this.l,this.R,ve,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Nt,_e=this.g;if((Nt=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ut(Nt)){var Mt=Nt;break e}}Mt=null}if(p=Mt)xi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dr(this,p);else{this.o=!1,this.s=3,Wt(12),Me(this),Bn(this);break t}}if(this.P){p=!0;let xe;for(;!this.J&&this.C<W.length;)if(xe=ou(this,W),xe==ga){ve==4&&(this.s=4,Wt(14),p=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(xe==Ns){this.s=4,Wt(15),xi(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else xi(this.i,this.l,xe,null),Dr(this,xe);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||W.length!=0||this.h.h||(this.s=1,Wt(16),p=!1),this.o=this.o&&p,!p)xi(this.i,this.l,W,"[Invalid Chunked Response]"),Me(this),Bn(this);else if(0<W.length&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.ba&&!we.M&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Pr(we),we.M=!0,Wt(11))}}else xi(this.i,this.l,W,null),Dr(this,W);ve==4&&Me(this),this.o&&!this.J&&(ve==4?Eu(this.j,this):(this.o=!1,Cr(this)))}else Ac(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Me(this),Bn(this)}}}catch{}finally{}};function uu(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function ou(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?ga:(p=Number(m.substring(p,T)),isNaN(p)?Ns:(T+=1,T+p>m.length?ga:(m=m.slice(T,T+p),o.C=T+p,m)))}Fe.prototype.cancel=function(){this.J=!0,Me(this)};function Cr(o){o.S=Date.now()+o.I,cu(o,o.I)}function cu(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=he(O(o.ba,o),m)}function Li(o){o.B&&(g.clearTimeout(o.B),o.B=null)}Fe.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(lu(this.i,this.A),this.L!=2&&(Mi(),Wt(17)),Me(this),this.s=2,Bn(this)):cu(this,this.S-o)};function Bn(o){o.j.G==0||o.J||Eu(o.j,o)}function Me(o){Li(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,br(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Dr(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||Ms(p.h,o))){if(!o.K&&Ms(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)Ca(p),Ra(p);else break t;js(p),Wt(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=he(O(p.Za,p),6e3));if(1>=ya(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else fi(p,11)}else if((o.K||p.g==o)&&Ca(p),!ut(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let Mt=L[m];if(p.T=Mt[0],Mt=Mt[1],p.G==2)if(Mt[0]=="c"){p.K=Mt[1],p.ia=Mt[2];const we=Mt[3];we!=null&&(p.la=we,p.j.info("VER="+p.la));const ve=Mt[4];ve!=null&&(p.Aa=ve,p.j.info("SVER="+p.Aa));const di=Mt[5];di!=null&&typeof di=="number"&&0<di&&(T=1.5*di,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const xe=o.g;if(xe){const Qn=xe.g?xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var k=T.h;k.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(_a(k,k.h),k.h=null))}if(T.D){const Qs=xe.g?xe.g.getResponseHeader("X-HTTP-Session-Id"):null;Qs&&(T.ya=Qs,Qt(T.I,T.D,Qs))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var W=o;if(T.qa=Au(T,T.J?T.ia:null,T.W),W.K){Xe(T.h,W);var Nt=W,_e=T.L;_e&&(Nt.I=_e),Nt.B&&(Li(Nt),Cr(Nt)),T.g=W}else _u(T);0<p.i.length&&wa(p)}else Mt[0]!="stop"&&Mt[0]!="close"||fi(p,7);else p.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?fi(p,7):ks(p):Mt[0]!="noop"&&p.l&&p.l.ta(Mt),p.v=0)}}Mi(4)}catch{}}var hu=class{constructor(o,m){this.g=o,this.map=m}};function si(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pa(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ya(o){return o.h?1:o.g?o.g.size:0}function Ms(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function _a(o,m){o.g?o.g.add(m):o.h=m}function Xe(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}si.prototype.cancel=function(){if(this.i=xs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function xs(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return tt(o.i)}function _c(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function va(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function Us(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=va(o),T=_c(o),L=T.length,k=0;k<L;k++)m.call(void 0,T[k],p&&p[k],o)}var Vr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vc(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),L=null;if(0<=T){var k=o[p].substring(0,T);L=o[p].substring(T+1)}else k=o[p];m(k,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function fe(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof fe){this.h=o.h,Ir(this,o.j),this.o=o.o,this.g=o.g,zi(this,o.s),this.l=o.l;var m=o.i,p=new ui;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),li(this,p),this.m=o.m}else o&&(m=String(o).match(Vr))?(this.h=!1,Ir(this,m[1]||"",!0),this.o=mn(m[2]||""),this.g=mn(m[3]||"",!0),zi(this,m[4]),this.l=mn(m[5]||"",!0),li(this,m[6]||"",!0),this.m=mn(m[7]||"")):(this.h=!1,this.i=new ui(null,this.h))}fe.prototype.toString=function(){var o=[],m=this.j;m&&o.push(Nr(m,Ls,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Nr(m,Ls,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Nr(p,p.charAt(0)=="/"?Ec:zs,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Nr(p,Ea)),o.join("")};function nn(o){return new fe(o)}function Ir(o,m,p){o.j=p?mn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function zi(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function li(o,m,p){m instanceof ui?(o.i=m,du(o.i,o.h)):(p||(m=Nr(m,Tc)),o.i=new ui(m,o.h))}function Qt(o,m,p){o.i.set(m,p)}function Or(o){return Qt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function mn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Nr(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,fu),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function fu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ls=/[#\/\?@]/g,zs=/[#\?:]/g,Ec=/[#\?]/g,Tc=/[#\?@]/g,Ea=/#/g;function ui(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function gn(o){o.g||(o.g=new Map,o.h=0,o.i&&vc(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=ui.prototype,s.add=function(o,m){gn(this),this.i=null,o=Pn(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function oi(o,m){gn(o),m=Pn(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function ci(o,m){return gn(o),m=Pn(o,m),o.g.has(m)}s.forEach=function(o,m){gn(this),this.g.forEach(function(p,T){p.forEach(function(L){o.call(m,L,T,this)},this)},this)},s.na=function(){gn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=o[T];for(let k=0;k<L.length;k++)p.push(m[T])}return p},s.V=function(o){gn(this);let m=[];if(typeof o=="string")ci(this,o)&&(m=m.concat(this.g.get(Pn(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},s.set=function(o,m){return gn(this),this.i=null,o=Pn(this,o),ci(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function Bs(o,m,p){oi(o,m),0<p.length&&(o.i=null,o.g.set(Pn(o,m),tt(p)),o.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const k=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var L=k;W[T]!==""&&(L+="="+encodeURIComponent(String(W[T]))),o.push(L)}}return this.i=o.join("&")};function Pn(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function du(o,m){m&&!o.j&&(gn(o),o.i=null,o.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(oi(this,T),Bs(this,L,p))},o)),o.j=m}function Mr(o,m){const p=new dn;if(g.Image){const T=new Image;T.onload=H(pn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=H(pn,p,"TestLoadImage: error",!1,m,T),T.onabort=H(pn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=H(pn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Dn(o,m){const p=new dn,T=new AbortController,L=setTimeout(()=>{T.abort(),pn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(k=>{clearTimeout(L),k.ok?pn(p,"TestPingServer: ok",!0,m):pn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),pn(p,"TestPingServer: error",!1,m)})}function pn(o,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function xr(){this.g=new Rr}function qn(o,m,p){const T=p||"";try{Us(o,function(L,k){let W=L;v(L)&&(W=wn(L)),m.push(T+k+"="+encodeURIComponent(W))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function Bi(o){this.l=o.Ub||null,this.j=o.eb||!1}K(Bi,ws),Bi.prototype.g=function(){return new hi(this.l,this.j)},Bi.prototype.i=function(o){return function(){return o}}({});function hi(o,m){re.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}K(hi,re),s=hi.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Hn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ps(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ps(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?kn(this):Hn(this),this.readyState==3&&Ps(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,kn(this))},s.Qa=function(o){this.g&&(this.response=o,kn(this))},s.ga=function(){this.g&&kn(this)};function kn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Hn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Hn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function qs(o){let m="";return ot(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Re(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=qs(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):Qt(o,m,p))}function qt(o){re.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}K(qt,re);var Ta=/^https?$/i,Ur=["POST","PUT"];s=qt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ln.g(),this.v=this.o?Cs(this.o):Cs(Ln),this.g.onreadystatechange=O(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(k){mu(this,k);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())p.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(k=>k.toLowerCase()=="content-type"),L=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Ur,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,W]of p)this.g.setRequestHeader(k,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Lr(this),this.u=!0,this.g.send(o),this.u=!1}catch(k){mu(this,k)}};function mu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Aa(o),jn(o)}function Aa(o){o.A||(o.A=!0,Ht(o,"complete"),Ht(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Ht(this,"complete"),Ht(this,"abort"),jn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jn(this,!0)),qt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Sa(this):this.bb())},s.bb=function(){Sa(this)};function Sa(o){if(o.h&&typeof d<"u"&&(!o.v[1]||yn(o)!=4||o.Z()!=2)){if(o.u&&yn(o)==4)ke(o.Ea,0,o);else if(Ht(o,"readystatechange"),yn(o)==4){o.h=!1;try{const W=o.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=W===0){var L=String(o.D).match(Vr)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!Ta.test(L?L.toLowerCase():"")}p=T}if(p)Ht(o,"complete"),Ht(o,"success");else{o.m=6;try{var k=2<yn(o)?o.g.statusText:""}catch{k=""}o.l=k+" ["+o.Z()+"]",Aa(o)}}finally{jn(o)}}}}function jn(o,m){if(o.g){Lr(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Ht(o,"ready");try{p.onreadystatechange=T}catch{}}}function Lr(o){o.I&&(g.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function yn(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),da(m)}};function gu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ac(o){const m={};o=(o.g&&2<=yn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(ut(o[T]))continue;var p=M(o[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const k=m[L]||[];m[L]=k,k.push(p)}V(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zr(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function ba(o){this.Aa=0,this.i=[],this.j=new dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zr("baseRetryDelayMs",5e3,o),this.cb=zr("retryDelaySeedMs",1e4,o),this.Wa=zr("forwardChannelMaxRetries",2,o),this.wa=zr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new si(o&&o.concurrentRequestLimit),this.Da=new xr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=ba.prototype,s.la=8,s.G=1,s.connect=function(o,m,p,T){Wt(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Au(this,null,this.W),wa(this)};function ks(o){if(pu(o),o.G==3){var m=o.U++,p=nn(o.I);if(Qt(p,"SID",o.K),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),Br(o,p),m=new Fe(o,o.j,m),m.L=2,m.v=Or(nn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Su(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Cr(m)}Tu(o)}function Ra(o){o.g&&(Pr(o),o.g.cancel(),o.g=null)}function pu(o){Ra(o),o.u&&(g.clearTimeout(o.u),o.u=null),Ca(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function wa(o){if(!pa(o.h)&&!o.s){o.s=!0;var m=o.Ga;et||D(),ht||(et(),ht=!0),Bt.add(m,o),o.B=0}}function Sc(o,m){return ya(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=he(O(o.Ga,o,m),Gs(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const L=new Fe(this,this.j,o);let k=this.o;if(this.S&&(k?(k=S(k),N(k,this.S)):k=this.S),this.m!==null||this.O||(L.H=k,k=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=yu(this,L,m),p=nn(this.I),Qt(p,"RID",o),Qt(p,"CVER",22),this.D&&Qt(p,"X-HTTP-Session-Id",this.D),Br(this,p),k&&(this.O?m="headers="+encodeURIComponent(String(qs(k)))+"&"+m:this.m&&Re(p,this.m,k)),_a(this.h,L),this.Ua&&Qt(p,"TYPE","init"),this.P?(Qt(p,"$req",m),Qt(p,"SID","null"),L.T=!0,Cn(L,p,null)):Cn(L,p,m),this.G=2}}else this.G==3&&(o?Hs(this,o):this.i.length==0||pa(this.h)||Hs(this))};function Hs(o,m){var p;m?p=m.l:p=o.U++;const T=nn(o.I);Qt(T,"SID",o.K),Qt(T,"RID",p),Qt(T,"AID",o.T),Br(o,T),o.m&&o.o&&Re(T,o.m,o.o),p=new Fe(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=yu(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),_a(o.h,p),Cn(p,T,m)}function Br(o,m){o.H&&ot(o.H,function(p,T){Qt(m,T,p)}),o.l&&Us({},function(p,T){Qt(m,T,p)})}function yu(o,m,p){p=Math.min(o.i.length,p);var T=o.l?O(o.l.Na,o.l,o):null;t:{var L=o.i;let k=-1;for(;;){const W=["count="+p];k==-1?0<p?(k=L[0].g,W.push("ofs="+k)):k=0:W.push("ofs="+k);let Nt=!0;for(let _e=0;_e<p;_e++){let Mt=L[_e].g;const we=L[_e].map;if(Mt-=k,0>Mt)k=Math.max(0,L[_e].g-100),Nt=!1;else try{qn(we,W,"req"+Mt+"_")}catch{T&&T(we)}}if(Nt){T=W.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function _u(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;et||D(),ht||(et(),ht=!0),Bt.add(m,o),o.v=0}}function js(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=he(O(o.Fa,o),Gs(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,vu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=he(O(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Ra(this),vu(this))};function Pr(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function vu(o){o.g=new Fe(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=nn(o.qa);Qt(m,"RID","rpc"),Qt(m,"SID",o.K),Qt(m,"AID",o.T),Qt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Qt(m,"TO",o.ja),Qt(m,"TYPE","xmlhttp"),Br(o,m),o.m&&o.o&&Re(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=Or(nn(m)),p.m=null,p.P=!0,ai(p,o)}s.Za=function(){this.C!=null&&(this.C=null,Ra(this),js(this),Wt(19))};function Ca(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function Eu(o,m){var p=null;if(o.g==m){Ca(o),Pr(o),o.g=null;var T=2}else if(Ms(o.h,m))p=m.D,Xe(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=o.B;T=Ni(),Ht(T,new ye(T,p)),wa(o)}else _u(o);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Sc(o,m)||T==2&&js(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),L){case 1:fi(o,5);break;case 4:fi(o,10);break;case 3:fi(o,6);break;default:fi(o,2)}}}function Gs(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function fi(o,m){if(o.j.info("Error code "+m),m==2){var p=O(o.fb,o),T=o.Xa;const L=!T;T=new fe(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ir(T,"https"),Or(T),L?Mr(T.toString(),p):Dn(T.toString(),p)}else Wt(2);o.G=0,o.l&&o.l.sa(m),Tu(o),pu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function Tu(o){if(o.G=0,o.ka=[],o.l){const m=xs(o.h);(m.length!=0||o.i.length!=0)&&($(o.ka,m),$(o.ka,o.i),o.h.i.length=0,tt(o.i),o.i.length=0),o.l.ra()}}function Au(o,m,p){var T=p instanceof fe?nn(p):new fe(p);if(T.g!="")m&&(T.g=m+"."+T.g),zi(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var k=new fe(null);T&&Ir(k,T),m&&(k.g=m),L&&zi(k,L),p&&(k.l=p),T=k}return p=o.D,m=o.ya,p&&m&&Qt(T,p,m),Qt(T,"VER",o.la),Br(o,T),T}function Su(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new qt(new Bi({eb:p})):new qt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}s=bu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Da(){}Da.prototype.g=function(o,m){return new Ke(o,m)};function Ke(o,m){re.call(this),this.g=new ba(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!ut(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ut(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Gn(this)}K(Ke,re),Ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ke.prototype.close=function(){ks(this.g)},Ke.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=wn(o),o=p);m.i.push(new hu(m.Ya++,o)),m.G==3&&wa(m)},Ke.prototype.N=function(){this.g.l=null,delete this.j,ks(this.g),delete this.g,Ke.aa.N.call(this)};function Ru(o){ii.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}K(Ru,ii);function wu(){Vs.call(this),this.status=1}K(wu,Vs);function Gn(o){this.g=o}K(Gn,bu),Gn.prototype.ua=function(){Ht(this.g,"a")},Gn.prototype.ta=function(o){Ht(this.g,new Ru(o))},Gn.prototype.sa=function(o){Ht(this.g,new wu)},Gn.prototype.ra=function(){Ht(this.g,"b")},Da.prototype.createWebChannel=Da.prototype.g,Ke.prototype.send=Ke.prototype.o,Ke.prototype.open=Ke.prototype.m,Ke.prototype.close=Ke.prototype.close,x_=function(){return new Da},M_=function(){return Ni()},N_=Un,Uf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ui.NO_ERROR=0,Ui.TIMEOUT=8,Ui.HTTP_ERROR=6,Mo=Ui,ri.COMPLETE="complete",O_=ri,Ds.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",re.prototype.listen=re.prototype.K,Ml=Ds,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,I_=qt}).apply(typeof Do<"u"?Do:typeof self<"u"?self:typeof window<"u"?window:{});const yy="@firebase/firestore",_y="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _s="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new S_("@firebase/firestore");function rs(){return aa.logLevel}function it(s,...e){if(aa.logLevel<=Lt.DEBUG){const i=e.map(ed);aa.debug(`Firestore (${_s}): ${s}`,...i)}}function Vi(s,...e){if(aa.logLevel<=Lt.ERROR){const i=e.map(ed);aa.error(`Firestore (${_s}): ${s}`,...i)}}function cs(s,...e){if(aa.logLevel<=Lt.WARN){const i=e.map(ed);aa.warn(`Firestore (${_s}): ${s}`,...i)}}function ed(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,U_(s,a,i)}function U_(s,e,i){let a=`FIRESTORE (${_s}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Vi(a),new Error(a)}function kt(s,e,i,a){let u="Unexpected state";typeof i=="string"?u=i:a=i,s||U_(e,u,a)}function At(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends ys{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class D1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class V1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class I1{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){kt(this.o===void 0,42304);let a=this.i;const u=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new ia;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ia,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},g=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ia)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(kt(typeof a.accessToken=="string",31837,{l:a}),new L_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new Qe(e)}}class O1{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class N1{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new O1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,h1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){kt(this.o===void 0,3512);const a=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const u=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new vy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new vy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=x1(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function Rt(s,e){return s<e?-1:s>e?1:0}function Lf(s,e){let i=0;for(;i<s.length&&i<e.length;){const a=s.codePointAt(i),u=e.codePointAt(i);if(a!==u){if(a<128&&u<128)return Rt(a,u);{const h=z_(),d=U1(h.encode(Ey(s,i)),h.encode(Ey(e,i)));return d!==0?d:Rt(a,u)}}i+=a>65535?2:1}return Rt(s.length,e.length)}function Ey(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function U1(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return Rt(s[i],e[i]);return Rt(s.length,e.length)}function hs(s,e,i){return s.length===e.length&&s.every((a,u)=>i(a,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=-62135596800,Ay=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Ay);return new Ae(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new st(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Ty)throw new st(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ay}_compareTo(e){return this.seconds===e.seconds?Rt(this.nanoseconds,e.nanoseconds):Rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ty;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new Ae(0,0))}static max(){return new Et(new Ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="__name__";class $n{constructor(e,i,a){i===void 0?i=0:i>e.length&&yt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&yt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return $n.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof $n?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=$n.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Rt(e.length,i.length)}static compareSegments(e,i){const a=$n.isNumericId(e),u=$n.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?$n.extractNumericId(e).compare($n.extractNumericId(i)):Lf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return or.fromString(e.substring(4,e.length-2))}}class Jt extends $n{construct(e,i,a){return new Jt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new st(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new Jt(i)}static emptyPath(){return new Jt([])}}const L1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends $n{construct(e,i,a){return new Pe(e,i,a)}static isValidIdentifier(e){return L1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Sy}static keyField(){return new Pe([Sy])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new st(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new st(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new st(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(a+=g,u++):(h(),u++)}if(h(),d)throw new st(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pe(i)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.path=e}static fromPath(e){return new ft(Jt.fromString(e))}static fromName(e){return new ft(Jt.fromString(e).popFirst(5))}static empty(){return new ft(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new Jt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function z1(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=Et.fromTimestamp(a===1e9?new Ae(i+1,0):new Ae(i,a));return new hr(u,ft.empty(),e)}function B1(s){return new hr(s.readTime,s.key,Ql)}class hr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new hr(Et.min(),ft.empty(),Ql)}static max(){return new hr(Et.max(),ft.empty(),Ql)}}function P1(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,e.documentKey),i!==0?i:Rt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class k1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vs(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==q1)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new F((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof F?i:F.resolve(i)}catch(i){return F.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):F.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):F.reject(i)}static resolve(e){return new F((i,a)=>{i(e)})}static reject(e){return new F((i,a)=>{a(e)})}static waitFor(e){return new F((i,a)=>{let u=0,h=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++h,d&&h===u&&i()},_=>a(_))}),d=!0,h===u&&i()})}static or(e){let i=F.resolve(!1);for(const a of e)i=i.next(u=>u?F.resolve(u):a());return i}static forEach(e,i){const a=[];return e.forEach((u,h)=>{a.push(i.call(this,u,h))}),this.waitFor(a)}static mapArray(e,i){return new F((a,u)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++g,g===h&&a(d)},A=>u(A))}})}static doWhile(e,i){return new F((a,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):a()};h()})}}function H1(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Es(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>i.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ec.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=-1;function nc(s){return s==null}function jo(s){return s===0&&1/s==-1/0}function j1(s){return typeof s=="number"&&Number.isInteger(s)&&!jo(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="";function G1(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=by(e)),e=Q1(s.get(i),e);return by(e)}function Q1(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case P_:i+="";break;default:i+=h}}return i}function by(s){return s+P_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function la(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function q_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||Be.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vo(this.root,e,this.comparator,!0)}}class Vo{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??Be.RED,this.left=u??Be.EMPTY,this.right=h??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new Be(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Be.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw yt(27949);return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(e,i,a,u,h){return this}insert(e,i,a){return new Be(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new wy(this.data.getIterator())}getIteratorFrom(e){return new wy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof Se)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Se(this.comparator);return i.data=e,i}}class wy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(Pe.comparator)}static empty(){return new Nn([])}unionWith(e){let i=new Se(Pe.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Nn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return hs(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new k_("Invalid base64 string: "+h):h}}(e);return new qe(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const Y1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(s){if(kt(!!s,39018),typeof s=="string"){let e=0;const i=Y1.exec(s);if(kt(!!i,46558,{timestamp:s}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ce(s.seconds),nanos:ce(s.nanos)}}function ce(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function dr(s){return typeof s=="string"?qe.fromBase64String(s):qe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="server_timestamp",j_="__type__",G_="__previous_value__",Q_="__local_write_time__";function id(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[j_])===null||i===void 0?void 0:i.stringValue)===H_}function ic(s){const e=s.mapValue.fields[G_];return id(e)?ic(e):e}function Yl(s){const e=fr(s.mapValue.fields[Q_].timestampValue);return new Ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,i,a,u,h,d,g,_,v,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const Go="(default)";class Fl{constructor(e,i){this.projectId=e,this.database=i||Go}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database===Go}isEqual(e){return e instanceof Fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="__type__",X1="__max__",Io={mapValue:{}},F_="__vector__",Qo="value";function mr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?id(s)?4:Z1(s)?9007199254740991:K1(s)?10:11:yt(28295,{value:s})}function ti(s,e){if(s===e)return!0;const i=mr(s);if(i!==mr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Yl(s).isEqual(Yl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=fr(u.timestampValue),g=fr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return dr(u.bytesValue).isEqual(dr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return ce(u.geoPointValue.latitude)===ce(h.geoPointValue.latitude)&&ce(u.geoPointValue.longitude)===ce(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return ce(u.integerValue)===ce(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ce(u.doubleValue),g=ce(h.doubleValue);return d===g?jo(d)===jo(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return hs(s.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(Ry(d)!==Ry(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ti(d[_],g[_])))return!1;return!0}(s,e);default:return yt(52216,{left:s})}}function Xl(s,e){return(s.values||[]).find(i=>ti(i,e))!==void 0}function fs(s,e){if(s===e)return 0;const i=mr(s),a=mr(e);if(i!==a)return Rt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Rt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const g=ce(h.integerValue||h.doubleValue),_=ce(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(s,e);case 3:return Cy(s.timestampValue,e.timestampValue);case 4:return Cy(Yl(s),Yl(e));case 5:return Lf(s.stringValue,e.stringValue);case 6:return function(h,d){const g=dr(h),_=dr(d);return g.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=Rt(g[v],_[v]);if(A!==0)return A}return Rt(g.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Rt(ce(h.latitude),ce(d.latitude));return g!==0?g:Rt(ce(h.longitude),ce(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Dy(s.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,A;const C=h.fields||{},O=d.fields||{},H=(g=C[Qo])===null||g===void 0?void 0:g.arrayValue,K=(_=O[Qo])===null||_===void 0?void 0:_.arrayValue,tt=Rt(((v=H==null?void 0:H.values)===null||v===void 0?void 0:v.length)||0,((A=K==null?void 0:K.values)===null||A===void 0?void 0:A.length)||0);return tt!==0?tt:Dy(H,K)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===Io.mapValue&&d===Io.mapValue)return 0;if(h===Io.mapValue)return 1;if(d===Io.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let C=0;C<_.length&&C<A.length;++C){const O=Lf(_[C],A[C]);if(O!==0)return O;const H=fs(g[_[C]],v[A[C]]);if(H!==0)return H}return Rt(_.length,A.length)}(s.mapValue,e.mapValue);default:throw yt(23264,{Pe:i})}}function Cy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Rt(s,e);const i=fr(s),a=fr(e),u=Rt(i.seconds,a.seconds);return u!==0?u:Rt(i.nanos,a.nanos)}function Dy(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=fs(i[u],a[u]);if(h)return h}return Rt(i.length,a.length)}function ds(s){return zf(s)}function zf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=fr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return dr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ft.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=zf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${zf(i.fields[d])}`;return u+"}"}(s.mapValue):yt(61005,{value:s})}function xo(s){switch(mr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ic(s);return e?16+xo(e):16;case 5:return 2*s.stringValue.length;case 6:return dr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((u,h)=>u+xo(h),0)}(s.arrayValue);case 10:case 11:return function(a){let u=0;return la(a.fields,(h,d)=>{u+=h.length+xo(d)}),u}(s.mapValue);default:throw yt(13486,{value:s})}}function Vy(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Bf(s){return!!s&&"integerValue"in s}function rd(s){return!!s&&"arrayValue"in s}function Iy(s){return!!s&&"nullValue"in s}function Oy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Uo(s){return!!s&&"mapValue"in s}function K1(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[Y_])===null||i===void 0?void 0:i.stringValue)===F_}function Bl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return la(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Bl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Bl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function Z1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===X1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Uo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(i)}setAll(e){let i=Pe.emptyPath(),a={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,u),a={},u=[],i=g.popLast()}d?a[g.lastSegment()]=Bl(d):u.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());Uo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];Uo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){la(i,(u,h)=>e[u]=h);for(const u of a)delete e[u]}clone(){return new Rn(Bl(this.value))}}function X_(s){const e=[];return la(s.fields,(i,a)=>{const u=new Pe([i]);if(Uo(a)){const h=X_(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,a,u,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ye(e,0,Et.min(),Et.min(),Et.min(),Rn.empty(),0)}static newFoundDocument(e,i,a,u){return new Ye(e,1,i,Et.min(),a,u,0)}static newNoDocument(e,i){return new Ye(e,2,i,Et.min(),Et.min(),Rn.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,Et.min(),Et.min(),Rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,i){this.position=e,this.inclusive=i}}function Ny(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=fs(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function My(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ti(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,i="asc"){this.field=e,this.dir=i}}function $1(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{}class pe extends K_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new W1(e,i,a):i==="array-contains"?new nA(e,a):i==="in"?new iA(e,a):i==="not-in"?new rA(e,a):i==="array-contains-any"?new aA(e,a):new pe(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new tA(e,a):new eA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(fs(i,this.value)):i!==null&&mr(this.value)===mr(i)&&this.matchesComparison(fs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mn extends K_{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new Mn(e,i)}matches(e){return Z_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Z_(s){return s.op==="and"}function $_(s){return J1(s)&&Z_(s)}function J1(s){for(const e of s.filters)if(e instanceof Mn)return!1;return!0}function Pf(s){if(s instanceof pe)return s.field.canonicalString()+s.op.toString()+ds(s.value);if($_(s))return s.filters.map(e=>Pf(e)).join(",");{const e=s.filters.map(i=>Pf(i)).join(",");return`${s.op}(${e})`}}function J_(s,e){return s instanceof pe?function(a,u){return u instanceof pe&&a.op===u.op&&a.field.isEqual(u.field)&&ti(a.value,u.value)}(s,e):s instanceof Mn?function(a,u){return u instanceof Mn&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce((h,d,g)=>h&&J_(d,u.filters[g]),!0):!1}(s,e):void yt(19439)}function W_(s){return s instanceof pe?function(i){return`${i.field.canonicalString()} ${i.op} ${ds(i.value)}`}(s):s instanceof Mn?function(i){return i.op.toString()+" {"+i.getFilters().map(W_).join(" ,")+"}"}(s):"Filter"}class W1 extends pe{constructor(e,i,a){super(e,i,a),this.key=ft.fromName(a.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class tA extends pe{constructor(e,i){super(e,"in",i),this.keys=tv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class eA extends pe{constructor(e,i){super(e,"not-in",i),this.keys=tv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function tv(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ft.fromName(a.referenceValue))}class nA extends pe{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return rd(i)&&Xl(i.arrayValue,this.value)}}class iA extends pe{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Xl(this.value.arrayValue,i)}}class rA extends pe{constructor(e,i){super(e,"not-in",i)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Xl(this.value.arrayValue,i)}}class aA extends pe{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!rd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Xl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,i=null,a=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.Ie=null}}function xy(s,e=null,i=[],a=[],u=null,h=null,d=null){return new sA(s,e,i,a,u,h,d)}function ad(s){const e=At(s);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Pf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),nc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>ds(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>ds(a)).join(",")),e.Ie=i}return e.Ie}function sd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!$1(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!J_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!My(s.startAt,e.startAt)&&My(s.endAt,e.endAt)}function qf(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,i=null,a=[],u=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function lA(s,e,i,a,u,h,d,g){return new Ts(s,e,i,a,u,h,d,g)}function ld(s){return new Ts(s)}function Uy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function ev(s){return s.collectionGroup!==null}function Pl(s){const e=At(s);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Se(Pe.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new Kl(h,a))}),i.has(Pe.keyField().canonicalString())||e.Ee.push(new Kl(Pe.keyField(),a))}return e.Ee}function Jn(s){const e=At(s);return e.de||(e.de=uA(e,Pl(s))),e.de}function uA(s,e){if(s.limitType==="F")return xy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Kl(u.field,h)});const i=s.endAt?new Yo(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Yo(s.startAt.position,s.startAt.inclusive):null;return xy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function kf(s,e){const i=s.filters.concat([e]);return new Ts(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Fo(s,e,i){return new Ts(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function rc(s,e){return sd(Jn(s),Jn(e))&&s.limitType===e.limitType}function nv(s){return`${ad(Jn(s))}|lt:${s.limitType}`}function as(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>W_(u)).join(", ")}]`),nc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>ds(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>ds(u)).join(",")),`Target(${a})`}(Jn(s))}; limitType=${s.limitType})`}function ac(s,e){return e.isFoundDocument()&&function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ft.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,u){for(const h of Pl(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(a,u){return!(a.startAt&&!function(d,g,_){const v=Ny(d,g,_);return d.inclusive?v<=0:v<0}(a.startAt,Pl(a),u)||a.endAt&&!function(d,g,_){const v=Ny(d,g,_);return d.inclusive?v>=0:v>0}(a.endAt,Pl(a),u))}(s,e)}function oA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function iv(s){return(e,i)=>{let a=!1;for(const u of Pl(s)){const h=cA(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function cA(s,e,i){const a=s.field.isKeyField()?ft.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?fs(_,v):yt(42886)}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,(i,a)=>{for(const[u,h]of a)e(u,h)})}isEmpty(){return q_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=new ne(ft.comparator);function Ii(){return hA}const rv=new ne(ft.comparator);function xl(...s){let e=rv;for(const i of s)e=e.insert(i.key,i);return e}function av(s){let e=rv;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function na(){return ql()}function sv(){return ql()}function ql(){return new ua(s=>s.toString(),(s,e)=>s.isEqual(e))}const fA=new ne(ft.comparator),dA=new Se(ft.comparator);function Ot(...s){let e=dA;for(const i of s)e=e.add(i);return e}const mA=new Se(Rt);function gA(){return mA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jo(e)?"-0":e}}function lv(s){return{integerValue:""+s}}function pA(s,e){return j1(e)?lv(e):ud(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(){this._=void 0}}function yA(s,e,i){return s instanceof Zl?function(u,h){const d={fields:{[j_]:{stringValue:H_},[Q_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&id(h)&&(h=ic(h)),h&&(d.fields[G_]=h),{mapValue:d}}(i,e):s instanceof $l?ov(s,e):s instanceof Jl?cv(s,e):function(u,h){const d=uv(u,h),g=Ly(d)+Ly(u.Re);return Bf(d)&&Bf(u.Re)?lv(g):ud(u.serializer,g)}(s,e)}function _A(s,e,i){return s instanceof $l?ov(s,e):s instanceof Jl?cv(s,e):i}function uv(s,e){return s instanceof Xo?function(a){return Bf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Zl extends sc{}class $l extends sc{constructor(e){super(),this.elements=e}}function ov(s,e){const i=hv(e);for(const a of s.elements)i.some(u=>ti(u,a))||i.push(a);return{arrayValue:{values:i}}}class Jl extends sc{constructor(e){super(),this.elements=e}}function cv(s,e){let i=hv(e);for(const a of s.elements)i=i.filter(u=>!ti(u,a));return{arrayValue:{values:i}}}class Xo extends sc{constructor(e,i){super(),this.serializer=e,this.Re=i}}function Ly(s){return ce(s.integerValue||s.doubleValue)}function hv(s){return rd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,i){this.field=e,this.transform=i}}function EA(s,e){return s.field.isEqual(e.field)&&function(a,u){return a instanceof $l&&u instanceof $l||a instanceof Jl&&u instanceof Jl?hs(a.elements,u.elements,ti):a instanceof Xo&&u instanceof Xo?ti(a.Re,u.Re):a instanceof Zl&&u instanceof Zl}(s.transform,e.transform)}class TA{constructor(e,i){this.version=e,this.transformResults=i}}class Ci{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ci}static exists(e){return new Ci(void 0,e)}static updateTime(e){return new Ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class lc{}function fv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new mv(s.key,Ci.none()):new Wl(s.key,s.data,Ci.none());{const i=s.data,a=Rn.empty();let u=new Se(Pe.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new oa(s.key,a,new Nn(u.toArray()),Ci.none())}}function AA(s,e,i){s instanceof Wl?function(u,h,d){const g=u.value.clone(),_=By(u.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,i):s instanceof oa?function(u,h,d){if(!Lo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=By(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(dv(u)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function kl(s,e,i,a){return s instanceof Wl?function(h,d,g,_){if(!Lo(h.precondition,d))return g;const v=h.value.clone(),A=Py(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof oa?function(h,d,g,_){if(!Lo(h.precondition,d))return g;const v=Py(h.fieldTransforms,_,d),A=d.data;return A.setAll(dv(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(C=>C.field))}(s,e,i,a):function(h,d,g){return Lo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,i)}function SA(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=uv(a.transform,u||null);h!=null&&(i===null&&(i=Rn.empty()),i.set(a.field,h))}return i||null}function zy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&hs(a,u,(h,d)=>EA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Wl extends lc{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class oa extends lc{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function dv(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function By(s,e,i){const a=new Map;kt(s.length===i.length,32656,{Ve:i.length,me:s.length});for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,g=e.data.field(h.field);a.set(h.field,_A(d,g,i[u]))}return a}function Py(s,e,i){const a=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);a.set(u.field,yA(h,d,e))}return a}class mv extends lc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bA extends lc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&AA(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=kl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=kl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=sv();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const _=fv(d,g);_!==null&&a.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(Et.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ot())}isEqual(e){return this.batchId===e.batchId&&hs(this.mutations,e.mutations,(i,a)=>zy(i,a))&&hs(this.baseMutations,e.baseMutations,(i,a)=>zy(i,a))}}class od{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){kt(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let u=function(){return fA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new od(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Ut;function DA(s){switch(s){case X.OK:return yt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function gv(s){if(s===void 0)return Vi("GRPC error has no .code"),X.UNKNOWN;switch(s){case ge.OK:return X.OK;case ge.CANCELLED:return X.CANCELLED;case ge.UNKNOWN:return X.UNKNOWN;case ge.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ge.INTERNAL:return X.INTERNAL;case ge.UNAVAILABLE:return X.UNAVAILABLE;case ge.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ge.NOT_FOUND:return X.NOT_FOUND;case ge.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ge.ABORTED:return X.ABORTED;case ge.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ge.DATA_LOSS:return X.DATA_LOSS;default:return yt(39323,{code:s})}}(Ut=ge||(ge={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=new or([4294967295,4294967295],0);function qy(s){const e=z_().encode(s),i=new V_;return i.update(e),new Uint8Array(i.digest())}function ky(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new or([i,a],0),new or([u,h],0)]}class cd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ul(`Invalid padding: ${i}`);if(a<0)throw new Ul(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=or.fromNumber(this.pe)}we(e,i,a){let u=e.add(i.multiply(or.fromNumber(a)));return u.compare(VA)===1&&(u=new or([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=qy(e),[a,u]=ky(i);for(let h=0;h<this.hashCount;h++){const d=this.we(a,u,h);if(!this.be(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new cd(h,u,i);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.pe===0)return;const i=qy(e),[a,u]=ky(i);for(let h=0;h<this.hashCount;h++){const d=this.we(a,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new uc(Et.min(),u,new ne(Rt),Ii(),Ot())}}class tu{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new tu(a,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,i,a,u){this.De=e,this.removedTargetIds=i,this.key=a,this.ve=u}}class pv{constructor(e,i){this.targetId=e,this.Ce=i}}class yv{constructor(e,i,a=qe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class Hy{constructor(){this.Fe=0,this.Me=jy(),this.xe=qe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ot(),i=Ot(),a=Ot();return this.Me.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:yt(38017,{changeType:h})}}),new tu(this.xe,this.Oe,e,i,a)}Qe(){this.Ne=!1,this.Me=jy()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,kt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class IA{constructor(e){this.ze=e,this.je=new Map,this.He=Ii(),this.Je=Oo(),this.Ye=Oo(),this.Ze=new ne(Rt)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const a=this.rt(i);switch(e.state){case 0:this.it(i)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(i);break;case 3:this.it(i)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),a.ke(e.resumeToken));break;default:yt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((a,u)=>{this.it(u)&&i(u)})}ot(e){const i=e.targetId,a=e.Ce.count,u=this._t(i);if(u){const h=u.target;if(qf(h))if(a===0){const d=new ft(h.path);this.tt(i,d,Ye.newNoDocument(d,Et.min()))}else kt(a===1,20013,{expectedCount:a});else{const d=this.ut(i);if(d!==a){const g=this.ct(e),_=g?this.lt(g,e,d):1;if(_!==0){this.st(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=dr(a).toUint8Array()}catch(_){if(_ instanceof k_)return cs("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new cd(d,u,h)}catch(_){return cs(_ instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.pe===0?null:g}lt(e,i,a){return i.Ce.count===a-this.Tt(e,i.targetId)?0:2}Tt(e,i){const a=this.ze.getRemoteKeysForTarget(i);let u=0;return a.forEach(h=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.tt(i,h,null),u++)}),u}It(e){const i=new Map;this.je.forEach((h,d)=>{const g=this._t(d);if(g){if(h.current&&qf(g.target)){const _=new ft(g.target.path);this.Et(_).has(d)||this.dt(d,_)||this.tt(d,_,Ye.newNoDocument(_,e))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let a=Ot();this.Ye.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this._t(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const u=new uc(e,i,this.Ze,this.He,a);return this.He=Ii(),this.Je=Oo(),this.Ye=Oo(),this.Ze=new ne(Rt),u}et(e,i){if(!this.it(e))return;const a=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,a),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,a){if(!this.it(e))return;const u=this.rt(e);this.dt(e,i)?u.$e(i,1):u.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),a&&(this.He=this.He.insert(i,a))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new Hy,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new Se(Rt),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new Se(Rt),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Hy),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function Oo(){return new ne(ft.comparator)}function jy(){return new ne(ft.comparator)}const OA={asc:"ASCENDING",desc:"DESCENDING"},NA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MA={and:"AND",or:"OR"};class xA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Hf(s,e){return s.useProto3Json||nc(e)?e:{value:e}}function Ko(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _v(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function UA(s,e){return Ko(s,e.toTimestamp())}function Wn(s){return kt(!!s,49232),Et.fromTimestamp(function(i){const a=fr(i);return new Ae(a.seconds,a.nanos)}(s))}function hd(s,e){return jf(s,e).canonicalString()}function jf(s,e){const i=function(u){return new Jt(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function vv(s){const e=Jt.fromString(s);return kt(bv(e),10190,{key:e.toString()}),e}function Gf(s,e){return hd(s.databaseId,e.path)}function Rf(s,e){const i=vv(e);if(i.get(1)!==s.databaseId.projectId)throw new st(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new st(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(Tv(i))}function Ev(s,e){return hd(s.databaseId,e)}function LA(s){const e=vv(s);return e.length===4?Jt.emptyPath():Tv(e)}function Qf(s){return new Jt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Tv(s){return kt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Gy(s,e,i){return{name:Gf(s,e),fields:i.value.mapValue.fields}}function zA(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:yt(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(kt(A===void 0||typeof A=="string",58123),qe.fromBase64String(A||"")):(kt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),qe.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const A=v.code===void 0?X.UNKNOWN:gv(v.code);return new st(A,v.message||"")}(d);i=new yv(a,u,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=Rf(s,a.document.name),h=Wn(a.document.updateTime),d=a.document.createTime?Wn(a.document.createTime):Et.min(),g=new Rn({mapValue:{fields:a.document.fields}}),_=Ye.newFoundDocument(u,h,d,g),v=a.targetIds||[],A=a.removedTargetIds||[];i=new zo(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=Rf(s,a.document),h=a.readTime?Wn(a.readTime):Et.min(),d=Ye.newNoDocument(u,h),g=a.removedTargetIds||[];i=new zo([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=Rf(s,a.document),h=a.removedTargetIds||[];i=new zo([],h,u,null)}else{if(!("filter"in e))return yt(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new CA(u,h),g=a.targetId;i=new pv(g,d)}}return i}function BA(s,e){let i;if(e instanceof Wl)i={update:Gy(s,e.key,e.value)};else if(e instanceof mv)i={delete:Gf(s,e.key)};else if(e instanceof oa)i={update:Gy(s,e.key,e.data),updateMask:FA(e.fieldMask)};else{if(!(e instanceof bA))return yt(16599,{ft:e.type});i={verify:Gf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const g=d.transform;if(g instanceof Zl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof $l)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Jl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Xo)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw yt(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:UA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:yt(27497)}(s,e.precondition)),i}function PA(s,e){return s&&s.length>0?(kt(e!==void 0,14353),s.map(i=>function(u,h){let d=u.updateTime?Wn(u.updateTime):Wn(h);return d.isEqual(Et.min())&&(d=Wn(h)),new TA(d,u.transformResults||[])}(i,e))):[]}function qA(s,e){return{documents:[Ev(s,e.path)]}}function kA(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Ev(s,u);const h=function(v){if(v.length!==0)return Sv(Mn.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(O){return{field:ss(O.field),direction:GA(O.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Hf(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{gt:i,parent:u}}function HA(s){let e=LA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){kt(a===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(C){const O=Av(C);return O instanceof Mn&&$_(O)?O.getFilters():[O]}(i.where));let d=[];i.orderBy&&(d=function(C){return C.map(O=>function(K){return new Kl(ls(K.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(K.direction))}(O))}(i.orderBy));let g=null;i.limit&&(g=function(C){let O;return O=typeof C=="object"?C.value:C,nc(O)?null:O}(i.limit));let _=null;i.startAt&&(_=function(C){const O=!!C.before,H=C.values||[];return new Yo(H,O)}(i.startAt));let v=null;return i.endAt&&(v=function(C){const O=!C.before,H=C.values||[];return new Yo(H,O)}(i.endAt)),lA(e,u,d,h,g,"F",_,v)}function jA(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:u})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Av(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ls(i.unaryFilter.field);return pe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=ls(i.unaryFilter.field);return pe.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ls(i.unaryFilter.field);return pe.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ls(i.unaryFilter.field);return pe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}}(s):s.fieldFilter!==void 0?function(i){return pe.create(ls(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return Mn.create(i.compositeFilter.filters.map(a=>Av(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return yt(1026)}}(i.compositeFilter.op))}(s):yt(30097,{filter:s})}function GA(s){return OA[s]}function QA(s){return NA[s]}function YA(s){return MA[s]}function ss(s){return{fieldPath:s.canonicalString()}}function ls(s){return Pe.fromServerFormat(s.fieldPath)}function Sv(s){return s instanceof pe?function(i){if(i.op==="=="){if(Oy(i.value))return{unaryFilter:{field:ss(i.field),op:"IS_NAN"}};if(Iy(i.value))return{unaryFilter:{field:ss(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Oy(i.value))return{unaryFilter:{field:ss(i.field),op:"IS_NOT_NAN"}};if(Iy(i.value))return{unaryFilter:{field:ss(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ss(i.field),op:QA(i.op),value:i.value}}}(s):s instanceof Mn?function(i){const a=i.getFilters().map(u=>Sv(u));return a.length===1?a[0]:{compositeFilter:{op:YA(i.op),filters:a}}}(s):yt(54877,{filter:s})}function FA(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function bv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,i,a,u,h=Et.min(),d=Et.min(),g=qe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.wt=e}}function KA(s){const e=HA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Fo(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.Cn=new $A}addToCollectionParentIndex(e,i){return this.Cn.add(i),F.resolve()}getCollectionParents(e,i){return F.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return F.resolve()}deleteFieldIndex(e,i){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,i){return F.resolve()}getDocumentsMatchingTarget(e,i){return F.resolve(null)}getIndexType(e,i){return F.resolve(0)}getFieldIndexes(e,i){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,i){return F.resolve(hr.min())}getMinOffsetFromCollectionGroup(e,i){return F.resolve(hr.min())}updateCollectionGroup(e,i,a){return F.resolve()}updateIndexEntries(e,i){return F.resolve()}}class $A{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new Se(Jt.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new Se(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rv=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(Rv,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ms(0)}static lr(){return new ms(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="LruGarbageCollector",JA=1048576;function Fy([s,e],[i,a]){const u=Rt(s,i);return u===0?Rt(e,a):u}class WA{constructor(e){this.Er=e,this.buffer=new Se(Fy),this.dr=0}Ar(){return++this.dr}Rr(e){const i=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Fy(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class tS{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){it(Yy,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Es(i)?it(Yy,"Ignoring IndexedDB error during garbage collection: ",i):await vs(i)}await this.mr(3e5)})}}class eS{constructor(e,i){this.gr=e,this.params=i}calculateTargetCount(e,i){return this.gr.pr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return F.resolve(ec.le);const a=new WA(i);return this.gr.forEachTarget(e,u=>a.Rr(u.sequenceNumber)).next(()=>this.gr.yr(e,u=>a.Rr(u))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.gr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.gr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Qy)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qy):this.wr(e,i))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,i){let a,u,h,d,g,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),u=this.params.maximumSequenceNumbersToCollect):u=C,d=Date.now(),this.nthSequenceNumber(e,u))).next(C=>(a=C,g=Date.now(),this.removeTargets(e,a,i))).next(C=>(h=C,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(C=>(v=Date.now(),rs()<=Lt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${C} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:C})))}}function nS(s,e){return new eS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this.changes=new ua(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?F.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(a!==null&&kl(a.mutation,u,Nn.empty(),Ae.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Ot()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Ot()){const u=na();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,a).next(h=>{let d=xl();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=na();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Ot()))}populateOverlays(e,i,a){const u=[];return a.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,a,u){let h=Ii();const d=ql(),g=function(){return ql()}();return i.forEach((_,v)=>{const A=a.get(v.key);u.has(v.key)&&(A===void 0||A.mutation instanceof oa)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),kl(A.mutation,v,A.mutation.getFieldMask(),Ae.now())):d.set(v.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var C;return g.set(v,new rS(A,(C=d.get(v))!==null&&C!==void 0?C:null))}),g))}recalculateAndSaveOverlays(e,i){const a=ql();let u=new ne((d,g)=>d-g),h=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=a.get(_)||Nn.empty();A=g.applyToLocalView(v,A),a.set(_,A);const C=(u.get(g.batchId)||Ot()).add(_);u=u.insert(g.batchId,C)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,C=sv();A.forEach(O=>{if(!h.has(O)){const H=fv(i.get(O),a.get(O));H!==null&&C.set(O,H),h=h.add(O)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,C))}return F.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,u){return function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):ev(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):F.resolve(na());let g=Ql,_=h;return d.next(v=>F.forEach(v,(A,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),h.get(A)?F.resolve():this.remoteDocumentCache.getEntry(e,A).next(O=>{_=_.insert(A,O)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Ot())).next(A=>({batchId:g,changes:av(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next(a=>{let u=xl();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=xl();return this.indexManager.getCollectionParents(e,h).next(g=>F.forEach(g,_=>{const v=function(C,O){return new Ts(O,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,u).next(A=>{A.forEach((C,O)=>{d=d.insert(C,O)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Ye.newInvalidDocument(A)))});let g=xl();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&kl(A.mutation,v,Nn.empty(),Ae.now()),ac(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,i){return F.resolve(this.kr.get(i))}saveBundleMetadata(e,i){return this.kr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:Wn(u.createTime)}}(i)),F.resolve()}getNamedQuery(e,i){return F.resolve(this.qr.get(i))}saveNamedQuery(e,i){return this.qr.set(i.name,function(u){return{name:u.name,query:KA(u.bundledQuery),readTime:Wn(u.readTime)}}(i)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.overlays=new ne(ft.comparator),this.Qr=new Map}getOverlay(e,i){return F.resolve(this.overlays.get(i))}getOverlays(e,i){const a=na();return F.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&a.set(u,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((u,h)=>{this.St(e,i,h)}),F.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.Qr.get(a);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(a)),F.resolve()}getOverlaysForCollection(e,i,a){const u=na(),h=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&u.set(_.getKey(),_)}return F.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new ne((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=h.get(v.largestBatchId);A===null&&(A=na(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=na(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=u)););return F.resolve(g)}St(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.Qr.get(u.largestBatchId).delete(a.key);this.Qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new wA(i,a));let h=this.Qr.get(i);h===void 0&&(h=Ot(),this.Qr.set(i,h)),this.Qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this.$r=new Se(Oe.Ur),this.Kr=new Se(Oe.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,i){const a=new Oe(e,i);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.zr(new Oe(e,i))}jr(e,i){e.forEach(a=>this.removeReference(a,i))}Hr(e){const i=new ft(new Jt([])),a=new Oe(i,e),u=new Oe(i,e+1),h=[];return this.Kr.forEachInRange([a,u],d=>{this.zr(d),h.push(d.key)}),h}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const i=new ft(new Jt([])),a=new Oe(i,e),u=new Oe(i,e+1);let h=Ot();return this.Kr.forEachInRange([a,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Oe(e,0),a=this.$r.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Oe{constructor(e,i){this.key=e,this.Zr=i}static Ur(e,i){return ft.comparator(e.key,i.key)||Rt(e.Zr,i.Zr)}static Wr(e,i){return Rt(e.Zr,i.Zr)||ft.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new Se(Oe.Ur)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new RA(h,i,a,u);this.mutationQueue.push(d);for(const g of u)this.Xr=this.Xr.add(new Oe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return F.resolve(d)}lookupMutationBatch(e,i){return F.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.ti(a),h=u<0?0:u;return F.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?nd:this.nr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Oe(i,0),u=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([a,u],d=>{const g=this.ei(d.Zr);h.push(g)}),F.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Se(Rt);return i.forEach(u=>{const h=new Oe(u,0),d=new Oe(u,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,d],g=>{a=a.add(g.Zr)})}),F.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;ft.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new ft(h),0);let g=new Se(Rt);return this.Xr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===u&&(g=g.add(_.Zr)),!0)},d),F.resolve(this.ni(g))}ni(e){const i=[];return e.forEach(a=>{const u=this.ei(a);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){kt(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return F.forEach(i.mutations,u=>{const h=new Oe(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Xr=a})}sr(e){}containsKey(e,i){const a=new Oe(i,0),u=this.Xr.firstAfterOrEqual(a);return F.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ri(e,i){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const i=this.ti(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e){this.ii=e,this.docs=function(){return new ne(ft.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.ii(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return F.resolve(a?a.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let a=Ii();return i.forEach(u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():Ye.newInvalidDocument(u))}),F.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=Ii();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||P1(B1(A),a)<=0||(u.has(A.key)||ac(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return F.resolve(h)}getAllFromCollectionGroup(e,i,a,u){yt(9500)}si(e,i){return F.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new hS(this)}getSize(e){return F.resolve(this.size)}}class hS extends iS{constructor(e){super(),this.Br=e}applyChanges(e){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.Br.addEntry(e,u)):this.Br.removeEntry(a)}),F.waitFor(i)}getFromCache(e,i){return this.Br.getEntry(e,i)}getAllFromCache(e,i){return this.Br.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.persistence=e,this.oi=new ua(i=>ad(i),sd),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this._i=0,this.ai=new fd,this.targetCount=0,this.ui=ms.cr()}forEachTarget(e,i){return this.oi.forEach((a,u)=>i(u)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this._i&&(this._i=i),F.resolve()}Tr(e){this.oi.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ui=new ms(i),this.highestTargetId=i),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,i){return this.Tr(i),this.targetCount+=1,F.resolve()}updateTargetData(e,i){return this.Tr(i),F.resolve()}removeTargetData(e,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.oi.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),F.waitFor(h).next(()=>u)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,i){const a=this.oi.get(i)||null;return F.resolve(a)}addMatchingKeys(e,i,a){return this.ai.Gr(i,a),F.resolve()}removeMatchingKeys(e,i,a){this.ai.jr(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),F.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ai.Hr(i),F.resolve()}getMatchingKeysForTargetId(e,i){const a=this.ai.Yr(i);return F.resolve(a)}containsKey(e,i){return F.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,i){this.ci={},this.overlays={},this.li=new ec(0),this.hi=!1,this.hi=!0,this.Pi=new uS,this.referenceDelegate=e(this),this.Ti=new fS(this),this.indexManager=new ZA,this.remoteDocumentCache=function(u){return new cS(u)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new XA(i),this.Ei=new sS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new lS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ci[e.toKey()];return a||(a=new oS(i,this.referenceDelegate),this.ci[e.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,i,a){it("MemoryPersistence","Starting transaction:",e);const u=new dS(this.li.next());return this.referenceDelegate.di(),a(u).next(h=>this.referenceDelegate.Ai(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ri(e,i){return F.or(Object.values(this.ci).map(a=>()=>a.containsKey(e,i)))}}class dS extends k1{constructor(e){super(),this.currentSequenceNumber=e}}class dd{constructor(e){this.persistence=e,this.Vi=new fd,this.mi=null}static fi(e){return new dd(e)}get gi(){if(this.mi)return this.mi;throw yt(60996)}addReference(e,i,a){return this.Vi.addReference(a,i),this.gi.delete(a.toString()),F.resolve()}removeReference(e,i,a){return this.Vi.removeReference(a,i),this.gi.add(a.toString()),F.resolve()}markPotentiallyOrphaned(e,i){return this.gi.add(i.toString()),F.resolve()}removeTarget(e,i){this.Vi.Hr(i.targetId).forEach(u=>this.gi.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.gi.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}di(){this.mi=new Set}Ai(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.gi,a=>{const u=ft.fromPath(a);return this.pi(e,u).next(h=>{h||i.removeEntry(u,Et.min())})}).next(()=>(this.mi=null,i.apply(e)))}updateLimboDocument(e,i){return this.pi(e,i).next(a=>{a?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(e){return 0}pi(e,i){return F.or([()=>F.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ri(e,i)])}}class Zo{constructor(e,i){this.persistence=e,this.yi=new ua(a=>G1(a.path),(a,u)=>a.isEqual(u)),this.garbageCollector=nS(this,i)}static fi(e,i){return new Zo(e,i)}di(){}Ai(e){return F.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}pr(e){const i=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(u=>a+u))}br(e){let i=0;return this.yr(e,a=>{i++}).next(()=>i)}yr(e,i){return F.forEach(this.yi,(a,u)=>this.Dr(e,a,u).next(h=>h?F.resolve():i(u)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.si(e,d=>this.Dr(e,d,i).next(g=>{g||(a++,h.removeEntry(d,Et.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.yi.set(i,e.currentSequenceNumber),F.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.yi.set(a,e.currentSequenceNumber),F.resolve()}removeReference(e,i,a){return this.yi.set(a,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,i){return this.yi.set(i,e.currentSequenceNumber),F.resolve()}Ii(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=xo(e.data.value)),i}Dr(e,i,a){return F.or([()=>this.persistence.Ri(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.yi.get(i);return F.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.ds=a,this.As=u}static Rs(e,i){let a=Ot(),u=Ot();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new md(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return uT()?8:H1(sT())>0?6:4}()}initialize(e,i){this.ys=e,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.ws(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.bs(e,i,u,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new mS;return this.Ss(e,i,d).next(g=>{if(h.result=g,this.fs)return this.Ds(e,i,d,g.size)})}).next(()=>h.result)}Ds(e,i,a,u){return a.documentReadCount<this.gs?(rs()<=Lt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",as(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),F.resolve()):(rs()<=Lt.DEBUG&&it("QueryEngine","Query:",as(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.ps*u?(rs()<=Lt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",as(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(i))):F.resolve())}ws(e,i){if(Uy(i))return F.resolve(null);let a=Jn(i);return this.indexManager.getIndexType(e,a).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Fo(i,null,"F"),a=Jn(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Ot(...h);return this.ys.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.vs(i,g);return this.Cs(i,v,d,_.readTime)?this.ws(e,Fo(i,null,"F")):this.Fs(e,v,i,_)}))})))}bs(e,i,a,u){return Uy(i)||u.isEqual(Et.min())?F.resolve(null):this.ys.getDocuments(e,a).next(h=>{const d=this.vs(i,h);return this.Cs(i,d,a,u)?F.resolve(null):(rs()<=Lt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),as(i)),this.Fs(e,d,i,z1(u,Ql)).next(g=>g))})}vs(e,i){let a=new Se(iv(e));return i.forEach((u,h)=>{ac(e,h)&&(a=a.add(h))}),a}Cs(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(e,i,a){return rs()<=Lt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",as(i)),this.ys.getDocumentsMatchingQuery(e,i,hr.min(),a)}Fs(e,i,a,u){return this.ys.getDocumentsMatchingQuery(e,a,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd="LocalStore",pS=3e8;class yS{constructor(e,i,a,u){this.persistence=e,this.Ms=i,this.serializer=u,this.xs=new ne(Rt),this.Os=new ua(h=>ad(h),sd),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(a)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aS(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.xs))}}function _S(s,e,i,a){return new yS(s,e,i,a)}async function Cv(s,e){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(h=>(u=h,i.Ls(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],g=[];let _=Ot();for(const v of u){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next(v=>({ks:v,removedBatchIds:d,addedBatchIds:g}))})})}function vS(s,e){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),h=i.Bs.newChangeBuffer({trackRemovals:!0});return function(g,_,v,A){const C=v.batch,O=C.keys();let H=F.resolve();return O.forEach(K=>{H=H.next(()=>A.getEntry(_,K)).next(tt=>{const $=v.docVersions.get(K);kt($!==null,48541),tt.version.compareTo($)<0&&(C.applyToRemoteDocument(tt,v),tt.isValidDocument()&&(tt.setReadTime(v.commitVersion),A.addEntry(tt)))})}),H.next(()=>g.mutationQueue.removeMutationBatch(_,C))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let _=Ot();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,u))})}function Dv(s){const e=At(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ti.getLastRemoteSnapshotVersion(i))}function ES(s,e){const i=At(s),a=e.snapshotVersion;let u=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Bs.newChangeBuffer({trackRemovals:!0});u=i.xs;const g=[];e.targetChanges.forEach((A,C)=>{const O=u.get(C);if(!O)return;g.push(i.Ti.removeMatchingKeys(h,A.removedDocuments,C).next(()=>i.Ti.addMatchingKeys(h,A.addedDocuments,C)));let H=O.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(C)!==null?H=H.withResumeToken(qe.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,a)),u=u.insert(C,H),function(tt,$,pt){return tt.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=pS?!0:pt.addedDocuments.size+pt.modifiedDocuments.size+pt.removedDocuments.size>0}(O,H,A)&&g.push(i.Ti.updateTargetData(h,H))});let _=Ii(),v=Ot();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(TS(h,d,e.documentUpdates).next(A=>{_=A.qs,v=A.Qs})),!a.isEqual(Et.min())){const A=i.Ti.getLastRemoteSnapshotVersion(h).next(C=>i.Ti.setTargetsMetadata(h,h.currentSequenceNumber,a));g.push(A)}return F.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.xs=u,h))}function TS(s,e,i){let a=Ot(),u=Ot();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=Ii();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(g)),_.isNoDocument()&&_.version.isEqual(Et.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):it(gd,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{qs:d,Qs:u}})}function AS(s,e){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=nd),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function SS(s,e){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Ti.getTargetData(a,e).next(h=>h?(u=h,F.resolve(u)):i.Ti.allocateTargetId(a).next(d=>(u=new sr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Ti.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.xs.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.xs=i.xs.insert(a.targetId,a),i.Os.set(e,a.targetId)),a})}async function Yf(s,e,i){const a=At(s),u=a.xs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!Es(d))throw d;it(gd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.xs=a.xs.remove(e),a.Os.delete(u.target)}function Xy(s,e,i){const a=At(s);let u=Et.min(),h=Ot();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const C=At(_),O=C.Os.get(A);return O!==void 0?F.resolve(C.xs.get(O)):C.Ti.getTargetData(v,A)}(a,d,Jn(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>a.Ms.getDocumentsMatchingQuery(d,e,i?u:Et.min(),i?h:Ot())).next(g=>(bS(a,oA(e),g),{documents:g,$s:h})))}function bS(s,e,i){let a=s.Ns.get(e)||Et.min();i.forEach((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Ns.set(e,a)}class Ky{constructor(){this.activeTargetIds=gA()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RS{constructor(){this.xo=new Ky,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,i,a){this.Oo[e]=i}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Ky,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="ConnectivityMonitor";class $y{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){it(Zy,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){it(Zy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No=null;function Ff(){return No===null?No=function(){return 268435456+Math.round(2147483648*Math.random())}():No++,"0x"+No.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="RestConnection",CS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DS{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+e.host,this.Wo=`projects/${a}/databases/${u}`,this.Go=this.databaseId.database===Go?`project_id=${a}`:`project_id=${a}&database_id=${u}`}zo(e,i,a,u,h){const d=Ff(),g=this.jo(e,i.toUriEncodedString());it(wf,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(_,u,h);const{host:v}=new URL(g),A=Wf(v);return this.Jo(e,g,_,a,A).then(C=>(it(wf,`Received RPC '${e}' ${d}: `,C),C),C=>{throw cs(wf,`RPC '${e}' ${d} failed with error: `,C,"url: ",g,"request:",a),C})}Yo(e,i,a,u,h,d){return this.zo(e,i,a,u,h)}Ho(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_s}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),a&&a.headers.forEach((u,h)=>e[h]=u)}jo(e,i){const a=CS[e];return`${this.Ko}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class IS extends DS{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,u,h){const d=Ff();return new Promise((g,_)=>{const v=new I_;v.setWithCredentials(!0),v.listenOnce(O_.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Mo.NO_ERROR:const C=v.getResponseJson();it(Ge,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(C)),g(C);break;case Mo.TIMEOUT:it(Ge,`RPC '${e}' ${d} timed out`),_(new st(X.DEADLINE_EXCEEDED,"Request time out"));break;case Mo.HTTP_ERROR:const O=v.getStatus();if(it(Ge,`RPC '${e}' ${d} failed with status:`,O,"response text:",v.getResponseText()),O>0){let H=v.getResponseJson();Array.isArray(H)&&(H=H[0]);const K=H==null?void 0:H.error;if(K&&K.status&&K.message){const tt=function(pt){const ut=pt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ut)>=0?ut:X.UNKNOWN}(K.status);_(new st(tt,K.message))}else _(new st(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new st(X.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{h_:e,streamId:d,P_:v.getLastErrorCode(),T_:v.getLastError()})}}finally{it(Ge,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(u);it(Ge,`RPC '${e}' ${d} sending request:`,u),v.send(i,"POST",A,a,15)})}I_(e,i,a){const u=Ff(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=x_(),g=M_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Ho(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=h.join("");it(Ge,`Creating RPC '${e}' stream ${u}: ${A}`,_);const C=d.createWebChannel(A,_);this.E_(C);let O=!1,H=!1;const K=new VS({Zo:$=>{H?it(Ge,`Not sending because RPC '${e}' stream ${u} is closed:`,$):(O||(it(Ge,`Opening RPC '${e}' stream ${u} transport.`),C.open(),O=!0),it(Ge,`RPC '${e}' stream ${u} sending:`,$),C.send($))},Xo:()=>C.close()}),tt=($,pt,ut)=>{$.listen(pt,rt=>{try{ut(rt)}catch(Tt){setTimeout(()=>{throw Tt},0)}})};return tt(C,Ml.EventType.OPEN,()=>{H||(it(Ge,`RPC '${e}' stream ${u} transport opened.`),K.__())}),tt(C,Ml.EventType.CLOSE,()=>{H||(H=!0,it(Ge,`RPC '${e}' stream ${u} transport closed`),K.u_(),this.d_(C))}),tt(C,Ml.EventType.ERROR,$=>{H||(H=!0,cs(Ge,`RPC '${e}' stream ${u} transport errored. Name:`,$.name,"Message:",$.message),K.u_(new st(X.UNAVAILABLE,"The operation could not be completed")))}),tt(C,Ml.EventType.MESSAGE,$=>{var pt;if(!H){const ut=$.data[0];kt(!!ut,16349);const rt=ut,Tt=(rt==null?void 0:rt.error)||((pt=rt[0])===null||pt===void 0?void 0:pt.error);if(Tt){it(Ge,`RPC '${e}' stream ${u} received error:`,Tt);const ct=Tt.status;let ot=function(R){const N=ge[R];if(N!==void 0)return gv(N)}(ct),V=Tt.message;ot===void 0&&(ot=X.INTERNAL,V="Unknown error status: "+ct+" with message "+Tt.message),H=!0,K.u_(new st(ot,V)),C.close()}else it(Ge,`RPC '${e}' stream ${u} received:`,ut),K.c_(ut)}}),tt(g,N_.STAT_EVENT,$=>{$.stat===Uf.PROXY?it(Ge,`RPC '${e}' stream ${u} detected buffering proxy`):$.stat===Uf.NOPROXY&&it(Ge,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{K.a_()},0),K}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(i=>i===e)}}function Cf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(s){return new xA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,i,a=1e3,u=1.5,h=6e4){this.xi=e,this.timerId=i,this.A_=a,this.R_=u,this.V_=h,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const i=Math.floor(this.m_+this.w_()),a=Math.max(0,Date.now()-this.g_),u=Math.max(0,i-a);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.m_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,u,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="PersistentStream";class Iv{constructor(e,i,a,u,h,d,g,_){this.xi=e,this.S_=a,this.D_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Vv(e,i)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,i){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Vi(i.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(i)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),i=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.v_===i&&this.z_(a,u)},a=>{e(()=>{const u=new st(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.j_(u)})})}z_(e,i){const a=this.G_(this.v_);this.stream=this.H_(e,i),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(u=>{a(()=>this.j_(u))}),this.stream.onMessage(u=>{a(()=>++this.M_==1?this.J_(u):this.onNext(u))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return it(Jy,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return i=>{this.xi.enqueueAndForget(()=>this.v_===e?i():(it(Jy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OS extends Iv{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}H_(e,i){return this.connection.I_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const i=zA(this.serializer,e),a=function(h){if(!("targetChange"in h))return Et.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?Wn(d.readTime):Et.min()}(e);return this.listener.Y_(i,a)}Z_(e){const i={};i.database=Qf(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=qf(_)?{documents:qA(h,_)}:{query:kA(h,_).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=_v(h,d.resumeToken);const v=Hf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=Ko(h,d.snapshotVersion.toTimestamp());const v=Hf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const a=jA(this.serializer,e);a&&(i.labels=a),this.Q_(i)}X_(e){const i={};i.database=Qf(this.serializer),i.removeTarget=e,this.Q_(i)}}class NS extends Iv{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,i){return this.connection.I_("Write",e,i)}J_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const i=PA(e.writeResults,e.commitTime),a=Wn(e.commitTime);return this.listener.ra(a,i)}ia(){const e={};e.database=Qf(this.serializer),this.Q_(e)}ta(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>BA(this.serializer,a))};this.Q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{}class xS extends MS{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.sa=!1}oa(){if(this.sa)throw new st(X.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,i,a,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.zo(e,jf(i,a),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new st(X.UNKNOWN,h.toString())})}Yo(e,i,a,u,h){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(e,jf(i,a),u,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(X.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class US{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Vi(i),this.ua=!1):it("OnlineStateTracker",i)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="RemoteStore";class LS{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=h,this.Ra.No(d=>{a.enqueueAndForget(async()=>{ca(this)&&(it(sa,"Restarting streams for network reachability change."),await async function(_){const v=At(_);v.da.add(4),await eu(v),v.Va.set("Unknown"),v.da.delete(4),await cc(v)}(this))})}),this.Va=new US(a,u)}}async function cc(s){if(ca(s))for(const e of s.Aa)await e(!0)}async function eu(s){for(const e of s.Aa)await e(!1)}function Ov(s,e){const i=At(s);i.Ea.has(e.targetId)||(i.Ea.set(e.targetId,e),vd(i)?_d(i):As(i).N_()&&yd(i,e))}function pd(s,e){const i=At(s),a=As(i);i.Ea.delete(e),a.N_()&&Nv(i,e),i.Ea.size===0&&(a.N_()?a.k_():ca(i)&&i.Va.set("Unknown"))}function yd(s,e){if(s.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}As(s).Z_(e)}function Nv(s,e){s.ma.Ke(e),As(s).X_(e)}function _d(s){s.ma=new IA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>s.Ea.get(e)||null,Pt:()=>s.datastore.serializer.databaseId}),As(s).start(),s.Va.ca()}function vd(s){return ca(s)&&!As(s).O_()&&s.Ea.size>0}function ca(s){return At(s).da.size===0}function Mv(s){s.ma=void 0}async function zS(s){s.Va.set("Online")}async function BS(s){s.Ea.forEach((e,i)=>{yd(s,e)})}async function PS(s,e){Mv(s),vd(s)?(s.Va.Pa(e),_d(s)):s.Va.set("Unknown")}async function qS(s,e,i){if(s.Va.set("Online"),e instanceof yv&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const g of h.targetIds)u.Ea.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.Ea.delete(g),u.ma.removeTarget(g))}(s,e)}catch(a){it(sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await $o(s,a)}else if(e instanceof zo?s.ma.Xe(e):e instanceof pv?s.ma.ot(e):s.ma.nt(e),!i.isEqual(Et.min()))try{const a=await Dv(s.localStore);i.compareTo(a)>=0&&await function(h,d){const g=h.ma.It(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.Ea.get(v);A&&h.Ea.set(v,A.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const A=h.Ea.get(_);if(!A)return;h.Ea.set(_,A.withResumeToken(qe.EMPTY_BYTE_STRING,A.snapshotVersion)),Nv(h,_);const C=new sr(A.target,_,v,A.sequenceNumber);yd(h,C)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(a){it(sa,"Failed to raise snapshot:",a),await $o(s,a)}}async function $o(s,e,i){if(!Es(e))throw e;s.da.add(1),await eu(s),s.Va.set("Offline"),i||(i=()=>Dv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{it(sa,"Retrying IndexedDB access"),await i(),s.da.delete(1),await cc(s)})}function xv(s,e){return e().catch(i=>$o(s,i,e))}async function hc(s){const e=At(s),i=gr(e);let a=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:nd;for(;kS(e);)try{const u=await AS(e.localStore,a);if(u===null){e.Ia.length===0&&i.k_();break}a=u.batchId,HS(e,u)}catch(u){await $o(e,u)}Uv(e)&&Lv(e)}function kS(s){return ca(s)&&s.Ia.length<10}function HS(s,e){s.Ia.push(e);const i=gr(s);i.N_()&&i.ea&&i.ta(e.mutations)}function Uv(s){return ca(s)&&!gr(s).O_()&&s.Ia.length>0}function Lv(s){gr(s).start()}async function jS(s){gr(s).ia()}async function GS(s){const e=gr(s);for(const i of s.Ia)e.ta(i.mutations)}async function QS(s,e,i){const a=s.Ia.shift(),u=od.from(a,e,i);await xv(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await hc(s)}async function YS(s,e){e&&gr(s).ea&&await async function(a,u){if(function(d){return DA(d)&&d!==X.ABORTED}(u.code)){const h=a.Ia.shift();gr(a).L_(),await xv(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u)),await hc(a)}}(s,e),Uv(s)&&Lv(s)}async function Wy(s,e){const i=At(s);i.asyncQueue.verifyOperationInProgress(),it(sa,"RemoteStore received new credentials");const a=ca(i);i.da.add(3),await eu(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.da.delete(3),await cc(i)}async function FS(s,e){const i=At(s);e?(i.da.delete(2),await cc(i)):e||(i.da.add(2),await eu(i),i.Va.set("Unknown"))}function As(s){return s.fa||(s.fa=function(i,a,u){const h=At(i);return h.oa(),new OS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{e_:zS.bind(null,s),n_:BS.bind(null,s),i_:PS.bind(null,s),Y_:qS.bind(null,s)}),s.Aa.push(async e=>{e?(s.fa.L_(),vd(s)?_d(s):s.Va.set("Unknown")):(await s.fa.stop(),Mv(s))})),s.fa}function gr(s){return s.ga||(s.ga=function(i,a,u){const h=At(i);return h.oa(),new NS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{e_:()=>Promise.resolve(),n_:jS.bind(null,s),i_:YS.bind(null,s),na:GS.bind(null,s),ra:QS.bind(null,s)}),s.Aa.push(async e=>{e?(s.ga.L_(),await hc(s)):(await s.ga.stop(),s.Ia.length>0&&(it(sa,`Stopping write stream with ${s.Ia.length} pending writes`),s.Ia=[]))})),s.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,g=new Ed(e,i,d,u,h);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Td(s,e){if(Vi("AsyncQueue",`${e}: ${s}`),Es(s))return new st(X.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{static emptySet(e){return new os(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=xl(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof os)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new os;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(){this.pa=new ne(ft.comparator)}track(e){const i=e.doc.key,a=this.pa.get(i);a?e.type!==0&&a.type===3?this.pa=this.pa.insert(i,e):e.type===3&&a.type!==1?this.pa=this.pa.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.pa=this.pa.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.pa=this.pa.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.pa=this.pa.remove(i):e.type===1&&a.type===2?this.pa=this.pa.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.pa=this.pa.insert(i,{type:2,doc:e.doc}):yt(63341,{Vt:e,ya:a}):this.pa=this.pa.insert(i,e)}wa(){const e=[];return this.pa.inorderTraversal((i,a)=>{e.push(a)}),e}}class gs{constructor(e,i,a,u,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new gs(e,i,os.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class KS{constructor(){this.queries=e_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const u=At(i),h=u.queries;u.queries=e_(),h.forEach((d,g)=>{for(const _ of g.Sa)_.onError(a)})})(this,new st(X.ABORTED,"Firestore shutting down"))}}function e_(){return new ua(s=>nv(s),rc)}async function ZS(s,e){const i=At(s);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.Da()&&e.va()&&(a=2):(h=new XS,a=e.va()?0:1);try{switch(a){case 0:h.ba=await i.onListen(u,!0);break;case 1:h.ba=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=Td(d,`Initialization of query '${as(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.Sa.push(e),e.Fa(i.onlineState),h.ba&&e.Ma(h.ba)&&Ad(i)}async function $S(s,e){const i=At(s),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?u=e.va()?0:1:!h.Da()&&e.va()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function JS(s,e){const i=At(s);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Ma(u)&&(a=!0);d.ba=u}}a&&Ad(i)}function WS(s,e,i){const a=At(s),u=a.queries.get(e);if(u)for(const h of u.Sa)h.onError(i);a.queries.delete(e)}function Ad(s){s.Ca.forEach(e=>{e.next()})}var Xf,n_;(n_=Xf||(Xf={})).xa="default",n_.Cache="cache";class t2{constructor(e,i,a){this.query=e,this.Oa=i,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=a||{}}Ma(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new gs(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Na?this.La(e)&&(this.Oa.next(e),i=!0):this.ka(e,this.onlineState)&&(this.qa(e),i=!0),this.Ba=e,i}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let i=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),i=!0),i}ka(e,i){if(!e.fromCache||!this.va())return!0;const a=i!=="Offline";return(!this.options.Qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}La(e){if(e.docChanges.length>0)return!0;const i=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}qa(e){e=gs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Xf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e){this.key=e}}class Bv{constructor(e){this.key=e}}class e2{constructor(e,i){this.query=e,this.Ha=i,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ot(),this.mutatedKeys=Ot(),this.Za=iv(e),this.Xa=new os(this.Za)}get eu(){return this.Ha}tu(e,i){const a=i?i.nu:new t_,u=i?i.Xa:this.Xa;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,C)=>{const O=u.get(A),H=ac(this.query,C)?C:null,K=!!O&&this.mutatedKeys.has(O.key),tt=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let $=!1;O&&H?O.data.isEqual(H.data)?K!==tt&&(a.track({type:3,doc:H}),$=!0):this.ru(O,H)||(a.track({type:2,doc:H}),$=!0,(_&&this.Za(H,_)>0||v&&this.Za(H,v)<0)&&(g=!0)):!O&&H?(a.track({type:0,doc:H}),$=!0):O&&!H&&(a.track({type:1,doc:O}),$=!0,(_||v)&&(g=!0)),$&&(H?(d=d.add(H),h=tt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{Xa:d,nu:a,Cs:g,mutatedKeys:h}}ru(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const d=e.nu.wa();d.sort((A,C)=>function(H,K){const tt=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Vt:$})}};return tt(H)-tt(K)}(A.type,C.type)||this.Za(A.doc,C.doc)),this.iu(a),u=u!=null&&u;const g=i&&!u?this.su():[],_=this.Ya.size===0&&this.current&&!u?1:0,v=_!==this.Ja;return this.Ja=_,d.length!==0||v?{snapshot:new gs(this.query,e.Xa,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),ou:g}:{ou:g}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new t_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ot(),this.Xa.forEach(a=>{this._u(a.key)&&(this.Ya=this.Ya.add(a.key))});const i=[];return e.forEach(a=>{this.Ya.has(a)||i.push(new Bv(a))}),this.Ya.forEach(a=>{e.has(a)||i.push(new zv(a))}),i}au(e){this.Ha=e.$s,this.Ya=Ot();const i=this.tu(e.documents);return this.applyChanges(i,!0)}uu(){return gs.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Sd="SyncEngine";class n2{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class i2{constructor(e){this.key=e,this.cu=!1}}class r2{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new ua(g=>nv(g),rc),this.Pu=new Map,this.Tu=new Set,this.Iu=new ne(ft.comparator),this.Eu=new Map,this.du=new fd,this.Au={},this.Ru=new Map,this.Vu=ms.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function a2(s,e,i=!0){const a=Gv(s);let u;const h=a.hu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.uu()):u=await Pv(a,e,i,!0),u}async function s2(s,e){const i=Gv(s);await Pv(i,e,!0,!1)}async function Pv(s,e,i,a){const u=await SS(s.localStore,Jn(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await l2(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&Ov(s.remoteStore,u),g}async function l2(s,e,i,a,u){s.fu=(C,O,H)=>async function(tt,$,pt,ut){let rt=$.view.tu(pt);rt.Cs&&(rt=await Xy(tt.localStore,$.query,!1).then(({documents:V})=>$.view.tu(V,rt)));const Tt=ut&&ut.targetChanges.get($.targetId),ct=ut&&ut.targetMismatches.get($.targetId)!=null,ot=$.view.applyChanges(rt,tt.isPrimaryClient,Tt,ct);return r_(tt,$.targetId,ot.ou),ot.snapshot}(s,C,O,H);const h=await Xy(s.localStore,e,!0),d=new e2(e,h.$s),g=d.tu(h.documents),_=tu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),v=d.applyChanges(g,s.isPrimaryClient,_);r_(s,i,v.ou);const A=new n2(e,i,d);return s.hu.set(e,A),s.Pu.has(i)?s.Pu.get(i).push(e):s.Pu.set(i,[e]),v.snapshot}async function u2(s,e,i){const a=At(s),u=a.hu.get(e),h=a.Pu.get(u.targetId);if(h.length>1)return a.Pu.set(u.targetId,h.filter(d=>!rc(d,e))),void a.hu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await Yf(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&pd(a.remoteStore,u.targetId),Kf(a,u.targetId)}).catch(vs)):(Kf(a,u.targetId),await Yf(a.localStore,u.targetId,!0))}async function o2(s,e){const i=At(s),a=i.hu.get(e),u=i.Pu.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),pd(i.remoteStore,a.targetId))}async function c2(s,e,i){const a=y2(s);try{const u=await function(d,g){const _=At(d),v=Ae.now(),A=g.reduce((H,K)=>H.add(K.key),Ot());let C,O;return _.persistence.runTransaction("Locally write mutations","readwrite",H=>{let K=Ii(),tt=Ot();return _.Bs.getEntries(H,A).next($=>{K=$,K.forEach((pt,ut)=>{ut.isValidDocument()||(tt=tt.add(pt))})}).next(()=>_.localDocuments.getOverlayedDocuments(H,K)).next($=>{C=$;const pt=[];for(const ut of g){const rt=SA(ut,C.get(ut.key).overlayedDocument);rt!=null&&pt.push(new oa(ut.key,rt,X_(rt.value.mapValue),Ci.exists(!0)))}return _.mutationQueue.addMutationBatch(H,v,pt,g)}).next($=>{O=$;const pt=$.applyToLocalDocumentSet(C,tt);return _.documentOverlayCache.saveOverlays(H,$.batchId,pt)})}).then(()=>({batchId:O.batchId,changes:av(C)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(d,g,_){let v=d.Au[d.currentUser.toKey()];v||(v=new ne(Rt)),v=v.insert(g,_),d.Au[d.currentUser.toKey()]=v}(a,u.batchId,i),await nu(a,u.changes),await hc(a.remoteStore)}catch(u){const h=Td(u,"Failed to persist write");i.reject(h)}}async function qv(s,e){const i=At(s);try{const a=await ES(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Eu.get(h);d&&(kt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.cu=!0:u.modifiedDocuments.size>0?kt(d.cu,14607):u.removedDocuments.size>0&&(kt(d.cu,42227),d.cu=!1))}),await nu(i,a,e)}catch(a){await vs(a)}}function i_(s,e,i){const a=At(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.hu.forEach((h,d)=>{const g=d.view.Fa(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const _=At(d);_.onlineState=g;let v=!1;_.queries.forEach((A,C)=>{for(const O of C.Sa)O.Fa(g)&&(v=!0)}),v&&Ad(_)}(a.eventManager,e),u.length&&a.lu.Y_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function h2(s,e,i){const a=At(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Eu.get(e),h=u&&u.key;if(h){let d=new ne(ft.comparator);d=d.insert(h,Ye.newNoDocument(h,Et.min()));const g=Ot().add(h),_=new uc(Et.min(),new Map,new ne(Rt),d,g);await qv(a,_),a.Iu=a.Iu.remove(h),a.Eu.delete(e),bd(a)}else await Yf(a.localStore,e,!1).then(()=>Kf(a,e,i)).catch(vs)}async function f2(s,e){const i=At(s),a=e.batch.batchId;try{const u=await vS(i.localStore,e);Hv(i,a,null),kv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await nu(i,u)}catch(u){await vs(u)}}async function d2(s,e,i){const a=At(s);try{const u=await function(d,g){const _=At(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next(C=>(kt(C!==null,37113),A=C.keys(),_.mutationQueue.removeMutationBatch(v,C))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(a.localStore,e);Hv(a,e,i),kv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await nu(a,u)}catch(u){await vs(u)}}function kv(s,e){(s.Ru.get(e)||[]).forEach(i=>{i.resolve()}),s.Ru.delete(e)}function Hv(s,e,i){const a=At(s);let u=a.Au[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Au[a.currentUser.toKey()]=u}}function Kf(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Pu.get(e))s.hu.delete(a),i&&s.lu.gu(a,i);s.Pu.delete(e),s.isPrimaryClient&&s.du.Hr(e).forEach(a=>{s.du.containsKey(a)||jv(s,a)})}function jv(s,e){s.Tu.delete(e.path.canonicalString());const i=s.Iu.get(e);i!==null&&(pd(s.remoteStore,i),s.Iu=s.Iu.remove(e),s.Eu.delete(i),bd(s))}function r_(s,e,i){for(const a of i)a instanceof zv?(s.du.addReference(a.key,e),m2(s,a)):a instanceof Bv?(it(Sd,"Document no longer in limbo: "+a.key),s.du.removeReference(a.key,e),s.du.containsKey(a.key)||jv(s,a.key)):yt(19791,{pu:a})}function m2(s,e){const i=e.key,a=i.path.canonicalString();s.Iu.get(i)||s.Tu.has(a)||(it(Sd,"New document in limbo: "+i),s.Tu.add(a),bd(s))}function bd(s){for(;s.Tu.size>0&&s.Iu.size<s.maxConcurrentLimboResolutions;){const e=s.Tu.values().next().value;s.Tu.delete(e);const i=new ft(Jt.fromString(e)),a=s.Vu.next();s.Eu.set(a,new i2(i)),s.Iu=s.Iu.insert(i,a),Ov(s.remoteStore,new sr(Jn(ld(i.path)),a,"TargetPurposeLimboResolution",ec.le))}}async function nu(s,e,i){const a=At(s),u=[],h=[],d=[];a.hu.isEmpty()||(a.hu.forEach((g,_)=>{d.push(a.fu(_,e,i).then(v=>{var A;if((v||i)&&a.isPrimaryClient){const C=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(_.targetId,C?"current":"not-current")}if(v){u.push(v);const C=md.Rs(_.targetId,v);h.push(C)}}))}),await Promise.all(d),a.lu.Y_(u),await async function(_,v){const A=At(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>F.forEach(v,O=>F.forEach(O.ds,H=>A.persistence.referenceDelegate.addReference(C,O.targetId,H)).next(()=>F.forEach(O.As,H=>A.persistence.referenceDelegate.removeReference(C,O.targetId,H)))))}catch(C){if(!Es(C))throw C;it(gd,"Failed to update sequence numbers: "+C)}for(const C of v){const O=C.targetId;if(!C.fromCache){const H=A.xs.get(O),K=H.snapshotVersion,tt=H.withLastLimboFreeSnapshotVersion(K);A.xs=A.xs.insert(O,tt)}}}(a.localStore,h))}async function g2(s,e){const i=At(s);if(!i.currentUser.isEqual(e)){it(Sd,"User change. New user:",e.toKey());const a=await Cv(i.localStore,e);i.currentUser=e,function(h,d){h.Ru.forEach(g=>{g.forEach(_=>{_.reject(new st(X.CANCELLED,d))})}),h.Ru.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await nu(i,a.ks)}}function p2(s,e){const i=At(s),a=i.Eu.get(e);if(a&&a.cu)return Ot().add(a.key);{let u=Ot();const h=i.Pu.get(e);if(!h)return u;for(const d of h){const g=i.hu.get(d);u=u.unionWith(g.view.eu)}return u}}function Gv(s){const e=At(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=qv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h2.bind(null,e),e.lu.Y_=JS.bind(null,e.eventManager),e.lu.gu=WS.bind(null,e.eventManager),e}function y2(s){const e=At(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d2.bind(null,e),e}class Jo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=oc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,i){return null}Cu(e,i){return null}Du(e){return _S(this.persistence,new gS,e.initialUser,this.serializer)}Su(e){return new wv(dd.fi,this.serializer)}bu(e){return new RS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jo.provider={build:()=>new Jo};class _2 extends Jo{constructor(e){super(),this.cacheSizeBytes=e}vu(e,i){kt(this.persistence.referenceDelegate instanceof Zo,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new tS(a,e.asyncQueue,i)}Su(e){const i=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new wv(a=>Zo.fi(a,i),this.serializer)}}class Zf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>i_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=g2.bind(null,this.syncEngine),await FS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KS}()}createDatastore(e){const i=oc(e.databaseInfo.databaseId),a=function(h){return new IS(h)}(e.databaseInfo);return function(h,d,g,_){return new xS(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,u,h,d,g){return new LS(a,u,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>i_(this.syncEngine,i,0),function(){return $y.C()?new $y:new wS}())}createSyncEngine(e,i){return function(u,h,d,g,_,v,A){const C=new r2(u,h,d,g,_,v);return A&&(C.mu=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=At(u);it(sa,"RemoteStore shutting down."),h.da.add(5),await eu(h),h.Ra.shutdown(),h.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Zf.provider={build:()=>new Zf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="FirestoreClient";class E2{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=Qe.UNAUTHENTICATED,this.clientId=B_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{it(pr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(it(pr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Td(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Df(s,e){s.asyncQueue.verifyOperationInProgress(),it(pr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async u=>{a.isEqual(u)||(await Cv(e.localStore,u),a=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function a_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await T2(s);it(pr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>Wy(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,u)=>Wy(e.remoteStore,u)),s._onlineComponents=e}async function T2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(pr,"Using user provided OfflineComponentProvider");try{await Df(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===X.FAILED_PRECONDITION||u.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;cs("Error using user provided cache. Falling back to memory cache: "+i),await Df(s,new Jo)}}else it(pr,"Using default OfflineComponentProvider"),await Df(s,new _2(void 0));return s._offlineComponents}async function Qv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(pr,"Using user provided OnlineComponentProvider"),await a_(s,s._uninitializedComponentsProvider._online)):(it(pr,"Using default OnlineComponentProvider"),await a_(s,new Zf))),s._onlineComponents}function A2(s){return Qv(s).then(e=>e.syncEngine)}async function s_(s){const e=await Qv(s),i=e.eventManager;return i.onListen=a2.bind(null,e.syncEngine),i.onUnlisten=u2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=s2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=o2.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(s,e,i){if(!i)throw new st(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function S2(s,e,i,a){if(e===!0&&a===!0)throw new st(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function u_(s){if(!ft.isDocumentKey(s))throw new st(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function o_(s){if(ft.isDocumentKey(s))throw new st(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function fc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function Hl(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new st(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=fc(s);throw new st(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="firestore.googleapis.com",c_=!0;class h_{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new st(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xv,this.ssl=c_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:c_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Rv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JA)throw new st(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}S2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yv((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,u){return a.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dc{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new D1;switch(a.type){case"firstParty":return new N1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new st(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=l_.get(i);a&&(it("ComponentProvider","Removing Datastore"),l_.delete(i),a.terminate())}(this),Promise.resolve()}}function b2(s,e,i,a={}){var u;s=Hl(s,dc);const h=Wf(e),d=s._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),_=`${e}:${i}`;h&&(eT(`https://${_}`),aT("Firestore",!0)),d.host!==Xv&&d.host!==_&&cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:_,ssl:h,emulatorOptions:a});if(!qo(v,g)&&(s._setSettings(v),a.mockUserToken)){let A,C;if(typeof a.mockUserToken=="string")A=a.mockUserToken,C=Qe.MOCK_USER;else{A=nT(a.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const O=a.mockUserToken.sub||a.mockUserToken.user_id;if(!O)throw new st(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new Qe(O)}s._authCredentials=new V1(new L_(A,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new yr(this.firestore,e,this._query)}}class hn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class cr extends yr{constructor(e,i,a){super(e,i,ld(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new ft(e))}withConverter(e){return new cr(this.firestore,e,this._path)}}function Kv(s,e,...i){if(s=ra(s),Fv("collection","path",e),s instanceof dc){const a=Jt.fromString(e,...i);return o_(a),new cr(s,null,a)}{if(!(s instanceof hn||s instanceof cr))throw new st(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Jt.fromString(e,...i));return o_(a),new cr(s.firestore,null,a)}}function R2(s,e,...i){if(s=ra(s),arguments.length===1&&(e=B_.newId()),Fv("doc","path",e),s instanceof dc){const a=Jt.fromString(e,...i);return u_(a),new hn(s,null,new ft(a))}{if(!(s instanceof hn||s instanceof cr))throw new st(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Jt.fromString(e,...i));return u_(a),new hn(s.firestore,s instanceof cr?s.converter:null,new ft(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="AsyncQueue";class d_{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Vv(this,"async_queue_retry"),this.rc=()=>{const a=Cf();a&&it(f_,"Visibility state changed to "+a.visibilityState),this.x_.b_()},this.sc=e;const i=Cf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const i=Cf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const i=new ia;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Es(e))throw e;it(f_,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const i=this.sc.then(()=>(this.ec=!0,e().catch(a=>{throw this.Xu=a,this.ec=!1,Vi("INTERNAL UNHANDLED ERROR: ",m_(a)),a}).then(a=>(this.ec=!1,a))));return this.sc=i,i}enqueueAfterDelay(e,i,a){this.oc(),this.nc.indexOf(e)>-1&&(i=0);const u=Ed.createAndSchedule(this,e,i,a,h=>this.uc(h));return this.Zu.push(u),u}oc(){this.Xu&&yt(47125,{cc:m_(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const i of this.Zu)if(i.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.Zu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const i=this.Zu.indexOf(e);this.Zu.splice(i,1)}}function m_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(s){return function(i,a){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of a)if(h in u&&typeof u[h]=="function")return!0;return!1}(s,["next","error","complete"])}class Wo extends dc{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new d_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new d_(e),this._firestoreClient=void 0,await e}}}function w2(s,e){const i=typeof s=="object"?s:g1(),a=typeof s=="string"?s:Go,u=c1(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=WE("firestore");h&&b2(u,...h)}return u}function Zv(s){if(s._terminated)throw new st(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||C2(s),s._firestoreClient}function C2(s){var e,i,a;const u=s._freezeSettings(),h=function(g,_,v,A){return new F1(g,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Yv(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=u.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new E2(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ps(qe.fromBase64String(e))}catch(i){throw new st(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ps(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new st(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new st(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new st(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rt(this._lat,e._lat)||Rt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=/^__.*__$/;class V2{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new oa(e,this.data,this.fieldMask,i,this.fieldTransforms):new Wl(e,this.data,i,this.fieldTransforms)}}function $v(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ic:s})}}class Vd{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Ec(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Vd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.dc({path:a,Rc:!1});return u.Vc(e),u}mc(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.dc({path:a,Rc:!1});return u.Ec(),u}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return tc(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if($v(this.Ic)&&D2.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class I2{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||oc(e)}bc(e,i,a,u=!1){return new Vd({Ic:e,methodName:i,wc:a,path:Pe.emptyPath(),Rc:!1,yc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jv(s){const e=s._freezeSettings(),i=oc(s._databaseId);return new I2(s._databaseId,!!e.ignoreUndefinedProperties,i)}function O2(s,e,i,a,u,h={}){const d=s.bc(h.merge||h.mergeFields?2:0,e,i,u);e0("Data must be an object, but it was:",d,a);const g=Wv(a,d);let _,v;if(h.merge)_=new Nn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const C of h.mergeFields){const O=M2(e,C,i);if(!d.contains(O))throw new st(X.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);U2(A,O)||A.push(O)}_=new Nn(A),v=d.fieldTransforms.filter(C=>_.covers(C.field))}else _=null,v=d.fieldTransforms;return new V2(new Rn(g),_,v)}class Id extends wd{_toFieldTransform(e){return new vA(e.path,new Zl)}isEqual(e){return e instanceof Id}}function N2(s,e,i,a=!1){return Od(i,s.bc(a?4:3,e))}function Od(s,e){if(t0(s=ra(s)))return e0("Unsupported field value:",e,s),Wv(s,e);if(s instanceof wd)return function(a,u){if(!$v(u.Ic))throw u.gc(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.gc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(a,u){const h=[];let d=0;for(const g of a){let _=Od(g,u.fc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,u){if((a=ra(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return pA(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Ae.fromDate(a);return{timestampValue:Ko(u.serializer,h)}}if(a instanceof Ae){const h=new Ae(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Ko(u.serializer,h)}}if(a instanceof Cd)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ps)return{bytesValue:_v(u.serializer,a._byteString)};if(a instanceof hn){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.gc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:hd(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof Dd)return function(d,g){return{mapValue:{fields:{[Y_]:{stringValue:F_},[Qo]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.gc("VectorValues must only contain numeric values.");return ud(g.serializer,v)})}}}}}}(a,u);throw u.gc(`Unsupported field value: ${fc(a)}`)}(s,e)}function Wv(s,e){const i={};return q_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(s,(a,u)=>{const h=Od(u,e.Ac(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function t0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ae||s instanceof Cd||s instanceof ps||s instanceof hn||s instanceof wd||s instanceof Dd)}function e0(s,e,i){if(!t0(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const a=fc(i);throw a==="an object"?e.gc(s+" a custom object"):e.gc(s+" "+a)}}function M2(s,e,i){if((e=ra(e))instanceof Rd)return e._internalPath;if(typeof e=="string")return n0(s,e);throw tc("Field path arguments must be of type string or ",s,!1,void 0,i)}const x2=new RegExp("[~\\*/\\[\\]]");function n0(s,e,i){if(e.search(x2)>=0)throw tc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Rd(...e.split("."))._internalPath}catch{throw tc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function tc(s,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${u}`),_+=")"),new st(X.INVALID_ARGUMENT,g+s+_)}function U2(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new L2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Nd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class L2 extends i0{data(){return super.data()}}function Nd(s,e){return typeof e=="string"?n0(s,e):e instanceof Rd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new st(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Md{}class xd extends Md{}function B2(s,e,...i){let a=[];e instanceof Md&&a.push(e),a=a.concat(i),function(h){const d=h.filter(_=>_ instanceof Ld).length,g=h.filter(_=>_ instanceof Ud).length;if(d>1||d>0&&g>0)throw new st(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const u of a)s=u._apply(s);return s}class Ud extends xd{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Ud(e,i,a)}_apply(e){const i=this._parse(e);return r0(e._query,i),new yr(e.firestore,e.converter,kf(e._query,i))}_parse(e){const i=Jv(e.firestore);return function(h,d,g,_,v,A,C){let O;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new st(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){y_(C,A);const K=[];for(const tt of C)K.push(p_(_,h,tt));O={arrayValue:{values:K}}}else O=p_(_,h,C)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||y_(C,A),O=N2(g,d,C,A==="in"||A==="not-in");return pe.create(v,A,O)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Ld extends Md{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Ld(e,i)}_parse(e){const i=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return i.length===1?i[0]:Mn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(u,h){let d=u;const g=h.getFlattenedFilters();for(const _ of g)r0(d,_),d=kf(d,_)}(e._query,i),new yr(e.firestore,e.converter,kf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zd extends xd{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new zd(e,i)}_apply(e){const i=function(u,h,d){if(u.startAt!==null)throw new st(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(u.endAt!==null)throw new st(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Kl(h,d)}(e._query,this._field,this._direction);return new yr(e.firestore,e.converter,function(u,h){const d=u.explicitOrderBy.concat([h]);return new Ts(u.path,u.collectionGroup,d,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,i))}}function Vf(s,e="asc"){const i=e,a=Nd("orderBy",s);return zd._create(a,i)}class Bd extends xd{constructor(e,i,a){super(),this.type=e,this._limit=i,this._limitType=a}static _create(e,i,a){return new Bd(e,i,a)}_apply(e){return new yr(e.firestore,e.converter,Fo(e._query,this._limit,this._limitType))}}function P2(s){return Bd._create("limit",s,"F")}function p_(s,e,i){if(typeof(i=ra(i))=="string"){if(i==="")throw new st(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ev(e)&&i.indexOf("/")!==-1)throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(Jt.fromString(i));if(!ft.isDocumentKey(a))throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Vy(s,new ft(a))}if(i instanceof hn)return Vy(s,i._key);throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fc(i)}.`)}function y_(s,e){if(!Array.isArray(s)||s.length===0)throw new st(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function r0(s,e){const i=function(u,h){for(const d of u)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new st(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new st(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class q2{convertValue(e,i="none"){switch(mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw yt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return la(e,(u,h)=>{a[u]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,u;const h=(u=(a=(i=e.fields)===null||i===void 0?void 0:i[Qo].arrayValue)===null||a===void 0?void 0:a.values)===null||u===void 0?void 0:u.map(d=>ce(d.doubleValue));return new Dd(h)}convertGeoPoint(e){return new Cd(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=ic(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const i=fr(e);return new Ae(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Jt.fromString(e);kt(bv(a),9688,{name:e});const u=new Fl(a.get(1),a.get(3)),h=new ft(a.popFirst(5));return u.isEqual(i)||Vi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(s,e,i){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class a0 extends i0{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Bo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Nd("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Bo extends a0{data(e={}){return super.data(e)}}class H2{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Ll(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Bo(this._firestore,this._userDataWriter,a.key,a,new Ll(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const _=new Bo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Ll(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new Bo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Ll(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:j2(g.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function j2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}class s0 extends q2{constructor(e){super(),this.firestore=e}convertBytes(e){return new ps(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,i)}}function G2(s,e){const i=Hl(s.firestore,Wo),a=R2(s),u=k2(s.converter,e);return Y2(i,[O2(Jv(s.firestore),"addDoc",a._key,u,s.converter!==null,{}).toMutation(a._key,Ci.exists(!1))]).then(()=>a)}function Q2(s,...e){var i,a,u;s=ra(s);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||g_(e[d])||(h=e[d],d++);const g={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(g_(e[d])){const C=e[d];e[d]=(i=C.next)===null||i===void 0?void 0:i.bind(C),e[d+1]=(a=C.error)===null||a===void 0?void 0:a.bind(C),e[d+2]=(u=C.complete)===null||u===void 0?void 0:u.bind(C)}let _,v,A;if(s instanceof hn)v=Hl(s.firestore,Wo),A=ld(s._key.path),_={next:C=>{e[d]&&e[d](F2(v,s,C))},error:e[d+1],complete:e[d+2]};else{const C=Hl(s,yr);v=Hl(C.firestore,Wo),A=C._query;const O=new s0(v);_={next:H=>{e[d]&&e[d](new H2(v,O,C,H))},error:e[d+1],complete:e[d+2]},z2(s._query)}return function(O,H,K,tt){const $=new v2(tt),pt=new t2(H,$,K);return O.asyncQueue.enqueueAndForget(async()=>ZS(await s_(O),pt)),()=>{$.xu(),O.asyncQueue.enqueueAndForget(async()=>$S(await s_(O),pt))}}(Zv(v),A,g,_)}function Y2(s,e){return function(a,u){const h=new ia;return a.asyncQueue.enqueueAndForget(async()=>c2(await A2(a),u,h)),h.promise}(Zv(s),e)}function F2(s,e,i){const a=i.docs.get(e._key),u=new s0(s);return new a0(s,u,e._key,a,new Ll(i.hasPendingWrites,i.fromCache),e.converter)}function X2(){return new Id("serverTimestamp")}(function(e,i=!0){(function(u){_s=u})(m1),Ho(new jl("firestore",(a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new Wo(new I1(a.getProvider("auth-internal")),new M1(d,a.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new st(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(v.options.projectId,A)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),us(yy,_y,e),us(yy,_y,"esm2017")})();const K2={apiKey:"AIzaSyB21Av_D4_B3c7IkDtUCIWVWzOP3H5O6Bw",authDomain:"gamepikachucopilot.firebaseapp.com",projectId:"gamepikachucopilot",storageBucket:"gamepikachucopilot.firebasestorage.app",messagingSenderId:"305795418140",appId:"1:305795418140:web:19f4a9e264ba7eb313b7d9",measurementId:"G-4FN5BYQ0QK"},Z2=w_(K2),l0=w2(Z2);function $2({onSubmit:s}){const[e,i]=Ie.useState(""),a=u=>{u.preventDefault(),e.trim()&&s(e.trim())};return Dt.jsxs("form",{className:"player-form",onSubmit:a,children:[Dt.jsx("label",{htmlFor:"player-name",children:"Nhập tên của bạn:"}),Dt.jsx("input",{id:"player-name",type:"text",value:e,onChange:u=>i(u.target.value),maxLength:20,required:!0,autoFocus:!0}),Dt.jsx("button",{type:"submit",children:"Bắt đầu"})]})}function J2({level:s}){const[e,i]=Ie.useState([]);return Ie.useEffect(()=>{const a=B2(Kv(l0,"leaderboard"),Vf("level","asc"),Vf("score","desc"),Vf("time","asc"),P2(20)),u=Q2(a,h=>{i(h.docs.map(d=>d.data()))});return()=>u()},[s]),Dt.jsxs("div",{className:"leaderboard",children:[Dt.jsx("h3",{children:"Bảng xếp hạng"}),Dt.jsxs("table",{children:[Dt.jsx("thead",{children:Dt.jsxs("tr",{children:[Dt.jsx("th",{children:"Hạng"}),Dt.jsx("th",{children:"Tên"}),Dt.jsx("th",{children:"Level"}),Dt.jsx("th",{children:"Điểm"}),Dt.jsx("th",{children:"Thời gian (s)"})]})}),Dt.jsx("tbody",{children:e.map((a,u)=>Dt.jsxs("tr",{children:[Dt.jsx("td",{children:u+1}),Dt.jsx("td",{children:a.name}),Dt.jsx("td",{children:a.level}),Dt.jsx("td",{children:a.score}),Dt.jsx("td",{children:a.time})]},u))})]})]})}const is=[{rows:6,cols:8,types:8,time:60},{rows:8,cols:12,types:16,time:80},{rows:10,cols:18,types:36,time:120},{rows:12,cols:20,types:48,time:150},{rows:14,cols:24,types:72,time:180},{rows:16,cols:28,types:100,time:210},{rows:18,cols:32,types:128,time:240},{rows:20,cols:36,types:160,time:270},{rows:22,cols:40,types:200,time:300},{rows:24,cols:44,types:256,time:360}];function W2(s){return s.map(e=>({v:e,s:Math.random()})).sort((e,i)=>e.s-i.s).map(({v:e})=>e)}function __({rows:s,cols:e,types:i}){const a=(s-2)*(e-2),u=[];for(let g=0;g<a/2;g++){const _=g%i+1;u.push(_,_)}const h=W2(u);return Array.from({length:s},(g,_)=>Array.from({length:e},(v,A)=>_===0||_===s-1||A===0||A===e-1?0:h.pop()))}function tb(){const[s,e]=Ie.useState(null),[i,a]=Ie.useState(0),[u,h]=Ie.useState(null),[d,g]=Ie.useState([]),[_,v]=Ie.useState(0),[A,C]=Ie.useState(is[0].time),[O,H]=Ie.useState(!1),[K,tt]=Ie.useState(!1),[$,pt]=Ie.useState(null),[ut,rt]=Ie.useState({});Ie.useEffect(()=>{s&&(h(__(is[i])),v(0),g([]),C(is[i].time),H(!1),tt(!1),pt(Date.now()))},[s,i]),Ie.useEffect(()=>{if(!s||O||K)return;if(A<=0){H(!0);return}const ot=setTimeout(()=>C(V=>V-1),1e3);return()=>clearTimeout(ot)},[A,s,O,K]);const Tt=(ot,V)=>{if(!(!u||u[V][ot]===0||O||K)){if(d.length===0)g([{x:ot,y:V}]);else if(d.length===1){const[S]=d;if(S.x===ot&&S.y===V)return;if(u[S.y][S.x]!==u[V][ot]){rt({[`${ot}-${V}`]:"wrong",[`${S.x}-${S.y}`]:"wrong"}),setTimeout(()=>rt({}),400),g([{x:ot,y:V}]);return}if(HE(u,S.x,S.y,ot,V)){rt({[`${ot}-${V}`]:"correct",[`${S.x}-${S.y}`]:"correct"}),setTimeout(()=>rt({}),400);const R=u.map((N,M)=>N.map((x,w)=>w===S.x&&M===S.y||w===ot&&M===V?0:x));h(R),v(N=>N+1),g([])}else rt({[`${ot}-${V}`]:"wrong",[`${S.x}-${S.y}`]:"wrong"}),setTimeout(()=>rt({}),400),g([])}}};Ie.useEffect(()=>{O&&audioRefs.lose.current&&audioRefs.lose.current.play(),K&&audioRefs.win.current&&audioRefs.win.current.play()},[O,K]),Ie.useEffect(()=>{if(!(!u||O||K)&&u.flat().every(ot=>ot===0)){tt(!0);const ot=Math.max(0,Math.floor((Date.now()-$)/1e3));G2(Kv(l0,"leaderboard"),{name:s,level:i+1,score:_,time:ot,created:X2()})}},[u,O,K,s,i,_,$]);const ct=()=>{h(__(is[i])),v(0),g([]),C(is[i].time),H(!1),tt(!1),pt(Date.now())};return s?Dt.jsxs("div",{className:"pikachu-container",children:[Dt.jsx("h2",{children:"Pikachu (Onet) Game - Pokemon Edition"}),Dt.jsxs("div",{className:"score",children:["Level: ",i+1," | Score: ",_," | Thời gian: ",A,"s"]}),Dt.jsx(J2,{level:i+1}),O&&Dt.jsxs("div",{className:"win-message",children:["Hết thời gian! ",Dt.jsx("button",{onClick:ct,children:"Chơi lại"})]}),K&&Dt.jsxs("div",{className:"win-message",children:["🎉 Hoàn thành level ",i+1,"! ",Dt.jsx("button",{onClick:()=>a(ot=>Math.min(ot+1,is.length-1)),children:"Tiếp tục"})]}),Dt.jsx("div",{className:"pikachu-board",children:u&&u.map((ot,V)=>ot.map((S,R)=>{if(S===0)return Dt.jsx("div",{className:"cell empty"},R+"-"+V);const N=d.some(x=>x.x===R&&x.y===V),M=ut[`${R}-${V}`];return Dt.jsx("div",{className:`cell${N?" selected":""}${M?` ${M}`:""}`,onClick:()=>Tt(R,V),tabIndex:0,children:Dt.jsx("img",{src:`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${S}.png`,alt:"pokemon-"+S})},R+"-"+V)}))}),Dt.jsx("button",{className:"restart-btn",onClick:ct,children:"Restart"})]}):Dt.jsx($2,{onSubmit:e})}function eb(){return Dt.jsx(tb,{})}kE.createRoot(document.getElementById("root")).render(Dt.jsx(Ie.StrictMode,{children:Dt.jsx(eb,{})}));
